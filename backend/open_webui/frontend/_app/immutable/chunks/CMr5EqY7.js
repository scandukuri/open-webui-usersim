import{S as Te,i as Ne,s as Ve,H as fe,I as _e,C as X,l as q,D as W,p as R,E as K,g as G,K as me,q as T,r as M,d as v,F as x,v as He,k as Be,e as y,t as $,c as I,a as V,b as ee,T as ae,f as h,h as g,L as he,G as Z,j as te,y as J,u as Q,X as de,n as ne,m as ge,x as Se,z as Oe,A as Ae,B as qe,U as pe}from"./BsAB9Z30.js";import{e as ve,u as Re,o as Ge}from"./BjVHJN9o.js";import"./IHki7fMi.js";import{t as Me}from"./DQjSdZ1e.js";import{d as ce}from"./I1CDPYOB.js";import{l as Fe,f as ue,h as Xe}from"./C06TgqeF.js";import{d as We}from"./B26fW9V3.js";import{M as Ke}from"./C_R67QgC.js";import{T as ze}from"./cMkWkffq.js";import{C as xe}from"./B3qUBvVu.js";import{S as je}from"./CbQmQGdd.js";import{L as Ye}from"./LNJKunkS.js";import{X as Ze}from"./CubwYUHd.js";import{C as oe}from"./Cbzj8oLO.js";import{C as Pe}from"./BjfKCu6r.js";import{g as Je}from"./CTvQvU3N.js";import{g as Qe}from"./Px_ajtSr.js";const $e=n=>({}),be=n=>({});function ke(n,e,l){const t=n.slice();return t[34]=e[l],t[36]=l,t}function we(n){let e,l,t,s,r,a;return t=new Ze({props:{className:"size-3",strokeWidth:"2"}}),{c(){e=y("div"),l=y("button"),X(t.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var i=V(e);l=I(i,"BUTTON",{class:!0});var p=V(l);W(t.$$.fragment,p),p.forEach(v),i.forEach(v),this.h()},h(){h(l,"class","p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),h(e,"class","self-center pl-1.5 pr-1 translate-y-[0.5px] rounded-l-xl bg-transparent")},m(u,i){G(u,e,i),g(e,l),K(t,l,null),s=!0,r||(a=Z(l,"click",n[25]),r=!0)},p:ne,i(u){s||(T(t.$$.fragment,u),s=!0)},o(u){M(t.$$.fragment,u),s=!1},d(u){u&&v(e),x(t),r=!1,a()}}}function et(n){let e,l,t;return l=new je({props:{className:"size-5"}}),{c(){e=y("div"),X(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var r=V(e);W(l.$$.fragment,r),r.forEach(v),this.h()},h(){h(e,"class","w-full h-full flex justify-center items-center min-h-20")},m(s,r){G(s,e,r),K(l,e,null),t=!0},p:ne,i(s){t||(T(l.$$.fragment,s),t=!0)},o(s){M(l.$$.fragment,s),t=!1},d(s){s&&v(e),x(l)}}}function tt(n){let e,l,t,s,r=[],a=new Map,u,i,p,_=n[6].length>0&&ye(n),o=n[6].length===0&&Ie(n),w=ve(n[6]);const N=f=>f[34].id;for(let f=0;f<w.length;f+=1){let m=ke(n,w,f),E=N(m);a.set(E,r[f]=Ce(E,m))}let b=!n[7]&&n[9]&&Ue(n),c=n[1]===""&&De(n);return{c(){e=y("div"),_&&_.c(),l=q(),t=y("div"),o&&o.c(),s=q();for(let f=0;f<r.length;f+=1)r[f].c();u=q(),b&&b.c(),i=q(),c&&c.c(),this.h()},l(f){e=I(f,"DIV",{class:!0});var m=V(e);_&&_.l(m),l=R(m),t=I(m,"DIV",{class:!0});var E=V(t);o&&o.l(E),s=R(E);for(let z=0;z<r.length;z+=1)r[z].l(E);u=R(E),b&&b.l(E),E.forEach(v),i=R(m),c&&c.l(m),m.forEach(v),this.h()},h(){h(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),h(e,"class","w-full")},m(f,m){G(f,e,m),_&&_.m(e,null),g(e,l),g(e,t),o&&o.m(t,null),g(t,s);for(let E=0;E<r.length;E+=1)r[E]&&r[E].m(t,null);g(t,u),b&&b.m(t,null),g(e,i),c&&c.m(e,null),p=!0},p(f,m){f[6].length>0?_?(_.p(f,m),m[0]&64&&T(_,1)):(_=ye(f),_.c(),T(_,1),_.m(e,l)):_&&(J(),M(_,1,1,()=>{_=null}),Q()),f[6].length===0?o?o.p(f,m):(o=Ie(f),o.c(),o.m(t,s)):o&&(o.d(1),o=null),m[0]&27745&&(w=ve(f[6]),J(),r=Re(r,m,N,1,f,w,a,t,Ge,Ce,u,ke),Q()),!f[7]&&f[9]?b?(b.p(f,m),m[0]&640&&T(b,1)):(b=Ue(f),b.c(),T(b,1),b.m(t,null)):b&&(J(),M(b,1,1,()=>{b=null}),Q()),f[1]===""?c?(c.p(f,m),m[0]&2&&T(c,1)):(c=De(f),c.c(),T(c,1),c.m(e,null)):c&&(J(),M(c,1,1,()=>{c=null}),Q())},i(f){if(!p){T(_);for(let m=0;m<w.length;m+=1)T(r[m]);T(b),T(c),p=!0}},o(f){M(_);for(let m=0;m<r.length;m+=1)M(r[m]);M(b),M(c),p=!1},d(f){f&&v(e),_&&_.d(),o&&o.d();for(let m=0;m<r.length;m+=1)r[m].d();b&&b.d(),c&&c.d()}}}function ye(n){let e,l,t,s=n[14].t("Title")+"",r,a,u,i,p,_,o,w=n[14].t("Updated at")+"",N,b,c,f,m,E,z;const P=[st,lt],H=[];function U(j,d){return j[2]==="title"?0:1}u=U(n),i=H[u]=P[u](n);const D=[it,at],A=[];function B(j,d){return j[2]==="updated_at"?0:1}return c=B(n),f=A[c]=D[c](n),{c(){e=y("div"),l=y("button"),t=y("div"),r=$(s),a=q(),i.c(),p=q(),_=y("button"),o=y("div"),N=$(w),b=q(),f.c(),this.h()},l(j){e=I(j,"DIV",{class:!0});var d=V(e);l=I(d,"BUTTON",{class:!0});var k=V(l);t=I(k,"DIV",{class:!0});var L=V(t);r=ee(L,s),a=R(L),i.l(L),L.forEach(v),k.forEach(v),p=R(d),_=I(d,"BUTTON",{class:!0});var S=V(_);o=I(S,"DIV",{class:!0});var O=V(o);N=ee(O,w),b=R(O),f.l(O),O.forEach(v),S.forEach(v),d.forEach(v),this.h()},h(){h(t,"class","flex gap-1.5 items-center"),h(l,"class","px-1.5 py-1 cursor-pointer select-none basis-3/5"),h(o,"class","flex gap-1.5 items-center"),h(_,"class","px-1.5 py-1 cursor-pointer select-none hidden sm:flex sm:basis-2/5 justify-end"),h(e,"class","flex text-xs font-medium mb-1.5")},m(j,d){G(j,e,d),g(e,l),g(l,t),g(t,r),g(t,a),H[u].m(t,null),g(e,p),g(e,_),g(_,o),g(o,N),g(o,b),A[c].m(o,null),m=!0,E||(z=[Z(l,"click",n[26]),Z(_,"click",n[27])],E=!0)},p(j,d){(!m||d[0]&16384)&&s!==(s=j[14].t("Title")+"")&&te(r,s);let k=u;u=U(j),u===k?H[u].p(j,d):(J(),M(H[k],1,1,()=>{H[k]=null}),Q(),i=H[u],i?i.p(j,d):(i=H[u]=P[u](j),i.c()),T(i,1),i.m(t,null)),(!m||d[0]&16384)&&w!==(w=j[14].t("Updated at")+"")&&te(N,w);let L=c;c=B(j),c===L?A[c].p(j,d):(J(),M(A[L],1,1,()=>{A[L]=null}),Q(),f=A[c],f?f.p(j,d):(f=A[c]=D[c](j),f.c()),T(f,1),f.m(o,null))},i(j){m||(T(i),T(f),m=!0)},o(j){M(i),M(f),m=!1},d(j){j&&v(e),H[u].d(),A[c].d(),E=!1,de(z)}}}function lt(n){let e,l,t;return l=new oe({props:{className:"size-2"}}),{c(){e=y("span"),X(l.$$.fragment),this.h()},l(s){e=I(s,"SPAN",{class:!0});var r=V(e);W(l.$$.fragment,r),r.forEach(v),this.h()},h(){h(e,"class","invisible")},m(s,r){G(s,e,r),K(l,e,null),t=!0},p:ne,i(s){t||(T(l.$$.fragment,s),t=!0)},o(s){M(l.$$.fragment,s),t=!1},d(s){s&&v(e),x(l)}}}function st(n){let e,l,t,s;const r=[nt,rt],a=[];function u(i,p){return i[3]==="asc"?0:1}return l=u(n),t=a[l]=r[l](n),{c(){e=y("span"),t.c(),this.h()},l(i){e=I(i,"SPAN",{class:!0});var p=V(e);t.l(p),p.forEach(v),this.h()},h(){h(e,"class","font-normal")},m(i,p){G(i,e,p),a[l].m(e,null),s=!0},p(i,p){let _=l;l=u(i),l!==_&&(J(),M(a[_],1,1,()=>{a[_]=null}),Q(),t=a[l],t||(t=a[l]=r[l](i),t.c()),T(t,1),t.m(e,null))},i(i){s||(T(t),s=!0)},o(i){M(t),s=!1},d(i){i&&v(e),a[l].d()}}}function rt(n){let e,l;return e=new Pe({props:{className:"size-2"}}),{c(){X(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function nt(n){let e,l;return e=new oe({props:{className:"size-2"}}),{c(){X(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function at(n){let e,l,t;return l=new oe({props:{className:"size-2"}}),{c(){e=y("span"),X(l.$$.fragment),this.h()},l(s){e=I(s,"SPAN",{class:!0});var r=V(e);W(l.$$.fragment,r),r.forEach(v),this.h()},h(){h(e,"class","invisible")},m(s,r){G(s,e,r),K(l,e,null),t=!0},p:ne,i(s){t||(T(l.$$.fragment,s),t=!0)},o(s){M(l.$$.fragment,s),t=!1},d(s){s&&v(e),x(l)}}}function it(n){let e,l,t,s;const r=[ft,ot],a=[];function u(i,p){return i[3]==="asc"?0:1}return l=u(n),t=a[l]=r[l](n),{c(){e=y("span"),t.c(),this.h()},l(i){e=I(i,"SPAN",{class:!0});var p=V(e);t.l(p),p.forEach(v),this.h()},h(){h(e,"class","font-normal")},m(i,p){G(i,e,p),a[l].m(e,null),s=!0},p(i,p){let _=l;l=u(i),l!==_&&(J(),M(a[_],1,1,()=>{a[_]=null}),Q(),t=a[l],t||(t=a[l]=r[l](i),t.c()),T(t,1),t.m(e,null))},i(i){s||(T(t),s=!0)},o(i){M(t),s=!1},d(i){i&&v(e),a[l].d()}}}function ot(n){let e,l;return e=new Pe({props:{className:"size-2"}}),{c(){X(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function ft(n){let e,l;return e=new oe({props:{className:"size-2"}}),{c(){X(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Ie(n){let e,l=n[14].t("No results found")+"",t;return{c(){e=y("div"),t=$(l),this.h()},l(s){e=I(s,"DIV",{class:!0});var r=V(e);t=ee(r,l),r.forEach(v),this.h()},h(){h(e,"class","text-xs text-gray-500 dark:text-gray-400 text-center px-5 min-h-20 w-full h-full flex justify-center items-center")},m(s,r){G(s,e,r),g(e,t)},p(s,r){r[0]&16384&&l!==(l=s[14].t("No results found")+"")&&te(t,l)},d(s){s&&v(e)}}}function Ee(n){let e,l=n[14].t(n[34].time_range)+"",t,s;return{c(){e=y("div"),t=$(l),this.h()},l(r){e=I(r,"DIV",{class:!0});var a=V(e);t=ee(a,l),a.forEach(v),this.h()},h(){h(e,"class",s="w-full text-xs text-gray-500 dark:text-gray-500 font-medium "+(n[36]===0?"":"pt-5")+" pb-2 px-2")},m(r,a){G(r,e,a),g(e,t)},p(r,a){a[0]&16448&&l!==(l=r[14].t(r[34].time_range)+"")&&te(t,l),a[0]&64&&s!==(s="w-full text-xs text-gray-500 dark:text-gray-500 font-medium "+(r[36]===0?"":"pt-5")+" pb-2 px-2")&&h(e,"class",s)},d(r){r&&v(e)}}}function Le(n){let e,l;return e=new ze({props:{content:n[14].t("Unarchive Chat"),$$slots:{default:[ct]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},p(t,s){const r={};s[0]&16384&&(r.content=t[14].t("Unarchive Chat")),s[0]&1088|s[1]&4&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function ct(n){let e,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',t,s;function r(...a){return n[29](n[34],...a)}return{c(){e=y("button"),e.innerHTML=l,this.h()},l(a){e=I(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-akwxe0"&&(e.innerHTML=l),this.h()},h(){h(e,"class","self-center w-fit px-1 text-sm rounded-xl")},m(a,u){G(a,e,u),t||(s=Z(e,"click",r),t=!0)},p(a,u){n=a},d(a){a&&v(e),t=!1,s()}}}function ut(n){let e,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',t,s;function r(...a){return n[30](n[34],...a)}return{c(){e=y("button"),e.innerHTML=l,this.h()},l(a){e=I(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-uod23x"&&(e.innerHTML=l),this.h()},h(){h(e,"class","self-center w-fit px-1 text-sm rounded-xl")},m(a,u){G(a,e,u),t||(s=Z(e,"click",r),t=!0)},p(a,u){n=a},d(a){a&&v(e),t=!1,s()}}}function Ce(n,e){var A,B,j;let l,t,s,r,a,u=((A=e[34])==null?void 0:A.title)+"",i,p,_,o,w,N=ce(((B=e[34])==null?void 0:B.updated_at)*1e3).calendar()+"",b,c,f,m,E,z,P,H,U=(e[36]===0||e[36]>0&&e[34].time_range!==e[6][e[36]-1].time_range)&&((j=e[34])==null?void 0:j.time_range)&&Ee(e),D=e[10]&&Le(e);return E=new ze({props:{content:e[14].t("Delete Chat"),$$slots:{default:[ut]},$$scope:{ctx:e}}}),{key:n,first:null,c(){l=ge(),U&&U.c(),t=q(),s=y("div"),r=y("a"),a=y("div"),i=$(u),_=q(),o=y("div"),w=y("div"),b=$(N),c=q(),f=y("div"),D&&D.c(),m=q(),X(E.$$.fragment),this.h()},l(d){l=ge(),U&&U.l(d),t=R(d),s=I(d,"DIV",{class:!0,draggable:!0});var k=V(s);r=I(k,"A",{class:!0,href:!0});var L=V(r);a=I(L,"DIV",{class:!0});var S=V(a);i=ee(S,u),S.forEach(v),L.forEach(v),_=R(k),o=I(k,"DIV",{class:!0});var O=V(o);w=I(O,"DIV",{class:!0});var Y=V(w);b=ee(Y,N),Y.forEach(v),c=R(O),f=I(O,"DIV",{class:!0});var F=V(f);D&&D.l(F),m=R(F),W(E.$$.fragment,F),F.forEach(v),O.forEach(v),k.forEach(v),this.h()},h(){h(a,"class","text-ellipsis line-clamp-1 w-full"),h(r,"class","basis-3/5"),h(r,"href",p=e[5]?`/s/${e[34].id}`:`/c/${e[34].id}`),h(w,"class","hidden sm:flex text-gray-500 dark:text-gray-400 text-xs"),h(f,"class","flex justify-end pl-2.5 text-gray-600 dark:text-gray-300"),h(o,"class","basis-2/5 flex items-center justify-end"),h(s,"class","w-full flex justify-between items-center rounded-lg text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850"),h(s,"draggable","false"),this.first=l},m(d,k){G(d,l,k),U&&U.m(d,k),G(d,t,k),G(d,s,k),g(s,r),g(r,a),g(a,i),g(s,_),g(s,o),g(o,w),g(w,b),g(o,c),g(o,f),D&&D.m(f,null),g(f,m),K(E,f,null),z=!0,P||(H=Z(r,"click",e[28]),P=!0)},p(d,k){var S,O,Y;e=d,(e[36]===0||e[36]>0&&e[34].time_range!==e[6][e[36]-1].time_range)&&((S=e[34])!=null&&S.time_range)?U?U.p(e,k):(U=Ee(e),U.c(),U.m(t.parentNode,t)):U&&(U.d(1),U=null),(!z||k[0]&64)&&u!==(u=((O=e[34])==null?void 0:O.title)+"")&&te(i,u),(!z||k[0]&96&&p!==(p=e[5]?`/s/${e[34].id}`:`/c/${e[34].id}`))&&h(r,"href",p),(!z||k[0]&64)&&N!==(N=ce(((Y=e[34])==null?void 0:Y.updated_at)*1e3).calendar()+"")&&te(b,N),e[10]?D?(D.p(e,k),k[0]&1024&&T(D,1)):(D=Le(e),D.c(),T(D,1),D.m(f,m)):D&&(J(),M(D,1,1,()=>{D=null}),Q());const L={};k[0]&16384&&(L.content=e[14].t("Delete Chat")),k[0]&10304|k[1]&4&&(L.$$scope={dirty:k,ctx:e}),E.$set(L)},i(d){z||(T(D),T(E.$$.fragment,d),z=!0)},o(d){M(D),M(E.$$.fragment,d),z=!1},d(d){d&&(v(l),v(t),v(s)),U&&U.d(d),D&&D.d(),x(E),P=!1,H()}}}function Ue(n){let e,l;return e=new Ye({props:{$$slots:{default:[dt]},$$scope:{ctx:n}}}),e.$on("visible",n[31]),{c(){X(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,s){K(e,t,s),l=!0},p(t,s){const r={};s[0]&16384|s[1]&4&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function dt(n){let e,l,t,s,r=n[14].t("Loading...")+"",a,u;return l=new je({props:{className:" size-4"}}),{c(){e=y("div"),X(l.$$.fragment),t=q(),s=y("div"),a=$(r),this.h()},l(i){e=I(i,"DIV",{class:!0});var p=V(e);W(l.$$.fragment,p),t=R(p),s=I(p,"DIV",{class:!0});var _=V(s);a=ee(_,r),_.forEach(v),p.forEach(v),this.h()},h(){h(s,"class",""),h(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(i,p){G(i,e,p),K(l,e,null),g(e,t),g(e,s),g(s,a),u=!0},p(i,p){(!u||p[0]&16384)&&r!==(r=i[14].t("Loading...")+"")&&te(a,r)},i(i){u||(T(l.$$.fragment,i),u=!0)},o(i){M(l.$$.fragment,i),u=!1},d(i){i&&v(e),x(l)}}}function De(n){let e;const l=n[20].footer,t=Se(l,n,n[33],be);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,r){t&&t.p&&(!e||r[1]&4)&&Oe(t,l,s,s[33],e?qe(l,s[33],r,$e):Ae(s[33]),be)},i(s){e||(T(t,s),e=!0)},o(s){M(t,s),e=!1},d(s){t&&t.d(s)}}}function _t(n){let e,l,t,s,r,a,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" clip-rule="evenodd"></path></svg>',i,p,_,o,w,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',b,c,f,m,E,z,P,H,U,D,A,B=n[1]&&we(n);const j=[tt,et],d=[];function k(L,S){return L[6]?0:1}return P=k(n),H=d[P]=j[P](n),{c(){e=y("div"),l=y("div"),t=y("div"),s=$(n[4]),r=q(),a=y("button"),a.innerHTML=u,i=q(),p=y("div"),_=y("div"),o=y("div"),w=y("div"),w.innerHTML=N,b=q(),c=y("input"),m=q(),B&&B.c(),E=q(),z=y("div"),H.c(),this.h()},l(L){e=I(L,"DIV",{});var S=V(e);l=I(S,"DIV",{class:!0});var O=V(l);t=I(O,"DIV",{class:!0});var Y=V(t);s=ee(Y,n[4]),Y.forEach(v),r=R(O),a=I(O,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(a)!=="svelte-i7w487"&&(a.innerHTML=u),O.forEach(v),i=R(S),p=I(S,"DIV",{class:!0});var F=V(p);_=I(F,"DIV",{class:!0});var se=V(_);o=I(se,"DIV",{class:!0});var le=V(o);w=I(le,"DIV",{class:!0,"data-svelte-h":!0}),ae(w)!=="svelte-kinl2y"&&(w.innerHTML=N),b=R(le),c=I(le,"INPUT",{class:!0,placeholder:!0}),m=R(le),B&&B.l(le),le.forEach(v),se.forEach(v),E=R(F),z=I(F,"DIV",{class:!0});var ie=V(z);H.l(ie),ie.forEach(v),F.forEach(v),S.forEach(v),this.h()},h(){h(t,"class","text-lg font-medium self-center"),h(a,"class","self-center"),h(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),h(w,"class","self-center ml-1 mr-3"),h(c,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),h(c,"placeholder",f=n[14].t("Search Chats")),h(o,"class","flex flex-1"),h(_,"class","flex w-full space-x-2 mb-0.5"),h(z,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),h(p,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(L,S){G(L,e,S),g(e,l),g(l,t),g(t,s),g(l,r),g(l,a),g(e,i),g(e,p),g(p,_),g(_,o),g(o,w),g(o,b),g(o,c),he(c,n[1]),g(o,m),B&&B.m(o,null),g(p,E),g(p,z),d[P].m(z,null),U=!0,D||(A=[Z(a,"click",n[23]),Z(c,"input",n[24])],D=!0)},p(L,S){(!U||S[0]&16)&&te(s,L[4]),(!U||S[0]&16384&&f!==(f=L[14].t("Search Chats")))&&h(c,"placeholder",f),S[0]&2&&c.value!==L[1]&&he(c,L[1]),L[1]?B?(B.p(L,S),S[0]&2&&T(B,1)):(B=we(L),B.c(),T(B,1),B.m(o,null)):B&&(J(),M(B,1,1,()=>{B=null}),Q());let O=P;P=k(L),P===O?d[P].p(L,S):(J(),M(d[O],1,1,()=>{d[O]=null}),Q(),H=d[P],H?H.p(L,S):(H=d[P]=j[P](L),H.c()),T(H,1),H.m(z,null))},i(L){U||(T(B),T(H),U=!0)},o(L){M(B),M(H),U=!1},d(L){L&&v(e),B&&B.d(),d[P].d(),D=!1,de(A)}}}function mt(n){let e,l,t,s,r,a;function u(o){n[21](o)}let i={};n[13]!==void 0&&(i.show=n[13]),e=new xe({props:i}),fe.push(()=>_e(e,"show",u)),e.$on("confirm",n[22]);function p(o){n[32](o)}let _={size:"lg",$$slots:{default:[_t]},$$scope:{ctx:n}};return n[0]!==void 0&&(_.show=n[0]),s=new Ke({props:_}),fe.push(()=>_e(s,"show",p)),{c(){X(e.$$.fragment),t=q(),X(s.$$.fragment)},l(o){W(e.$$.fragment,o),t=R(o),W(s.$$.fragment,o)},m(o,w){K(e,o,w),G(o,t,w),K(s,o,w),a=!0},p(o,w){const N={};!l&&w[0]&8192&&(l=!0,N.show=o[13],me(()=>l=!1)),e.$set(N);const b={};w[0]&32767|w[1]&4&&(b.$$scope={dirty:w,ctx:o}),!r&&w[0]&1&&(r=!0,b.show=o[0],me(()=>r=!1)),s.$set(b)},i(o){a||(T(e.$$.fragment,o),T(s.$$.fragment,o),a=!0)},o(o){M(e.$$.fragment,o),M(s.$$.fragment,o),a=!1},d(o){o&&v(t),x(e,o),x(s,o)}}}function ht(n,e,l){let t,{$$slots:s={},$$scope:r}=e;ce.extend(Fe);const a=He("i18n");Be(n,a,C=>l(14,t=C));let{show:u=!1}=e,{title:i="Chats"}=e,{emptyPlaceholder:p=""}=e,{shareUrl:_=!1}=e,{query:o=""}=e,{orderBy:w="updated_at"}=e,{direction:N="desc"}=e,{chatList:b=null}=e,{allChatsLoaded:c=!1}=e,{chatListLoading:f=!1}=e,m=null,E=0,z=!1,{onUpdate:P=()=>{}}=e,{loadHandler:H=null}=e,{unarchiveHandler:U=null}=e;const D=C=>{w===C?l(3,N=N==="asc"?"desc":"asc"):(l(2,w=C),l(3,N="asc"))},A=async C=>{await We(localStorage.token,C).catch(re=>{Me.error(`${re}`)}),P()};function B(C){z=C,l(13,z)}const j=()=>{m&&(A(m),l(11,m=null))},d=()=>{l(0,u=!1)};function k(){o=this.value,l(1,o)}const L=()=>{l(1,o=""),l(12,E=0)},S=()=>D("title"),O=()=>D("updated_at"),Y=()=>l(0,u=!1),F=async(C,re)=>{re.stopImmediatePropagation(),re.stopPropagation(),U(C.id)},se=async(C,re)=>{re.stopImmediatePropagation(),re.stopPropagation(),l(11,m=C.id),l(13,z=!0)},le=C=>{f||H()};function ie(C){u=C,l(0,u)}return n.$$set=C=>{"show"in C&&l(0,u=C.show),"title"in C&&l(4,i=C.title),"emptyPlaceholder"in C&&l(18,p=C.emptyPlaceholder),"shareUrl"in C&&l(5,_=C.shareUrl),"query"in C&&l(1,o=C.query),"orderBy"in C&&l(2,w=C.orderBy),"direction"in C&&l(3,N=C.direction),"chatList"in C&&l(6,b=C.chatList),"allChatsLoaded"in C&&l(7,c=C.allChatsLoaded),"chatListLoading"in C&&l(8,f=C.chatListLoading),"onUpdate"in C&&l(19,P=C.onUpdate),"loadHandler"in C&&l(9,H=C.loadHandler),"unarchiveHandler"in C&&l(10,U=C.unarchiveHandler),"$$scope"in C&&l(33,r=C.$$scope)},[u,o,w,N,i,_,b,c,f,H,U,m,E,z,t,a,D,A,p,P,s,B,j,d,k,L,S,O,Y,F,se,le,ie,r]}class zt extends Te{constructor(e){super(),Ne(this,e,ht,mt,Ve,{show:0,title:4,emptyPlaceholder:18,shareUrl:5,query:1,orderBy:2,direction:3,chatList:6,allChatsLoaded:7,chatListLoading:8,onUpdate:19,loadHandler:9,unarchiveHandler:10},null,[-1,-1])}}function gt(n){let e,l,t,s,r,a,u,i,p,_,o='<div class="p-1 rounded-full bg-white text-black border-gray-100 shadow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-3"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',w,N,b,c=n[4].t("Remove")+"",f,m,E,z=n[4].t("Initials")+"",P,H,U,D=n[4].t("Gravatar")+"",A,B,j;return{c(){e=y("input"),l=q(),t=y("div"),s=y("div"),r=y("button"),a=y("img"),p=q(),_=y("div"),_.innerHTML=o,w=q(),N=y("div"),b=y("button"),f=$(c),m=q(),E=y("button"),P=$(z),H=q(),U=y("button"),A=$(D),this.h()},l(d){e=I(d,"INPUT",{id:!0,type:!0,accept:!0}),l=R(d),t=I(d,"DIV",{class:!0});var k=V(t);s=I(k,"DIV",{class:!0});var L=V(s);r=I(L,"BUTTON",{class:!0,type:!0});var S=V(r);a=I(S,"IMG",{src:!0,alt:!0,class:!0}),p=R(S),_=I(S,"DIV",{class:!0,"data-svelte-h":!0}),ae(_)!=="svelte-33lu34"&&(_.innerHTML=o),S.forEach(v),L.forEach(v),w=R(k),N=I(k,"DIV",{class:!0});var O=V(N);b=I(O,"BUTTON",{class:!0,type:!0});var Y=V(b);f=ee(Y,c),Y.forEach(v),m=R(O),E=I(O,"BUTTON",{class:!0,type:!0});var F=V(E);P=ee(F,z),F.forEach(v),H=R(O),U=I(O,"BUTTON",{class:!0,type:!0});var se=V(U);A=ee(se,D),se.forEach(v),O.forEach(v),k.forEach(v),this.h()},h(){var d;h(e,"id","profile-image-input"),h(e,"type","file"),e.hidden=!0,h(e,"accept","image/*"),pe(a.src,u=n[0]!==""?n[0]:ue((d=n[1])==null?void 0:d.name))||h(a,"src",u),h(a,"alt","profile"),h(a,"class",i="rounded-full "+n[2]+" object-cover"),h(_,"class","absolute bottom-0 right-0 opacity-0 group-hover:opacity-100 transition"),h(r,"class","relative rounded-full dark:bg-gray-700"),h(r,"type","button"),h(s,"class","self-center flex"),h(b,"class","text-xs text-center text-gray-500 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all"),h(b,"type","button"),h(E,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all"),h(E,"type","button"),h(U,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg py-0.5 opacity-0 group-hover:opacity-100 transition-all"),h(U,"type","button"),h(N,"class","flex flex-col w-full justify-center mt-2"),h(t,"class","flex flex-col self-start group")},m(d,k){G(d,e,k),n[6](e),G(d,l,k),G(d,t,k),g(t,s),g(s,r),g(r,a),g(r,p),g(r,_),g(t,w),g(t,N),g(N,b),g(b,f),g(N,m),g(N,E),g(E,P),g(N,H),g(N,U),g(U,A),B||(j=[Z(e,"change",n[7]),Z(r,"click",n[8]),Z(b,"click",n[9]),Z(E,"click",n[10]),Z(U,"click",n[11])],B=!0)},p(d,[k]){var L;k&3&&!pe(a.src,u=d[0]!==""?d[0]:ue((L=d[1])==null?void 0:L.name))&&h(a,"src",u),k&4&&i!==(i="rounded-full "+d[2]+" object-cover")&&h(a,"class",i),k&16&&c!==(c=d[4].t("Remove")+"")&&te(f,c),k&16&&z!==(z=d[4].t("Initials")+"")&&te(P,z),k&16&&D!==(D=d[4].t("Gravatar")+"")&&te(A,D)},i:ne,o:ne,d(d){d&&(v(e),v(l),v(t)),n[6](null),B=!1,de(j)}}}function pt(n,e,l){let t;const s=He("i18n");Be(n,s,c=>l(4,t=c));let{profileImageUrl:r}=e,{user:a=null}=e,{imageClassName:u="size-14 md:size-18"}=e,i;function p(c){fe[c?"unshift":"push"](()=>{i=c,l(3,i)})}const _=c=>{const f=i.files??[];let m=new FileReader;m.onload=E=>{let z=`${E.target.result}`;const P=new Image;P.src=z,P.onload=function(){const H=document.createElement("canvas"),U=H.getContext("2d"),D=P.width/P.height;let A,B;D>1?(A=250*D,B=250):(A=250,B=250/D),H.width=250,H.height=250;const j=(250-A)/2,d=(250-B)/2;U.drawImage(P,j,d,A,B);const k=H.toDataURL("image/jpeg");l(0,r=k),l(3,i.files=null,i)}},f.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(f[0].type)&&m.readAsDataURL(f[0])},o=()=>{i.click()},w=async()=>{l(0,r=`${Qe}/user.png`)},N=async()=>{Xe()?l(0,r=ue(a==null?void 0:a.name)):Me.info(t.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},b=async()=>{const c=await Je(localStorage.token,a==null?void 0:a.email);l(0,r=c)};return n.$$set=c=>{"profileImageUrl"in c&&l(0,r=c.profileImageUrl),"user"in c&&l(1,a=c.user),"imageClassName"in c&&l(2,u=c.imageClassName)},[r,a,u,i,t,s,p,_,o,w,N,b]}class jt extends Te{constructor(e){super(),Ne(this,e,pt,gt,Ve,{profileImageUrl:0,user:1,imageClassName:2})}}export{zt as C,jt as U};
//# sourceMappingURL=CMr5EqY7.js.map
