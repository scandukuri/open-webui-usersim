{"version":3,"file":"D83cbPbE.js","sources":["../../../../../../src/lib/components/workspace/common/ManifestModal.svelte","../../../../../../src/lib/components/ImportModal.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher } from 'svelte';\n\timport { onMount, getContext } from 'svelte';\n\n\timport Modal from '../../common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\texport let show = false;\n\texport let manifest = {};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Show your support!')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1 text-sm\">\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr class=\"dark:border-gray-800 my-3\" />\n\t\t\t\t\t\t<div class=\"my-2\">\n\t\t\t\t\t\t\t{$i18n.t('Support this plugin:')}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={manifest.funding_url}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclass=\"underline text-blue-400 hover:text-blue-300\">{manifest.funding_url}</a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Done')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport { extractFrontmatter } from '$lib/utils';\n\n\texport let show = false;\n\n\texport let onImport = (e) => {};\n\texport let onClose = () => {};\n\n\texport let loadUrlHandler: Function = () => {};\n\texport let successMessage: string = '';\n\n\tlet loading = false;\n\tlet url = '';\n\n\tconst submitHandler = async () => {\n\t\tloading = true;\n\n\t\tif (!url) {\n\t\t\ttoast.error($i18n.t('Please enter a valid URL'));\n\t\t\tloading = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await loadUrlHandler(url).catch((err) => {\n\t\t\ttoast.error(`${err}`);\n\t\t\tloading = false;\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tif (!successMessage) {\n\t\t\t\tsuccessMessage = $i18n.t('Function imported successfully');\n\t\t\t}\n\n\t\t\ttoast.success(successMessage);\n\n\t\t\tlet func = res;\n\t\t\tfunc.id = func.id || func.name.replace(/\\s+/g, '_').toLowerCase();\n\n\t\t\tconst frontmatter = extractFrontmatter(res.content); // Ensure frontmatter is extracted\n\n\t\t\tif (frontmatter?.title) {\n\t\t\t\tfunc.name = frontmatter.title;\n\t\t\t}\n\n\t\t\tfunc.meta = {\n\t\t\t\t...(func.meta ?? {}),\n\t\t\t\tdescription: frontmatter?.description ?? func.name\n\t\t\t};\n\n\t\t\tonImport(func);\n\t\t\tshow = false;\n\t\t}\n\t};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Import')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<XMark className={'size-5'} />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('URL')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\tbind:value={url}\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter the URL to import')}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<!-- $i18n.t('Enter the URL of the function to import') -->\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Import')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n"],"names":["ctx","t10_value","attr","a","a_href_value","insert_hydration","target","div9","anchor","append_hydration","div1","div0","button0","div8","div7","form","div5","div2","div3","hr","div4","div6","button1","set_data","t0","t0_value","t3","t3_value","t5","t5_value","t8","t8_value","current","dirty","t10","t12","t12_value","i18n","getContext","createEventDispatcher","show","$$props","manifest","$$invalidate","div","create_if_block","input","t6","t6_value","onImport","e","onClose","loadUrlHandler","successMessage","loading","url","submitHandler","toast","$i18n","res","err","func","frontmatter","extractFrontmatter"],"mappings":"ufAkBkDA,EAAK,CAAA,EAAC,EAAE,oBAAoB,EAAA,yBAqBtEA,EAAK,CAAA,EAAC,EACN,mKAAkK,EAAA,WAKlKA,EAAK,CAAA,EAAC,EACN,2KAA0K,EAAA,eAM1KA,EAAK,CAAA,EAAC,EAAE,sBAAsB,EAAA,SAIuBC,EAAAD,KAAS,YAAW,eAUzEA,EAAK,CAAA,EAAC,EAAE,MAAM,EAAA,+CAzCA,QAAQ,CAAA,CAAA,k4CA6BhBE,EAAAC,EAAA,OAAAC,EAAAJ,KAAS,WAAW,2kBAtCjCK,GAwDKC,EAAAC,EAAAC,CAAA,EAvDJC,EAUKF,EAAAG,CAAA,EATJD,EAAkFC,EAAAC,CAAA,gBAClFF,EAOQC,EAAAE,CAAA,sBAGTH,EA0CKF,EAAAM,CAAA,EAzCJJ,EAwCKI,EAAAC,CAAA,EAvCJL,EAsCMK,EAAAC,CAAA,EAhCLN,EAsBKM,EAAAC,CAAA,EArBJP,EAIKO,EAAAC,CAAA,gBAELR,EAIKO,EAAAE,CAAA,gBAELT,EAAuCO,EAAAG,CAAA,SACvCV,EAOKO,EAAAI,CAAA,gBALJX,EAIAW,EAAAjB,CAAA,gBAIFM,EAOKM,EAAAM,CAAA,EANJZ,EAKQY,EAAAC,CAAA,oGAjDoCtB,EAAK,CAAA,EAAC,EAAE,oBAAoB,EAAA,KAAAuB,EAAAC,EAAAC,CAAA,oBAqBtEzB,EAAK,CAAA,EAAC,EACN,mKAAkK,EAAA,KAAAuB,EAAAG,EAAAC,CAAA,oBAKlK3B,EAAK,CAAA,EAAC,EACN,2KAA0K,EAAA,KAAAuB,EAAAK,EAAAC,CAAA,oBAM1K7B,EAAK,CAAA,EAAC,EAAE,sBAAsB,EAAA,KAAAuB,EAAAO,EAAAC,CAAA,GAIuB,CAAAC,GAAAC,EAAA,IAAAhC,KAAAA,EAAAD,KAAS,YAAW,KAAAuB,EAAAW,EAAAjC,CAAA,GAFnE,CAAA+B,GAAAC,EAAA,GAAA7B,KAAAA,EAAAJ,KAAS,+CAYfA,EAAK,CAAA,EAAC,EAAE,MAAM,EAAA,KAAAuB,EAAAY,EAAAC,CAAA,ikBA1Df,MAAAC,EAAOC,GAAW,MAAM,sBACbC,GAAA,MAEN,KAAAC,EAAO,EAAA,EAAAC,EACP,CAAA,SAAAC,EAAA,EAAA,EAAAD,eAUPE,EAAA,EAAAH,EAAO,EAAK,UAYXG,EAAA,EAAAH,EAAO,EAAK,waCgFVnC,GAEKC,EAAAsC,EAAApC,CAAA,uIAlDqCR,EAAK,CAAA,EAAC,EAAE,QAAQ,EAAA,2BAqBjBA,EAAK,CAAA,EAAC,EAAE,KAAK,EAAA,qBAwBtDA,EAAK,CAAA,EAAC,EAAE,QAAQ,EAAA,0CAtCF,QAAQ,CAAA,CAAA,QAwClBA,EAAO,CAAA,GAAA6C,GAAA,k4CAnBG7C,EAAK,CAAA,EAAC,EAAE,yBAAyB,CAAA,0SAWkJA,EAC/L,CAAA,EAAA,sBACA,GAAE,kCAEKA,EAAO,CAAA,gRA7CvBK,GA2DKC,EAAAC,EAAAC,CAAA,EA1DJC,EAUKF,EAAAG,CAAA,EATJD,EAAsEC,EAAAC,CAAA,gBACtEF,EAOQC,EAAAE,CAAA,sBAGTH,EA6CKF,EAAAM,CAAA,EA5CJJ,EA2CKI,EAAAC,CAAA,EA1CJL,EAyCMK,EAAAC,CAAA,EAnCLN,EAgBKM,EAAAC,CAAA,EAfJP,EAcKO,EAAAI,CAAA,EAbJX,EAA8DW,EAAAH,CAAA,gBAE9DR,EAUKW,EAAAF,CAAA,EATJT,EAMCS,EAAA4B,CAAA,OAHY9C,EAAG,CAAA,CAAA,SAUnBS,EAgBKM,EAAAM,CAAA,EAfJZ,EAcQY,EAAAC,CAAA,6IApDoCtB,EAAK,CAAA,EAAC,EAAE,QAAQ,EAAA,KAAAuB,EAAAC,EAAAC,CAAA,oBAqBjBzB,EAAK,CAAA,EAAC,EAAE,KAAK,EAAA,KAAAuB,EAAAG,EAAAC,CAAA,mBAOxC3B,EAAK,CAAA,EAAC,EAAE,yBAAyB,yCADlCA,EAAG,CAAA,QAAHA,EAAG,CAAA,CAAA,oBAkBhBA,EAAK,CAAA,EAAC,EAAE,QAAQ,EAAA,KAAAuB,EAAAwB,EAAAC,CAAA,EAEZhD,EAAO,CAAA,uSARsLA,EAC/L,CAAA,EAAA,sBACA,6CAEOA,EAAO,CAAA,ulBA1GjB,MAAAqC,EAAOC,GAAW,MAAM,0BAOnB,KAAAE,EAAO,EAAA,EAAAC,GAEP,SAAAQ,EAAYC,GAAA,MACZ,CAAA,QAAAC,EAAA,IAAA,MAEA,CAAA,eAAAC,EAAA,IAAA,OACA,eAAAC,EAAyB,EAAA,EAAAZ,EAEhCa,EAAU,GACVC,EAAM,GAEJ,MAAAC,EAAA,SAAA,CAGA,OAFLF,EAAU,EAAA,EAEL,CAAAC,EAAA,CACJE,GAAM,MAAMC,EAAM,EAAE,0BAA0B,CAAA,MAC9CJ,EAAU,EAAA,eAILK,EAAY,MAAAP,EAAeG,CAAG,EAAE,MAAOK,IAC5CH,GAAM,SAASG,CAAG,EAAA,MAClBN,EAAU,EAAA,EACH,OAGJ,GAAAK,EAAA,CACEN,OACJA,EAAiBK,EAAM,EAAE,gCAAgC,CAAA,EAG1DD,GAAM,QAAQJ,CAAc,MAExBQ,EAAOF,EACXE,EAAK,GAAKA,EAAK,IAAMA,EAAK,KAAK,QAAQ,OAAQ,GAAG,EAAE,YAAA,QAE9CC,EAAcC,GAAmBJ,EAAI,OAAO,EAE9CG,GAAA,MAAAA,EAAa,QAChBD,EAAK,KAAOC,EAAY,OAGzBD,EAAK,KAAA,IACAA,EAAK,MAAA,CAAA,EACT,aAAaC,GAAA,YAAAA,EAAa,cAAeD,EAAK,MAG/CZ,EAASY,CAAI,MACbrB,EAAO,EAAA,WAYLG,EAAA,EAAAH,EAAO,EAAK,gBAuBIe,EAAG,KAAA,0BAXlBC"}