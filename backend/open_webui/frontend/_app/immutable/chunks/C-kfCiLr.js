import{S as fe,i as ce,s as ue,V as L,W as A,a as k,d as c,f,g as b,h as p,n as Z,H as ge,I as we,C as X,D as Q,E as Y,K as ye,q as j,r as I,F as x,v as lt,k as Ce,w as nt,M as st,e as g,t as W,l as S,c as w,b as $,p as U,G as de,J as at,j as F,y as te,u as le,X as rt,m as ee,a0 as ot,U as Ee,N as ft,aj as ct}from"./BsAB9Z30.js";import"./IHki7fMi.js";import{k as ut,A as he,B as Ae}from"./C06TgqeF.js";import{e as Se}from"./BjVHJN9o.js";import{e as re,a as dt}from"./Px_ajtSr.js";import{b as ht}from"./CX0EKAME.js";import{M as _t}from"./C_R67QgC.js";import{X as it}from"./CubwYUHd.js";import{S as mt}from"./C-OXavg4.js";import{T as Ne}from"./cMkWkffq.js";import{d as Ue}from"./I1CDPYOB.js";import{S as De}from"./CbQmQGdd.js";function pt(s){let e,l;return{c(){e=L("svg"),l=L("path"),this.h()},l(t){e=A(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=k(e);l=A(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(l).forEach(c),r.forEach(c),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(t,r){b(t,e,r),p(e,l)},p(t,[r]){r&2&&f(e,"stroke-width",t[1]),r&1&&f(e,"class",t[0])},i:Z,o:Z,d(t){t&&c(e)}}}function kt(s,e,l){let{className:t="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=i=>{"className"in i&&l(0,t=i.className),"strokeWidth"in i&&l(1,r=i.strokeWidth)},[t,r]}class vt extends fe{constructor(e){super(),ce(this,e,kt,pt,ue,{className:0,strokeWidth:1})}}function bt(s){let e,l;return{c(){e=L("svg"),l=L("path"),this.h()},l(t){e=A(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=k(e);l=A(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(l).forEach(c),r.forEach(c),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"d","M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(t,r){b(t,e,r),p(e,l)},p(t,[r]){r&2&&f(e,"stroke-width",t[1]),r&1&&f(e,"class",t[0])},i:Z,o:Z,d(t){t&&c(e)}}}function gt(s,e,l){let{className:t="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=i=>{"className"in i&&l(0,t=i.className),"strokeWidth"in i&&l(1,r=i.strokeWidth)},[t,r]}class wt extends fe{constructor(e){super(),ce(this,e,gt,bt,ue,{className:0,strokeWidth:1})}}const Il=async(s,e,l)=>{const t=new FormData;t.append("file",e),l&&t.append("metadata",JSON.stringify(l));let r=null;const i=await fetch(`${re}/files/`,{method:"POST",headers:{Accept:"application/json",authorization:`Bearer ${s}`},body:t}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(r=n.detail||n.message,null));if(r)throw r;if(i){const n=await yt(s,i.id);if(n&&n.ok){const o=n.body.pipeThrough(new TextDecoderStream).pipeThrough(ut(`
`)).getReader();for(;;){const{value:a,done:d}=await o.read();if(d)break;try{let u=a.split(`
`);for(const h of u)if(h!==""&&h!=="data: [DONE]"){let m=JSON.parse(h.replace(/^data: /,""));m!=null&&m.error&&(m.error,i.error=m.error)}}catch{}}}}if(r)throw r;return i},yt=async(s,e)=>{const l=new URLSearchParams;l.append("stream","true");let t=null;const r=await fetch(`${re}/files/${e}/process/status?${l}`,{method:"GET",headers:{Accept:"application/json",authorization:`Bearer ${s}`}}).catch(i=>(t=i.detail,null));if(t)throw t;return r},Et=async(s,e)=>{let l=null;const t=await fetch(`${re}/files/${e}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(l=r.detail,null));if(l)throw l;return t},Ml=async(s,e,l)=>{let t=null;const r=await fetch(`${re}/files/${e}/data/content/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`},body:JSON.stringify({content:l})}).then(async i=>{if(!i.ok)throw await i.json();return i.json()}).then(i=>i).catch(i=>(t=i.detail,null));if(t)throw t;return r},zl=async s=>{let e=null;const l=await fetch(`${re}/files/all`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).then(t=>t).catch(t=>(e=t.detail,null));if(e)throw e;return l};function He(s,e,l){const t=s.slice();return t[18]=e[l],t}function Oe(s){var o,a,d;let e,l,t,r=((o=s[0])==null?void 0:o.type)&&Pe(s),i=((a=s[0])==null?void 0:a.description)&&Ze(s),n=((d=s[0])==null?void 0:d.created_at)&&Re(s);return{c(){r&&r.c(),e=S(),i&&i.c(),l=S(),n&&n.c(),t=ee()},l(u){r&&r.l(u),e=U(u),i&&i.l(u),l=U(u),n&&n.l(u),t=ee()},m(u,h){r&&r.m(u,h),b(u,e,h),i&&i.m(u,h),b(u,l,h),n&&n.m(u,h),b(u,t,h)},p(u,h){var m,_,C;(m=u[0])!=null&&m.type?r?r.p(u,h):(r=Pe(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),(_=u[0])!=null&&_.description?i?i.p(u,h):(i=Ze(u),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null),(C=u[0])!=null&&C.created_at?n?n.p(u,h):(n=Re(u),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(u){u&&(c(e),c(l),c(t)),r&&r.d(u),i&&i.d(u),n&&n.d(u)}}}function Pe(s){let e,l=s[0].type+"",t,r;return{c(){e=g("div"),t=W(l),r=W(`
								•`),this.h()},l(i){e=w(i,"DIV",{class:!0});var n=k(e);t=$(n,l),n.forEach(c),r=$(i,`
								•`),this.h()},h(){f(e,"class","capitalize shrink-0")},m(i,n){b(i,e,n),p(e,t),b(i,r,n)},p(i,n){n&1&&l!==(l=i[0].type+"")&&F(t,l)},d(i){i&&(c(e),c(r))}}}function Ze(s){let e,l=s[0].description+"",t,r;return{c(){e=g("div"),t=W(l),r=W(`
								•`),this.h()},l(i){e=w(i,"DIV",{class:!0});var n=k(e);t=$(n,l),n.forEach(c),r=$(i,`
								•`),this.h()},h(){f(e,"class","line-clamp-1")},m(i,n){b(i,e,n),p(e,t),b(i,r,n)},p(i,n){n&1&&l!==(l=i[0].description+"")&&F(t,l)},d(i){i&&(c(e),c(r))}}}function Re(s){let e,l=Ue(s[0].created_at*1e3).format("LL")+"",t;return{c(){e=g("div"),t=W(l),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);t=$(i,l),i.forEach(c),this.h()},h(){f(e,"class","capitalize shrink-0")},m(r,i){b(r,e,i),p(e,t)},p(r,i){i&1&&l!==(l=Ue(r[0].created_at*1e3).format("LL")+"")&&F(t,l)},d(r){r&&c(e)}}}function qe(s){let e,l=he(s[0].size)+"",t,r;return{c(){e=g("div"),t=W(l),r=W(`
							•`),this.h()},l(i){e=w(i,"DIV",{class:!0});var n=k(e);t=$(n,l),n.forEach(c),r=$(i,`
							•`),this.h()},h(){f(e,"class","capitalize shrink-0")},m(i,n){b(i,e,n),p(e,t),b(i,r,n)},p(i,n){n&1&&l!==(l=he(i[0].size)+"")&&F(t,l)},d(i){i&&(c(e),c(r))}}}function Je(s){var d,u,h;let e,l=s[8].t("{{COUNT}} extracted lines",{COUNT:Ae(((h=(u=(d=s[0])==null?void 0:d.file)==null?void 0:u.data)==null?void 0:h.content)??"")})+"",t,r,i,n,o=s[8].t("Formatting may be inconsistent from source.")+"",a;return{c(){e=g("div"),t=W(l),r=S(),i=g("div"),n=W("• "),a=W(o),this.h()},l(m){e=w(m,"DIV",{class:!0});var _=k(e);t=$(_,l),_.forEach(c),r=U(m),i=w(m,"DIV",{class:!0});var C=k(i);n=$(C,"• "),a=$(C,o),C.forEach(c),this.h()},h(){f(e,"class","capitalize shrink-0"),f(i,"class","flex items-center gap-1 shrink-0")},m(m,_){b(m,e,_),p(e,t),b(m,r,_),b(m,i,_),p(i,n),p(i,a)},p(m,_){var C,V,D;_&257&&l!==(l=m[8].t("{{COUNT}} extracted lines",{COUNT:Ae(((D=(V=(C=m[0])==null?void 0:C.file)==null?void 0:V.data)==null?void 0:D.content)??"")})+"")&&F(t,l),_&256&&o!==(o=m[8].t("Formatting may be inconsistent from source.")+"")&&F(a,o)},d(m){m&&(c(e),c(r),c(i))}}}function Ke(s){let e,l=s[8].t("Knowledge Base")+"",t;return{c(){e=g("div"),t=W(l),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);t=$(i,l),i.forEach(c),this.h()},h(){f(e,"class","capitalize shrink-0")},m(r,i){b(r,e,i),p(e,t)},p(r,i){i&256&&l!==(l=r[8].t("Knowledge Base")+"")&&F(t,l)},d(r){r&&c(e)}}}function Ge(s){let e,l,t;return l=new Ne({props:{content:s[3]?s[8].t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):s[8].t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),$$slots:{default:[Dt]},$$scope:{ctx:s}}}),{c(){e=g("div"),X(l.$$.fragment)},l(r){e=w(r,"DIV",{});var i=k(e);Q(l.$$.fragment,i),i.forEach(c)},m(r,i){b(r,e,i),Y(l,e,null),t=!0},p(r,i){const n={};i&264&&(n.content=r[3]?r[8].t("Inject the entire content as context for comprehensive processing, this is recommended for complex queries."):r[8].t("Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.")),i&2097417&&(n.$$scope={dirty:i,ctx:r}),l.$set(n)},i(r){t||(j(l.$$.fragment,r),t=!0)},o(r){I(l.$$.fragment,r),t=!1},d(r){r&&c(e),x(l)}}}function Ct(s){let e=s[8].t("Using Focused Retrieval")+"",l;return{c(){l=W(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&256&&e!==(e=t[8].t("Using Focused Retrieval")+"")&&F(l,e)},d(t){t&&c(l)}}}function Nt(s){let e=s[8].t("Using Entire Document")+"",l;return{c(){l=W(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&256&&e!==(e=t[8].t("Using Entire Document")+"")&&F(l,e)},d(t){t&&c(l)}}}function Dt(s){let e,l,t,r,i;function n(h,m){return h[3]?Nt:Ct}let o=n(s),a=o(s);function d(h){s[12](h)}let u={};return s[3]!==void 0&&(u.state=s[3]),t=new mt({props:u}),ge.push(()=>we(t,"state",d)),t.$on("change",s[13]),{c(){e=g("div"),a.c(),l=S(),X(t.$$.fragment),this.h()},l(h){e=w(h,"DIV",{class:!0});var m=k(e);a.l(m),l=U(m),Q(t.$$.fragment,m),m.forEach(c),this.h()},h(){f(e,"class","flex items-center gap-1.5 text-xs")},m(h,m){b(h,e,m),a.m(e,null),p(e,l),Y(t,e,null),i=!0},p(h,m){o===(o=n(h))&&a?a.p(h,m):(a.d(1),a=o(h),a&&(a.c(),a.m(e,l)));const _={};!r&&m&8&&(r=!0,_.state=h[3],ye(()=>r=!1)),t.$set(_)},i(h){i||(j(t.$$.fragment,h),i=!0)},o(h){I(t.$$.fragment,h),i=!1},d(h){h&&c(e),a.d(),x(t)}}}function jt(s){let e,l,t;return l=new De({props:{className:"size-5"}}),{c(){e=g("div"),X(l.$$.fragment),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);Q(l.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","flex items-center justify-center py-6")},m(r,i){b(r,e,i),Y(l,e,null),t=!0},p:Z,i(r){t||(j(l.$$.fragment,r),t=!0)},o(r){I(l.$$.fragment,r),t=!1},d(r){r&&c(e),x(l)}}}function Vt(s){let e;function l(i,n){var o;return((o=i[0])==null?void 0:o.type)==="collection"?zt:i[7]?Mt:It}let t=l(s),r=t(s);return{c(){r.c(),e=ee()},l(i){r.l(i),e=ee()},m(i,n){r.m(i,n),b(i,e,n)},p(i,n){t===(t=l(i))&&r?r.p(i,n):(r.d(1),r=t(i),r&&(r.c(),r.m(e.parentNode,e)))},i:Z,o:Z,d(i){i&&c(e),r.d(i)}}}function It(s){var i,n;let e,l,t=s[4]&&Xe(s),r=((n=(i=s[0])==null?void 0:i.file)==null?void 0:n.data)&&Qe(s);return{c(){t&&t.c(),e=S(),r&&r.c(),l=ee()},l(o){t&&t.l(o),e=U(o),r&&r.l(o),l=ee()},m(o,a){t&&t.m(o,a),b(o,e,a),r&&r.m(o,a),b(o,l,a)},p(o,a){var d,u;o[4]?t?t.p(o,a):(t=Xe(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),(u=(d=o[0])==null?void 0:d.file)!=null&&u.data?r?r.p(o,a):(r=Qe(o),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(o){o&&(c(e),c(l)),t&&t.d(o),r&&r.d(o)}}}function Mt(s){let e,l,t=s[8].t("Content")+"",r,i,n,o,a=s[8].t("Preview")+"",d,u,h,m,_,C;function V(E,M){return E[6]==="preview"?Wt:Bt}let D=V(s),T=D(s);return{c(){e=g("div"),l=g("button"),r=W(t),n=S(),o=g("button"),d=W(a),h=S(),T.c(),m=ee(),this.h()},l(E){e=w(E,"DIV",{class:!0});var M=k(e);l=w(M,"BUTTON",{class:!0,type:!0});var B=k(l);r=$(B,t),B.forEach(c),n=U(M),o=w(M,"BUTTON",{class:!0,type:!0});var v=k(o);d=$(v,a),v.forEach(c),M.forEach(c),h=U(E),T.l(E),m=ee(),this.h()},h(){f(l,"class",i="min-w-fit py-1.5 px-4 border-b "+(s[6]===""?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),f(l,"type","button"),f(o,"class",u="min-w-fit py-1.5 px-4 border-b "+(s[6]==="preview"?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),f(o,"type","button"),f(e,"class","flex mb-2.5 scrollbar-none overflow-x-auto w-full border-b border-gray-100 dark:border-gray-800 text-center text-sm font-medium bg-transparent dark:text-gray-200")},m(E,M){b(E,e,M),p(e,l),p(l,r),p(e,n),p(e,o),p(o,d),b(E,h,M),T.m(E,M),b(E,m,M),_||(C=[de(l,"click",s[14]),de(o,"click",s[15])],_=!0)},p(E,M){M&256&&t!==(t=E[8].t("Content")+"")&&F(r,t),M&64&&i!==(i="min-w-fit py-1.5 px-4 border-b "+(E[6]===""?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&f(l,"class",i),M&256&&a!==(a=E[8].t("Preview")+"")&&F(d,a),M&64&&u!==(u="min-w-fit py-1.5 px-4 border-b "+(E[6]==="preview"?" ":" border-transparent text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&f(o,"class",u),D===(D=V(E))&&T?T.p(E,M):(T.d(1),T=D(E),T&&(T.c(),T.m(m.parentNode,m)))},d(E){E&&(c(e),c(h),c(m)),T.d(E),_=!1,rt(C)}}}function zt(s){var r;let e,l=Se((r=s[0])==null?void 0:r.files),t=[];for(let i=0;i<l.length;i+=1)t[i]=Ye(He(s,l,i));return{c(){e=g("div");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=w(i,"DIV",{});var n=k(e);for(let o=0;o<t.length;o+=1)t[o].l(n);n.forEach(c)},m(i,n){b(i,e,n);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(i,n){var o;if(n&1){l=Se((o=i[0])==null?void 0:o.files);let a;for(a=0;a<l.length;a+=1){const d=He(i,l,a);t[a]?t[a].p(d,n):(t[a]=Ye(d),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(i){i&&c(e),ot(t,i)}}}function Xe(s){let e,l;return{c(){e=g("audio"),this.h()},l(t){e=w(t,"AUDIO",{src:!0,class:!0,playsinline:!0}),k(e).forEach(c),this.h()},h(){Ee(e.src,l=`${re}/files/${s[0].id}/content`)||f(e,"src",l),f(e,"class","w-full border-0 rounded-lg mb-2"),e.controls=!0,f(e,"playsinline","")},m(t,r){b(t,e,r)},p(t,r){r&1&&!Ee(e.src,l=`${re}/files/${t[0].id}/content`)&&f(e,"src",l)},d(t){t&&c(e)}}}function Qe(s){var r,i,n;let e,l=((((n=(i=(r=s[0])==null?void 0:r.file)==null?void 0:i.data)==null?void 0:n.content)??"").trim()||"No content")+"",t;return{c(){e=g("div"),t=W(l),this.h()},l(o){e=w(o,"DIV",{class:!0});var a=k(e);t=$(a,l),a.forEach(c),this.h()},h(){f(e,"class","max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap")},m(o,a){b(o,e,a),p(e,t)},p(o,a){var d,u,h;a&1&&l!==(l=((((h=(u=(d=o[0])==null?void 0:d.file)==null?void 0:u.data)==null?void 0:h.content)??"").trim()||"No content")+"")&&F(t,l)},d(o){o&&c(e)}}}function Bt(s){var r,i,n;let e,l=((((n=(i=(r=s[0])==null?void 0:r.file)==null?void 0:i.data)==null?void 0:n.content)??"").trim()||"No content")+"",t;return{c(){e=g("div"),t=W(l),this.h()},l(o){e=w(o,"DIV",{class:!0});var a=k(e);t=$(a,l),a.forEach(c),this.h()},h(){f(e,"class","max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap")},m(o,a){b(o,e,a),p(e,t)},p(o,a){var d,u,h;a&1&&l!==(l=((((h=(u=(d=o[0])==null?void 0:d.file)==null?void 0:u.data)==null?void 0:h.content)??"").trim()||"No content")+"")&&F(t,l)},d(o){o&&c(e)}}}function Wt(s){let e,l,t;return{c(){e=g("iframe"),this.h()},l(r){e=w(r,"IFRAME",{title:!0,src:!0,class:!0}),k(e).forEach(c),this.h()},h(){var r;f(e,"title",l=(r=s[0])==null?void 0:r.name),Ee(e.src,t=`${re}/files/${s[0].id}/content`)||f(e,"src",t),f(e,"class","w-full h-[70vh] border-0 rounded-lg")},m(r,i){b(r,e,i)},p(r,i){var n;i&1&&l!==(l=(n=r[0])==null?void 0:n.name)&&f(e,"title",l),i&1&&!Ee(e.src,t=`${re}/files/${r[0].id}/content`)&&f(e,"src",t)},d(r){r&&c(e)}}}function Ye(s){var n,o;let e,l,t=((o=(n=s[18])==null?void 0:n.meta)==null?void 0:o.name)+"",r,i;return{c(){e=g("div"),l=g("div"),r=W(t),i=S(),this.h()},l(a){e=w(a,"DIV",{class:!0});var d=k(e);l=w(d,"DIV",{class:!0});var u=k(l);r=$(u,t),u.forEach(c),i=U(d),d.forEach(c),this.h()},h(){f(l,"class","flex-shrink-0 text-xs"),f(e,"class","flex items-center gap-2 mb-2")},m(a,d){b(a,e,d),p(e,l),p(l,r),p(e,i)},p(a,d){var u,h;d&1&&t!==(t=((h=(u=a[18])==null?void 0:u.meta)==null?void 0:h.name)+"")&&F(r,t)},d(a){a&&c(e)}}}function $t(s){var Me,ze,Be,We,$e,Te;let e,l,t,r,i,n,o=(((Me=s[0])==null?void 0:Me.name)??"File")+"",a,d,u,h,m,_,C,V,D,T,E,M,B,v,N,O,P,y,ae,je;m=new it({});let q=((ze=s[0])==null?void 0:ze.type)==="collection"&&Oe(s),J=s[0].size&&qe(s),K=(($e=(We=(Be=s[0])==null?void 0:Be.file)==null?void 0:We.data)==null?void 0:$e.content)&&Je(s),G=((Te=s[0])==null?void 0:Te.knowledge)&&Ke(s),H=s[2]&&Ge(s);const Ve=[Vt,jt],ie=[];function Ie(z,R){return z[5]?1:0}return O=Ie(s),P=ie[O]=Ve[O](s),{c(){e=g("div"),l=g("div"),t=g("div"),r=g("div"),i=g("div"),n=g("a"),a=W(o),d=S(),u=g("div"),h=g("button"),X(m.$$.fragment),_=S(),C=g("div"),V=g("div"),D=g("div"),q&&q.c(),T=S(),J&&J.c(),E=S(),K&&K.c(),M=S(),G&&G.c(),B=S(),H&&H.c(),v=S(),N=g("div"),P.c(),this.h()},l(z){e=w(z,"DIV",{class:!0});var R=k(e);l=w(R,"DIV",{class:!0});var ne=k(l);t=w(ne,"DIV",{class:!0});var oe=k(t);r=w(oe,"DIV",{});var _e=k(r);i=w(_e,"DIV",{class:!0});var me=k(i);n=w(me,"A",{href:!0,class:!0});var pe=k(n);a=$(pe,o),pe.forEach(c),me.forEach(c),_e.forEach(c),d=U(oe),u=w(oe,"DIV",{});var ke=k(u);h=w(ke,"BUTTON",{});var ve=k(h);Q(m.$$.fragment,ve),ve.forEach(c),ke.forEach(c),oe.forEach(c),_=U(ne),C=w(ne,"DIV",{});var Fe=k(C);V=w(Fe,"DIV",{class:!0});var be=k(V);D=w(be,"DIV",{class:!0});var se=k(D);q&&q.l(se),T=U(se),J&&J.l(se),E=U(se),K&&K.l(se),M=U(se),G&&G.l(se),se.forEach(c),B=U(be),H&&H.l(be),be.forEach(c),Fe.forEach(c),ne.forEach(c),v=U(R),N=w(R,"DIV",{class:!0});var Le=k(N);P.l(Le),Le.forEach(c),R.forEach(c),this.h()},h(){f(n,"href","#"),f(n,"class","hover:underline line-clamp-1"),f(i,"class","font-medium text-lg dark:text-gray-100"),f(t,"class","flex items-start justify-between"),f(D,"class","flex flex-wrap text-xs gap-1 text-gray-500"),f(V,"class","flex flex-col items-center md:flex-row gap-1 justify-between w-full"),f(l,"class","pb-2"),f(N,"class","max-h-[75vh] overflow-auto"),f(e,"class","font-primary px-4.5 py-3.5 w-full flex flex-col justify-center dark:text-gray-400")},m(z,R){b(z,e,R),p(e,l),p(l,t),p(t,r),p(r,i),p(i,n),p(n,a),p(t,d),p(t,u),p(u,h),Y(m,h,null),p(l,_),p(l,C),p(C,V),p(V,D),q&&q.m(D,null),p(D,T),J&&J.m(D,null),p(D,E),K&&K.m(D,null),p(D,M),G&&G.m(D,null),p(V,B),H&&H.m(V,null),p(e,v),p(e,N),ie[O].m(N,null),y=!0,ae||(je=[de(n,"click",at(s[10])),de(h,"click",s[11])],ae=!0)},p(z,R){var oe,_e,me,pe,ke,ve;(!y||R&1)&&o!==(o=(((oe=z[0])==null?void 0:oe.name)??"File")+"")&&F(a,o),((_e=z[0])==null?void 0:_e.type)==="collection"?q?q.p(z,R):(q=Oe(z),q.c(),q.m(D,T)):q&&(q.d(1),q=null),z[0].size?J?J.p(z,R):(J=qe(z),J.c(),J.m(D,E)):J&&(J.d(1),J=null),(ke=(pe=(me=z[0])==null?void 0:me.file)==null?void 0:pe.data)!=null&&ke.content?K?K.p(z,R):(K=Je(z),K.c(),K.m(D,M)):K&&(K.d(1),K=null),(ve=z[0])!=null&&ve.knowledge?G?G.p(z,R):(G=Ke(z),G.c(),G.m(D,null)):G&&(G.d(1),G=null),z[2]?H?(H.p(z,R),R&4&&j(H,1)):(H=Ge(z),H.c(),j(H,1),H.m(V,null)):H&&(te(),I(H,1,1,()=>{H=null}),le());let ne=O;O=Ie(z),O===ne?ie[O].p(z,R):(te(),I(ie[ne],1,1,()=>{ie[ne]=null}),le(),P=ie[O],P?P.p(z,R):(P=ie[O]=Ve[O](z),P.c()),j(P,1),P.m(N,null))},i(z){y||(j(m.$$.fragment,z),j(H),j(P),y=!0)},o(z){I(m.$$.fragment,z),I(H),I(P),y=!1},d(z){z&&c(e),x(m),q&&q.d(),J&&J.d(),K&&K.d(),G&&G.d(),H&&H.d(),ie[O].d(),ae=!1,rt(je)}}}function Tt(s){let e,l,t;function r(n){s[16](n)}let i={size:"lg",$$slots:{default:[$t]},$$scope:{ctx:s}};return s[1]!==void 0&&(i.show=s[1]),e=new _t({props:i}),ge.push(()=>we(e,"show",r)),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,o){Y(e,n,o),t=!0},p(n,[o]){const a={};o&2097663&&(a.$$scope={dirty:o,ctx:n}),!l&&o&2&&(l=!0,a.show=n[1],ye(()=>l=!1)),e.$set(a)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Ft(s,e,l){let t,r;const i=lt("i18n");Ce(s,i,v=>l(8,r=v));let{item:n}=e,{show:o=!1}=e,{edit:a=!1}=e,d=!1,u=!1,h=!1,m="";const _=async()=>{if((n==null?void 0:n.type)==="collection"){l(5,h=!0);const v=await ht(localStorage.token,n.id).catch(N=>null);v&&l(0,n.files=v.files||[],n),l(5,h=!1)}else if((n==null?void 0:n.type)==="file"){l(5,h=!0);const v=await Et(localStorage.token,n.id).catch(N=>null);v&&l(0,n.file=v||{},n),l(5,h=!1)}await st()};nt(()=>{(n==null?void 0:n.context)==="full"&&l(3,d=!0)});const C=()=>{!t&&n.url&&window.open(n.type==="file"?`${n.url}/content`:`${n.url}`,"_blank")},V=()=>{l(1,o=!1)};function D(v){d=v,l(3,d)}const T=v=>{l(0,n.context=v.detail?"full":void 0,n)},E=()=>{l(6,m="")},M=()=>{l(6,m="preview")};function B(v){o=v,l(1,o)}return s.$$set=v=>{"item"in v&&l(0,n=v.item),"show"in v&&l(1,o=v.show),"edit"in v&&l(2,a=v.edit)},s.$$.update=()=>{var v,N;s.$$.dirty&1&&l(7,t=((v=n==null?void 0:n.meta)==null?void 0:v.content_type)==="application/pdf"||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".pdf"))),s.$$.dirty&1&&l(4,u=(((N=n==null?void 0:n.meta)==null?void 0:N.content_type)??"").startsWith("audio/")||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".mp3"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".wav"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".ogg"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".m4a"))||(n==null?void 0:n.name)&&(n==null?void 0:n.name.toLowerCase().endsWith(".webm"))),s.$$.dirty&2&&o&&_()},[n,o,a,d,u,h,m,t,r,i,C,V,D,T,E,M,B]}class Lt extends fe{constructor(e){super(),ce(this,e,Ft,Tt,ue,{item:0,show:1,edit:2})}}function At(s){let e,l,t,r,i,n;return{c(){e=L("svg"),l=L("path"),t=L("path"),r=L("path"),i=L("path"),n=L("path"),this.h()},l(o){e=A(o,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=k(e);l=A(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(l).forEach(c),t=A(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(t).forEach(c),r=A(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(r).forEach(c),i=A(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(i).forEach(c),n=A(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(n).forEach(c),a.forEach(c),this.h()},h(){f(l,"d","M4 21.4V2.6C4 2.26863 4.26863 2 4.6 2H16.2515C16.4106 2 16.5632 2.06321 16.6757 2.17574L19.8243 5.32426C19.9368 5.43679 20 5.5894 20 5.74853V21.4C20 21.7314 19.7314 22 19.4 22H4.6C4.26863 22 4 21.7314 4 21.4Z"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(t,"d","M8 10L16 10"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(r,"d","M8 18L16 18"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(i,"d","M8 14L12 14"),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(n,"d","M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(o,a){b(o,e,a),p(e,l),p(e,t),p(e,r),p(e,i),p(e,n)},p(o,[a]){a&2&&f(e,"stroke-width",o[1]),a&1&&f(e,"class",o[0])},i:Z,o:Z,d(o){o&&c(e)}}}function St(s,e,l){let{className:t="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=i=>{"className"in i&&l(0,t=i.className),"strokeWidth"in i&&l(1,r=i.strokeWidth)},[t,r]}class Ut extends fe{constructor(e){super(),ce(this,e,St,At,ue,{className:0,strokeWidth:1})}}function Ht(s){let e,l,t,r;return{c(){e=L("svg"),l=L("path"),t=L("path"),r=L("path"),this.h()},l(i){e=A(i,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=k(e);l=A(n,"path",{d:!0}),k(l).forEach(c),t=A(n,"path",{d:!0}),k(t).forEach(c),r=A(n,"path",{d:!0}),k(r).forEach(c),n.forEach(c),this.h()},h(){f(l,"d","M5 12V18C5 18 5 21 12 21C19 21 19 18 19 18V12"),f(t,"d","M5 6V12C5 12 5 15 12 15C19 15 19 12 19 12V6"),f(r,"d","M12 3C19 3 19 6 19 6C19 6 19 9 12 9C5 9 5 6 5 6C5 6 5 3 12 3Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(i,n){b(i,e,n),p(e,l),p(e,t),p(e,r)},p(i,[n]){n&2&&f(e,"stroke-width",i[1]),n&1&&f(e,"class",i[0])},i:Z,o:Z,d(i){i&&c(e)}}}function Ot(s,e,l){let{className:t="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=i=>{"className"in i&&l(0,t=i.className),"strokeWidth"in i&&l(1,r=i.strokeWidth)},[t,r]}class Pt extends fe{constructor(e){super(),ce(this,e,Ot,Ht,ue,{className:0,strokeWidth:1})}}function Zt(s){let e,l,t,r,i;return{c(){e=L("svg"),l=L("path"),t=L("path"),r=L("path"),i=L("path"),this.h()},l(n){e=A(n,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var o=k(e);l=A(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(l).forEach(c),t=A(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(t).forEach(c),r=A(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(r).forEach(c),i=A(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(i).forEach(c),o.forEach(c),this.h()},h(){f(l,"d","M20 12V5.74853C20 5.5894 19.9368 5.43679 19.8243 5.32426L16.6757 2.17574C16.5632 2.06321 16.4106 2 16.2515 2H4.6C4.26863 2 4 2.26863 4 2.6V21.4C4 21.7314 4.26863 22 4.6 22H11"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(t,"d","M8 10H16M8 6H12M8 14H11"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(r,"d","M17.9541 16.9394L18.9541 15.9394C19.392 15.5015 20.102 15.5015 20.5399 15.9394V15.9394C20.9778 16.3773 20.9778 17.0873 20.5399 17.5252L19.5399 18.5252M17.9541 16.9394L14.963 19.9305C14.8131 20.0804 14.7147 20.2741 14.6821 20.4835L14.4394 22.0399L15.9957 21.7973C16.2052 21.7646 16.3988 21.6662 16.5487 21.5163L19.5399 18.5252M17.9541 16.9394L19.5399 18.5252"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(i,"d","M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20"),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,o){b(n,e,o),p(e,l),p(e,t),p(e,r),p(e,i)},p(n,[o]){o&1&&f(e,"class",n[0]),o&2&&f(e,"stroke-width",n[1])},i:Z,o:Z,d(n){n&&c(e)}}}function Rt(s,e,l){let{className:t="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=i=>{"className"in i&&l(0,t=i.className),"strokeWidth"in i&&l(1,r=i.strokeWidth)},[t,r]}class qt extends fe{constructor(e){super(),ce(this,e,Rt,Zt,ue,{className:0,strokeWidth:1})}}function xe(s){let e,l,t,r;function i(a){s[18](a)}function n(a){s[19](a)}let o={edit:s[7]};return s[12]!==void 0&&(o.show=s[12]),s[0]!==void 0&&(o.item=s[0]),e=new Lt({props:o}),ge.push(()=>we(e,"show",i)),ge.push(()=>we(e,"item",n)),{c(){X(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,d){Y(e,a,d),r=!0},p(a,d){const u={};d&128&&(u.edit=a[7]),!l&&d&4096&&(l=!0,u.show=a[12],ye(()=>l=!1)),!t&&d&1&&(t=!0,u.item=a[0],ye(()=>t=!1)),e.$set(u)},i(a){r||(j(e.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),r=!1},d(a){x(e,a)}}}function Jt(s){let e,l,t,r;const i=[Xt,Gt],n=[];function o(a,d){return a[6]?1:0}return l=o(s),t=n[l]=i[l](s),{c(){e=g("div"),t.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var d=k(e);t.l(d),d.forEach(c),this.h()},h(){f(e,"class","pl-1.5")},m(a,d){b(a,e,d),n[l].m(e,null),r=!0},p(a,d){let u=l;l=o(a),l===u?n[l].p(a,d):(te(),I(n[u],1,1,()=>{n[u]=null}),le(),t=n[l],t?t.p(a,d):(t=n[l]=i[l](a),t.c()),j(t,1),t.m(e,null))},i(a){r||(j(t),r=!0)},o(a){I(t),r=!1},d(a){a&&c(e),n[l].d()}}}function Kt(s){let e,l,t,r;const i=[il,rl],n=[];function o(a,d){return a[6]?1:0}return l=o(s),t=n[l]=i[l](s),{c(){e=g("div"),t.c(),this.h()},l(a){e=w(a,"DIV",{class:!0});var d=k(e);t.l(d),d.forEach(c),this.h()},h(){f(e,"class","size-10 shrink-0 flex justify-center items-center bg-black/20 dark:bg-white/10 text-white rounded-xl")},m(a,d){b(a,e,d),n[l].m(e,null),r=!0},p(a,d){let u=l;l=o(a),l!==u&&(te(),I(n[u],1,1,()=>{n[u]=null}),le(),t=n[l],t||(t=n[l]=i[l](a),t.c()),j(t,1),t.m(e,null))},i(a){r||(j(t),r=!0)},o(a){I(t),r=!1},d(a){a&&c(e),n[l].d()}}}function Gt(s){let e,l;return e=new De({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},p:Z,i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Xt(s){let e,l;return e=new Ne({props:{content:s[10]==="collection"?s[13].t("Collection"):s[10]==="note"?s[13].t("Note"):s[10]==="chat"?s[13].t("Chat"):s[10]==="file"?s[13].t("File"):s[13].t("Document"),placement:"top",$$slots:{default:[ll]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},p(t,r){const i={};r&9216&&(i.content=t[10]==="collection"?t[13].t("Collection"):t[10]==="note"?t[13].t("Note"):t[10]==="chat"?t[13].t("Chat"):t[10]==="file"?t[13].t("File"):t[13].t("Document")),r&4195328&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Qt(s){let e,l;return e=new Ut({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Yt(s){let e,l;return e=new vt({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function xt(s){let e,l;return e=new wt({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function el(s){let e,l;return e=new qt({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function tl(s){let e,l;return e=new Pt({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function ll(s){let e,l,t,r;const i=[tl,el,xt,Yt,Qt],n=[];function o(a,d){return a[10]==="collection"?0:a[10]==="note"?1:a[10]==="chat"?2:a[10]==="folder"?3:4}return e=o(s),l=n[e]=i[e](s),{c(){l.c(),t=ee()},l(a){l.l(a),t=ee()},m(a,d){n[e].m(a,d),b(a,t,d),r=!0},p(a,d){let u=e;e=o(a),e!==u&&(te(),I(n[u],1,1,()=>{n[u]=null}),le(),l=n[e],l||(l=n[e]=i[e](a),l.c()),j(l,1),l.m(t.parentNode,t))},i(a){r||(j(l),r=!0)},o(a){I(l),r=!1},d(a){a&&c(t),n[e].d(a)}}}function rl(s){let e,l;return e=new De({}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function il(s){let e,l,t;return{c(){e=L("svg"),l=L("path"),t=L("path"),this.h()},l(r){e=A(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0,class:!0});var i=k(e);l=A(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),k(l).forEach(c),t=A(i,"path",{d:!0}),k(t).forEach(c),i.forEach(c),this.h()},h(){f(l,"fill-rule","evenodd"),f(l,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),f(l,"clip-rule","evenodd"),f(t,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 24 24"),f(e,"fill","currentColor"),f(e,"aria-hidden","true"),f(e,"class","size-4.5")},m(r,i){b(r,e,i),p(e,l),p(e,t)},i:Z,o:Z,d(r){r&&c(e)}}}function nl(s){let e,l;return e=new Ne({props:{content:s[17](s[9]),className:"flex flex-col w-full",placement:"top-start",$$slots:{default:[fl]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(t){Q(e.$$.fragment,t)},m(t,r){Y(e,t,r),l=!0},p(t,r){const i={};r&512&&(i.content=t[17](t[9])),r&4197888&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function sl(s){let e,l,t=s[17](s[9])+"",r,i,n,o,a;function d(_,C){return _[10]==="file"?_l:_[10]==="note"?hl:_[10]==="doc"?dl:_[10]==="collection"?ul:cl}let u=d(s),h=u(s),m=s[11]&&et(s);return{c(){e=g("div"),l=g("div"),r=W(t),i=S(),n=g("div"),h.c(),o=S(),m&&m.c(),this.h()},l(_){e=w(_,"DIV",{class:!0});var C=k(e);l=w(C,"DIV",{class:!0});var V=k(l);r=$(V,t),V.forEach(c),i=U(C),n=w(C,"DIV",{class:!0});var D=k(n);h.l(D),o=U(D),m&&m.l(D),D.forEach(c),C.forEach(c),this.h()},h(){var _;f(l,"class","dark:text-gray-100 text-sm font-medium line-clamp-1 mb-1"),f(n,"class",a="flex justify-between text-xs line-clamp-1 "+(((_=s[14])==null?void 0:_.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500")),f(e,"class","flex flex-col justify-center -space-y-0.5 px-2.5 w-full")},m(_,C){b(_,e,C),p(e,l),p(l,r),p(e,i),p(e,n),h.m(n,null),p(n,o),m&&m.m(n,null)},p(_,C){var V;C&512&&t!==(t=_[17](_[9])+"")&&F(r,t),u===(u=d(_))&&h?h.p(_,C):(h.d(1),h=u(_),h&&(h.c(),h.m(n,o))),_[11]?m?m.p(_,C):(m=et(_),m.c(),m.m(n,null)):m&&(m.d(1),m=null),C&16384&&a!==(a="flex justify-between text-xs line-clamp-1 "+(((V=_[14])==null?void 0:V.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"))&&f(n,"class",a)},i:Z,o:Z,d(_){_&&c(e),h.d(),m&&m.d()}}}function al(s){let e,l;return{c(){e=g("div"),l=W(s[10]),this.h()},l(t){e=w(t,"DIV",{class:!0});var r=k(e);l=$(r,s[10]),r.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs capitalize shrink-0")},m(t,r){b(t,e,r),p(e,l)},p(t,r){r&1024&&F(l,t[10])},d(t){t&&c(e)}}}function ol(s){let e,l=he(s[11])+"",t;return{c(){e=g("div"),t=W(l),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);t=$(i,l),i.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs capitalize shrink-0")},m(r,i){b(r,e,i),p(e,t)},p(r,i){i&2048&&l!==(l=he(r[11])+"")&&F(t,l)},d(r){r&&c(e)}}}function fl(s){let e,l,t,r=s[17](s[9])+"",i,n;function o(u,h){return u[11]?ol:al}let a=o(s),d=a(s);return{c(){e=g("div"),l=g("div"),t=g("div"),i=W(r),n=S(),d.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var h=k(e);l=w(h,"DIV",{class:!0});var m=k(l);t=w(m,"DIV",{class:!0});var _=k(t);i=$(_,r),_.forEach(c),n=U(m),d.l(m),m.forEach(c),h.forEach(c),this.h()},h(){f(t,"class","font-medium line-clamp-1 flex-1 pr-1"),f(l,"class","dark:text-gray-100 text-sm flex justify-between items-center"),f(e,"class","flex flex-col justify-center -space-y-0.5 px-1 w-full")},m(u,h){b(u,e,h),p(e,l),p(l,t),p(t,i),p(l,n),d.m(l,null)},p(u,h){h&512&&r!==(r=u[17](u[9])+"")&&F(i,r),a===(a=o(u))&&d?d.p(u,h):(d.d(1),d=a(u),d&&(d.c(),d.m(l,null)))},d(u){u&&c(e),d.d()}}}function cl(s){let e,l;return{c(){e=g("span"),l=W(s[10]),this.h()},l(t){e=w(t,"SPAN",{class:!0});var r=k(e);l=$(r,s[10]),r.forEach(c),this.h()},h(){f(e,"class","capitalize line-clamp-1")},m(t,r){b(t,e,r),p(e,l)},p(t,r){r&1024&&F(l,t[10])},d(t){t&&c(e)}}}function ul(s){let e=s[13].t("Collection")+"",l;return{c(){l=W(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("Collection")+"")&&F(l,e)},d(t){t&&c(l)}}}function dl(s){let e=s[13].t("Document")+"",l;return{c(){l=W(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("Document")+"")&&F(l,e)},d(t){t&&c(l)}}}function hl(s){let e=s[13].t("Note")+"",l;return{c(){l=W(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("Note")+"")&&F(l,e)},d(t){t&&c(l)}}}function _l(s){let e=s[13].t("File")+"",l;return{c(){l=W(e)},l(t){l=$(t,e)},m(t,r){b(t,l,r)},p(t,r){r&8192&&e!==(e=t[13].t("File")+"")&&F(l,e)},d(t){t&&c(l)}}}function et(s){let e,l=he(s[11])+"",t;return{c(){e=g("span"),t=W(l),this.h()},l(r){e=w(r,"SPAN",{class:!0});var i=k(e);t=$(i,l),i.forEach(c),this.h()},h(){f(e,"class","capitalize")},m(r,i){b(r,e,i),p(e,t)},p(r,i){i&2048&&l!==(l=he(r[11])+"")&&F(t,l)},d(r){r&&c(e)}}}function tt(s){let e,l,t,r,i,n,o,a;return t=new it({props:{className:"size-4"}}),{c(){e=g("div"),l=g("button"),X(t.$$.fragment),this.h()},l(d){e=w(d,"DIV",{class:!0});var u=k(e);l=w(u,"BUTTON",{"aria-label":!0,class:!0,type:!0});var h=k(l);Q(t.$$.fragment,h),h.forEach(c),u.forEach(c),this.h()},h(){var d;f(l,"aria-label",r=s[13].t("Remove File")),f(l,"class",i="bg-white text-black border border-gray-50 rounded-full "+(((d=s[14])==null?void 0:d.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden group-hover:visible invisible transition")),f(l,"type","button"),f(e,"class","absolute -top-1 -right-1")},m(d,u){b(d,e,u),p(e,l),Y(t,l,null),n=!0,o||(a=de(l,"click",ct(s[20])),o=!0)},p(d,u){var h;(!n||u&8192&&r!==(r=d[13].t("Remove File")))&&f(l,"aria-label",r),(!n||u&16384&&i!==(i="bg-white text-black border border-gray-50 rounded-full "+(((h=d[14])==null?void 0:h.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden group-hover:visible invisible transition")))&&f(l,"class",i)},i(d){n||(j(t.$$.fragment,d),n=!0)},o(d){I(t.$$.fragment,d),n=!1},d(d){d&&c(e),x(t),o=!1,a()}}}function ml(s){let e,l,t,r,i,n,o,a,d,u,h,m,_=s[0]&&xe(s);const C=[Kt,Jt],V=[];function D(v,N){return v[8]?1:0}t=D(s),r=V[t]=C[t](s);const T=[sl,nl],E=[];function M(v,N){return v[8]?1:0}n=M(s),o=E[n]=T[n](s);let B=s[4]&&tt(s);return{c(){_&&_.c(),e=S(),l=g("button"),r.c(),i=S(),o.c(),a=S(),B&&B.c(),this.h()},l(v){_&&_.l(v),e=U(v),l=w(v,"BUTTON",{class:!0,type:!0});var N=k(l);r.l(N),i=U(N),o.l(N),a=U(N),B&&B.l(N),N.forEach(c),this.h()},h(){f(l,"class",d="relative group p-1.5 "+s[1]+" flex items-center gap-1 "+s[2]+" "+(s[8]?"rounded-xl p-2":"rounded-2xl")+" text-left"),f(l,"type","button")},m(v,N){_&&_.m(v,N),b(v,e,N),b(v,l,N),V[t].m(l,null),p(l,i),E[n].m(l,null),p(l,a),B&&B.m(l,null),u=!0,h||(m=de(l,"click",s[21]),h=!0)},p(v,[N]){v[0]?_?(_.p(v,N),N&1&&j(_,1)):(_=xe(v),_.c(),j(_,1),_.m(e.parentNode,e)):_&&(te(),I(_,1,1,()=>{_=null}),le());let O=t;t=D(v),t===O?V[t].p(v,N):(te(),I(V[O],1,1,()=>{V[O]=null}),le(),r=V[t],r?r.p(v,N):(r=V[t]=C[t](v),r.c()),j(r,1),r.m(l,i));let P=n;n=M(v),n===P?E[n].p(v,N):(te(),I(E[P],1,1,()=>{E[P]=null}),le(),o=E[n],o?o.p(v,N):(o=E[n]=T[n](v),o.c()),j(o,1),o.m(l,a)),v[4]?B?(B.p(v,N),N&16&&j(B,1)):(B=tt(v),B.c(),j(B,1),B.m(l,null)):B&&(te(),I(B,1,1,()=>{B=null}),le()),(!u||N&262&&d!==(d="relative group p-1.5 "+v[1]+" flex items-center gap-1 "+v[2]+" "+(v[8]?"rounded-xl p-2":"rounded-2xl")+" text-left"))&&f(l,"class",d)},i(v){u||(j(_),j(r),j(o),j(B),u=!0)},o(v){I(_),I(r),I(o),I(B),u=!1},d(v){v&&(c(e),c(l)),_&&_.d(v),V[t].d(),E[n].d(),B&&B.d(),h=!1,m()}}}function pl(s,e,l){let t,r;Ce(s,dt,y=>l(14,r=y));const i=lt("i18n");Ce(s,i,y=>l(13,t=y));const n=ft();let{className:o="w-60"}=e,{colorClassName:a="bg-white dark:bg-gray-850 border border-gray-50 dark:border-gray-800"}=e,{url:d=null}=e,{dismissible:u=!1}=e,{modal:h=!1}=e,{loading:m=!1}=e,{item:_=null}=e,{edit:C=!1}=e,{small:V=!1}=e,{name:D}=e,{type:T}=e,{size:E}=e,M=!1;const B=y=>{try{return decodeURIComponent(y)}catch{return y}};function v(y){M=y,l(12,M)}function N(y){_=y,l(0,_)}const O=()=>{n("dismiss")},P=async()=>{var y,ae;(ae=(y=_==null?void 0:_.file)==null?void 0:y.data)!=null&&ae.content||(_==null?void 0:_.type)==="file"||h?l(12,M=!M):d&&(T==="file"?window.open(`${d}/content`,"_blank").focus():window.open(`${d}`,"_blank").focus()),n("click")};return s.$$set=y=>{"className"in y&&l(1,o=y.className),"colorClassName"in y&&l(2,a=y.colorClassName),"url"in y&&l(3,d=y.url),"dismissible"in y&&l(4,u=y.dismissible),"modal"in y&&l(5,h=y.modal),"loading"in y&&l(6,m=y.loading),"item"in y&&l(0,_=y.item),"edit"in y&&l(7,C=y.edit),"small"in y&&l(8,V=y.small),"name"in y&&l(9,D=y.name),"type"in y&&l(10,T=y.type),"size"in y&&l(11,E=y.size)},[_,o,a,d,u,h,m,C,V,D,T,E,M,t,r,i,n,B,v,N,O,P]}class Bl extends fe{constructor(e){super(),ce(this,e,pl,ml,ue,{className:1,colorClassName:2,url:3,dismissible:4,modal:5,loading:6,item:0,edit:7,small:8,name:9,type:10,size:11})}}export{wt as C,Ut as D,Bl as F,qt as P,Ml as a,vt as b,Pt as c,zl as d,Et as g,Il as u};
//# sourceMappingURL=C-kfCiLr.js.map
