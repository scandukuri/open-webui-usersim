import{S as Oe,i as Ne,s as Te,e as b,t as Q,l as q,c as k,a as g,b as J,d,p as z,f as u,L as le,g as H,h as c,$ as se,G as re,j as K,q as x,y as fe,r as W,u as _e,v as je,k as Be,w as Ae,Q as Se,a0 as Ve,X as De,a1 as Re,V as ie,W as ae,n as ge,m as me,C as ne,D as oe,E as ue,F as ce}from"./BsAB9Z30.js";import{e as de}from"./BjVHJN9o.js";import"./IHki7fMi.js";import{g as Me}from"./BDMaNMag.js";import"./BFmuJLeH.js";import{U as Ge}from"./BDV35Fwe.js";import{X as Le}from"./CubwYUHd.js";import{B as Pe}from"./HNTRN4uT.js";function be(i,e,t){const l=i.slice();return l[16]=e[t],l}function ke(i,e,t){const l=i.slice();return l[16]=e[t],l}function ve(i){const e=i.slice(),t=e[5].filter(l=>{var s,o;return(((o=(s=e[0])==null?void 0:s.read)==null?void 0:o.group_ids)??[]).includes(l.id)});return e[15]=t,e}function Ue(i){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=ae(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=ae(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M6.115 5.19l.319 1.913A6 6 0 008.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 002.288-4.042 1.087 1.087 0 00-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 01-.98-.314l-.295-.295a1.125 1.125 0 010-1.591l.13-.132a1.125 1.125 0 011.3-.21l.603.302a.809.809 0 001.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 001.528-1.732l.146-.292M6.115 5.19A9 9 0 1017.18 4.64M6.115 5.19A8.965 8.965 0 0112 3c1.929 0 3.716.607 5.18 1.64"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-5 h-5")},m(l,s){H(l,e,s),c(e,t)},d(l){l&&d(e)}}}function xe(i){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=ae(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=g(e);t=ae(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-5 h-5")},m(l,s){H(l,e,s),c(e,t)},d(l){l&&d(e)}}}function we(i){let e,t=i[6].t("Public")+"",l;return{c(){e=b("option"),l=Q(t),this.h()},l(s){e=k(s,"OPTION",{class:!0});var o=g(e);l=J(o,t),o.forEach(d),this.h()},h(){u(e,"class","text-gray-700"),e.__value="public",le(e,e.__value),e.selected=!0},m(s,o){H(s,e,o),c(e,l)},p(s,o){o&64&&t!==(t=s[6].t("Public")+"")&&K(l,t)},d(s){s&&d(e)}}}function We(i){let e=i[6].t("Accessible to all users")+"",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,s){H(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Accessible to all users")+"")&&K(t,e)},d(l){l&&d(t)}}}function Xe(i){let e=i[6].t("Only select users and groups with permission can access")+"",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,s){H(l,t,s)},p(l,s){s&64&&e!==(e=l[6].t("Only select users and groups with permission can access")+"")&&K(t,e)},d(l){l&&d(t)}}}function Ee(i){let e,t,l,s,o=i[6].t("Groups")+"",n,r,_,I,j,D,m,h,P=i[6].t("Select a group")+"",L,M,G,f,O,V,E,S,R,X,U,N=de(i[5].filter(i[9])),v=[];for(let a=0;a<N.length;a+=1)v[a]=ye(ke(i,N,a));const B=[ze,qe],w=[];function y(a,p){return a[15].length>0?0:1}return E=y(i),S=w[E]=B[E](i),{c(){e=b("div"),t=b("div"),l=b("div"),s=b("div"),n=Q(o),r=q(),_=b("div"),I=b("div"),j=b("div"),D=b("div"),m=b("select"),h=b("option"),L=Q(P);for(let a=0;a<v.length;a+=1)v[a].c();G=q(),f=b("hr"),O=q(),V=b("div"),S.c(),this.h()},l(a){e=k(a,"DIV",{});var p=g(e);t=k(p,"DIV",{class:!0});var T=g(t);l=k(T,"DIV",{class:!0});var A=g(l);s=k(A,"DIV",{class:!0});var F=g(s);n=J(F,o),F.forEach(d),A.forEach(d),r=z(T),_=k(T,"DIV",{class:!0});var $=g(_);I=k($,"DIV",{class:!0});var ee=g(I);j=k(ee,"DIV",{class:!0});var Y=g(j);D=k(Y,"DIV",{class:!0});var Z=g(D);m=k(Z,"SELECT",{class:!0});var C=g(m);h=k(C,"OPTION",{class:!0});var te=g(h);L=J(te,P),te.forEach(d);for(let he=0;he<v.length;he+=1)v[he].l(C);C.forEach(d),Z.forEach(d),Y.forEach(d),ee.forEach(d),$.forEach(d),G=z(T),f=k(T,"HR",{class:!0}),O=z(T),V=k(T,"DIV",{class:!0});var pe=g(V);S.l(pe),pe.forEach(d),T.forEach(d),p.forEach(d),this.h()},h(){u(s,"class","text-sm font-semibold"),u(l,"class","flex justify-between mb-1.5"),u(h,"class","text-gray-700"),h.__value="",le(h,h.__value),h.disabled=!0,h.selected=!0,u(m,"class",M="outline-hidden bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(i[4]?"":"text-gray-500")+" dark:placeholder-gray-500"),i[4]===void 0&&Se(()=>i[10].call(m)),u(D,"class","w-full px-0.5"),u(j,"class","flex flex-1 items-center"),u(I,"class","flex w-full"),u(_,"class","mb-1"),u(f,"class","border-gray-100 dark:border-gray-700/10 mt-1.5 mb-2.5 w-full"),u(V,"class","flex flex-col gap-2 mb-1 px-0.5"),u(t,"class","")},m(a,p){H(a,e,p),c(e,t),c(t,l),c(l,s),c(s,n),c(t,r),c(t,_),c(_,I),c(I,j),c(j,D),c(D,m),c(m,h),c(h,L);for(let T=0;T<v.length;T+=1)v[T]&&v[T].m(m,null);se(m,i[4],!0),c(t,G),c(t,f),c(t,O),c(t,V),w[E].m(V,null),R=!0,X||(U=[re(m,"change",i[10]),re(m,"change",i[11])],X=!0)},p(a,p){if((!R||p&64)&&o!==(o=a[6].t("Groups")+"")&&K(n,o),(!R||p&64)&&P!==(P=a[6].t("Select a group")+"")&&K(L,P),p&33){N=de(a[5].filter(a[9]));let A;for(A=0;A<N.length;A+=1){const F=ke(a,N,A);v[A]?v[A].p(F,p):(v[A]=ye(F),v[A].c(),v[A].m(m,null))}for(;A<v.length;A+=1)v[A].d(1);v.length=N.length}(!R||p&49&&M!==(M="outline-hidden bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(a[4]?"":"text-gray-500")+" dark:placeholder-gray-500"))&&u(m,"class",M),p&49&&se(m,a[4]);let T=E;E=y(a),E===T?w[E].p(a,p):(fe(),W(w[T],1,1,()=>{w[T]=null}),_e(),S=w[E],S?S.p(a,p):(S=w[E]=B[E](a),S.c()),x(S,1),S.m(V,null))},i(a){R||(x(S),R=!0)},o(a){W(S),R=!1},d(a){a&&d(e),Ve(v,a),w[E].d(),X=!1,De(U)}}}function ye(i){let e,t=i[16].name+"",l,s;return{c(){e=b("option"),l=Q(t),this.h()},l(o){e=k(o,"OPTION",{class:!0});var n=g(e);l=J(n,t),n.forEach(d),this.h()},h(){u(e,"class","text-gray-700"),e.__value=s=i[16].id,le(e,e.__value)},m(o,n){H(o,e,n),c(e,l)},p(o,n){n&33&&t!==(t=o[16].name+"")&&K(l,t),n&33&&s!==(s=o[16].id)&&(e.__value=s,le(e,e.__value))},d(o){o&&d(e)}}}function qe(i){let e,t,l=i[6].t("No groups with access, add a group to grant access")+"",s;return{c(){e=b("div"),t=b("div"),s=Q(l),this.h()},l(o){e=k(o,"DIV",{class:!0});var n=g(e);t=k(n,"DIV",{class:!0});var r=g(t);s=J(r,l),r.forEach(d),n.forEach(d),this.h()},h(){u(t,"class","text-gray-500 text-xs text-center py-2 px-10"),u(e,"class","flex items-center justify-center")},m(o,n){H(o,e,n),c(e,t),c(t,s)},p(o,n){n&64&&l!==(l=o[6].t("No groups with access, add a group to grant access")+"")&&K(s,l)},i:ge,o:ge,d(o){o&&d(e)}}}function ze(i){let e,t,l=de(i[15]),s=[];for(let n=0;n<l.length;n+=1)s[n]=Ie(be(i,l,n));const o=n=>W(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=me()},l(n){for(let r=0;r<s.length;r+=1)s[r].l(n);e=me()},m(n,r){for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(n,r);H(n,e,r),t=!0},p(n,r){if(r&103){l=de(n[15]);let _;for(_=0;_<l.length;_+=1){const I=be(n,l,_);s[_]?(s[_].p(I,r),x(s[_],1)):(s[_]=Ie(I),s[_].c(),x(s[_],1),s[_].m(e.parentNode,e))}for(fe(),_=l.length;_<s.length;_+=1)o(_);_e()}},i(n){if(!t){for(let r=0;r<l.length;r+=1)x(s[r]);t=!0}},o(n){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)W(s[r]);t=!1},d(n){n&&d(e),Ve(s,n)}}}function He(i){let e,t;return e=new Pe({props:{type:"info",content:i[6].t("Read")}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ue(e,l,s),t=!0},p(l,s){const o={};s&64&&(o.content=l[6].t("Read")),e.$set(o)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Fe(i){let e,t;return e=new Pe({props:{type:"success",content:i[6].t("Write")}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,s){ue(e,l,s),t=!0},p(l,s){const o={};s&64&&(o.content=l[6].t("Write")),e.$set(o)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Ie(i){let e,t,l,s,o,n,r=i[16].name+"",_,I,j,D,m,h,P,L,M,G,f,O,V,E;s=new Ge({props:{className:"size-4"}});const S=[Fe,He],R=[];function X(v,B){var w,y;return B&33&&(m=null),m==null&&(m=!!(((y=(w=v[0])==null?void 0:w.write)==null?void 0:y.group_ids)??[]).includes(v[16].id)),m?0:1}h=X(i,-1),P=R[h]=S[h](i);function U(){return i[12](i[16])}G=new Le({});function N(){return i[13](i[16])}return{c(){e=b("div"),t=b("div"),l=b("div"),ne(s.$$.fragment),o=q(),n=b("div"),_=Q(r),I=q(),j=b("div"),D=b("button"),P.c(),L=q(),M=b("button"),ne(G.$$.fragment),f=q(),this.h()},l(v){e=k(v,"DIV",{class:!0});var B=g(e);t=k(B,"DIV",{class:!0});var w=g(t);l=k(w,"DIV",{});var y=g(l);oe(s.$$.fragment,y),y.forEach(d),o=z(w),n=k(w,"DIV",{});var a=g(n);_=J(a,r),a.forEach(d),w.forEach(d),I=z(B),j=k(B,"DIV",{class:!0});var p=g(j);D=k(p,"BUTTON",{class:!0,type:!0});var T=g(D);P.l(T),T.forEach(d),L=z(p),M=k(p,"BUTTON",{class:!0,type:!0});var A=g(M);oe(G.$$.fragment,A),A.forEach(d),p.forEach(d),f=z(B),B.forEach(d),this.h()},h(){u(t,"class","flex items-center gap-1.5 w-full font-medium"),u(D,"class",""),u(D,"type","button"),u(M,"class","rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),u(M,"type","button"),u(j,"class","w-full flex justify-end items-center gap-0.5"),u(e,"class","flex items-center gap-3 justify-between text-xs w-full transition")},m(v,B){H(v,e,B),c(e,t),c(t,l),ue(s,l,null),c(t,o),c(t,n),c(n,_),c(e,I),c(e,j),c(j,D),R[h].m(D,null),c(j,L),c(j,M),ue(G,M,null),c(e,f),O=!0,V||(E=[re(D,"click",U),re(M,"click",N)],V=!0)},p(v,B){i=v,(!O||B&33)&&r!==(r=i[16].name+"")&&K(_,r);let w=h;h=X(i,B),h===w?R[h].p(i,B):(fe(),W(R[w],1,1,()=>{R[w]=null}),_e(),P=R[h],P?P.p(i,B):(P=R[h]=S[h](i),P.c()),x(P,1),P.m(D,null))},i(v){O||(x(s.$$.fragment,v),x(P),x(G.$$.fragment,v),O=!0)},o(v){W(s.$$.fragment,v),W(P),W(G.$$.fragment,v),O=!1},d(v){v&&d(e),ce(s),R[h].d(),ce(G),V=!1,De(E)}}}function Qe(i){let e,t,l,s=i[6].t("Visibility")+"",o,n,r,_,I,j,D,m,h,P=i[6].t("Private")+"",L,M,G,f,O,V,E,S;function R(a,p){return a[0]!==null?xe:Ue}let X=R(i),U=X(i),N=i[3]&&we(i);function v(a,p){return a[0]!==null?Xe:We}let B=v(i),w=B(i),y=i[0]!==null&&Ee(ve(i));return{c(){e=b("div"),t=b("div"),l=b("div"),o=Q(s),n=q(),r=b("div"),_=b("div"),I=b("div"),U.c(),j=q(),D=b("div"),m=b("select"),h=b("option"),L=Q(P),N&&N.c(),G=q(),f=b("div"),w.c(),O=q(),y&&y.c(),this.h()},l(a){e=k(a,"DIV",{class:!0});var p=g(e);t=k(p,"DIV",{class:!0});var T=g(t);l=k(T,"DIV",{class:!0});var A=g(l);o=J(A,s),A.forEach(d),n=z(T),r=k(T,"DIV",{class:!0});var F=g(r);_=k(F,"DIV",{});var $=g(_);I=k($,"DIV",{class:!0});var ee=g(I);U.l(ee),ee.forEach(d),$.forEach(d),j=z(F),D=k(F,"DIV",{});var Y=g(D);m=k(Y,"SELECT",{id:!0,class:!0});var Z=g(m);h=k(Z,"OPTION",{class:!0});var C=g(h);L=J(C,P),C.forEach(d),N&&N.l(Z),Z.forEach(d),G=z(Y),f=k(Y,"DIV",{class:!0});var te=g(f);w.l(te),te.forEach(d),Y.forEach(d),F.forEach(d),T.forEach(d),O=z(p),y&&y.l(p),p.forEach(d),this.h()},h(){u(l,"class","text-sm font-semibold mb-1.5"),u(I,"class","p-2 bg-black/5 dark:bg-white/5 rounded-full"),u(h,"class","text-gray-700"),h.__value="private",le(h,h.__value),h.selected=!0,u(m,"id","models"),u(m,"class","outline-hidden bg-transparent text-sm font-medium rounded-lg block w-fit pr-10 max-w-full placeholder-gray-400"),u(f,"class","text-xs text-gray-400 font-medium"),u(r,"class","flex gap-2.5 items-center mb-1"),u(t,"class",""),u(e,"class","rounded-lg flex flex-col gap-2")},m(a,p){H(a,e,p),c(e,t),c(t,l),c(l,o),c(t,n),c(t,r),c(r,_),c(_,I),U.m(I,null),c(r,j),c(r,D),c(D,m),c(m,h),c(h,L),N&&N.m(m,null),se(m,i[0]!==null?"private":"public"),c(D,G),c(D,f),w.m(f,null),c(e,O),y&&y.m(e,null),V=!0,E||(S=re(m,"change",i[8]),E=!0)},p(a,[p]){(!V||p&64)&&s!==(s=a[6].t("Visibility")+"")&&K(o,s),X!==(X=R(a))&&(U.d(1),U=X(a),U&&(U.c(),U.m(I,null))),(!V||p&64)&&P!==(P=a[6].t("Private")+"")&&K(L,P),a[3]?N?N.p(a,p):(N=we(a),N.c(),N.m(m,null)):N&&(N.d(1),N=null),(!V||p&1&&M!==(M=a[0]!==null?"private":"public"))&&se(m,a[0]!==null?"private":"public"),B===(B=v(a))&&w?w.p(a,p):(w.d(1),w=B(a),w&&(w.c(),w.m(f,null))),a[0]!==null?y?(y.p(ve(a),p),p&1&&x(y,1)):(y=Ee(ve(a)),y.c(),x(y,1),y.m(e,null)):y&&(fe(),W(y,1,1,()=>{y=null}),_e())},i(a){V||(x(y),V=!0)},o(a){W(y),V=!1},d(a){a&&d(e),U.d(),N&&N.d(),w.d(),y&&y.d(),E=!1,S()}}}function Je(i,e,t){let l;const s=je("i18n");Be(i,s,f=>t(6,l=f));let{onChange:o=()=>{}}=e,{accessRoles:n=["read"]}=e,{accessControl:r={}}=e,{allowPublic:_=!0}=e,I="",j=[];const D=()=>{!_&&r===null&&(t(0,r={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}}),o(r))};Ae(async()=>{var f,O,V,E;t(5,j=await Me(localStorage.token)),r===null?D():t(0,r={read:{group_ids:((f=r==null?void 0:r.read)==null?void 0:f.group_ids)??[],user_ids:((O=r==null?void 0:r.read)==null?void 0:O.user_ids)??[]},write:{group_ids:((V=r==null?void 0:r.write)==null?void 0:V.group_ids)??[],user_ids:((E=r==null?void 0:r.write)==null?void 0:E.user_ids)??[]}})});const m=f=>{f.target.value==="public"?t(0,r=null):t(0,r={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}}),o(r)},h=f=>{var O;return!(((O=r==null?void 0:r.read)==null?void 0:O.group_ids)??[]).includes(f.id)};function P(){I=Re(this),t(4,I),t(5,j),t(0,r)}const L=()=>{var f;I!==""&&(t(0,r.read.group_ids=[...((f=r==null?void 0:r.read)==null?void 0:f.group_ids)??[],I],r),t(4,I=""),o(r))},M=f=>{var O,V,E;n.includes("write")&&((((O=r==null?void 0:r.write)==null?void 0:O.group_ids)??[]).includes(f.id)?t(0,r.write.group_ids=(((V=r==null?void 0:r.write)==null?void 0:V.group_ids)??[]).filter(S=>S!==f.id),r):t(0,r.write.group_ids=[...((E=r==null?void 0:r.write)==null?void 0:E.group_ids)??[],f.id],r),o(r))},G=f=>{var O,V;t(0,r.read.group_ids=(((O=r==null?void 0:r.read)==null?void 0:O.group_ids)??[]).filter(E=>E!==f.id),r),t(0,r.write.group_ids=(((V=r==null?void 0:r.write)==null?void 0:V.group_ids)??[]).filter(E=>E!==f.id),r),o(r)};return i.$$set=f=>{"onChange"in f&&t(1,o=f.onChange),"accessRoles"in f&&t(2,n=f.accessRoles),"accessControl"in f&&t(0,r=f.accessControl),"allowPublic"in f&&t(3,_=f.allowPublic)},i.$$.update=()=>{i.$$.dirty&9&&!_&&r===null&&D()},[r,o,n,_,I,j,l,s,m,h,P,L,M,G]}class rt extends Oe{constructor(e){super(),Ne(this,e,Je,Qe,Te,{onChange:1,accessRoles:2,accessControl:0,allowPublic:3})}}export{rt as A};
//# sourceMappingURL=AyEQufUY.js.map
