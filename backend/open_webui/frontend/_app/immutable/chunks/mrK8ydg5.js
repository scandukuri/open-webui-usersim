import{S as ut,i as ct,s as dt,H as Ue,I as Le,C as me,l as O,e as c,t as M,D as he,p as x,c as d,a as v,d as i,b as T,f as r,E as pe,g as Ie,h as e,G as fe,J as ft,K as We,j as K,q as X,y as mt,r as Y,u as ht,F as ve,k as lt,v as pt,w as vt,M as _t,T as gt,L as De,X as bt}from"./BsAB9Z30.js";import"./IHki7fMi.js";import{T as wt}from"./DmxdQp_j.js";import{t as kt}from"./DQjSdZ1e.js";import{T as yt}from"./cMkWkffq.js";import{L as Ct}from"./BW2ckgCV.js";import{A as Et}from"./B8Yuwcxd.js";import{u as Dt}from"./Px_ajtSr.js";import{s as It}from"./C06TgqeF.js";import{S as Vt}from"./CbQmQGdd.js";function At(t){let l,s,h,g,w,_,n,y,L,C,b=t[7].t("Access")+"",E,S,D,A,V="/",F,u,W,N,p,G;return y=new Ct({props:{strokeWidth:"2.5",className:"size-3.5"}}),{c(){l=c("div"),s=c("div"),h=c("input"),w=O(),_=c("div"),n=c("button"),me(y.$$.fragment),L=O(),C=c("div"),E=M(b),S=O(),D=c("div"),A=c("div"),A.textContent=V,F=O(),u=c("input"),this.h()},l(f){l=d(f,"DIV",{class:!0});var k=v(l);s=d(k,"DIV",{class:!0});var B=v(s);h=d(B,"INPUT",{class:!0,placeholder:!0}),w=x(B),_=d(B,"DIV",{class:!0});var j=v(_);n=d(j,"BUTTON",{class:!0,type:!0});var o=v(n);he(y.$$.fragment,o),L=x(o),C=d(o,"DIV",{class:!0});var Z=v(C);E=T(Z,b),Z.forEach(i),o.forEach(i),j.forEach(i),B.forEach(i),S=x(k),D=d(k,"DIV",{class:!0});var H=v(D);A=d(H,"DIV",{class:!0,"data-svelte-h":!0}),gt(A)!=="svelte-1x25scu"&&(A.textContent=V),F=x(H),u=d(H,"INPUT",{class:!0,placeholder:!0}),H.forEach(i),k.forEach(i),this.h()},h(){r(h,"class","text-2xl font-semibold w-full bg-transparent outline-hidden"),r(h,"placeholder",g=t[7].t("Title")),h.required=!0,r(C,"class","text-sm font-medium shrink-0"),r(n,"class","bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center"),r(n,"type","button"),r(_,"class","self-center shrink-0"),r(s,"class","flex items-center"),r(A,"class",""),r(u,"class","w-full bg-transparent outline-hidden"),r(u,"placeholder",W=t[7].t("Command")),u.required=!0,u.disabled=t[0],r(D,"class","flex gap-0.5 items-center text-xs text-gray-500"),r(l,"class","flex flex-col w-full")},m(f,k){Ie(f,l,k),e(l,s),e(s,h),De(h,t[1]),e(s,w),e(s,_),e(_,n),pe(y,n,null),e(n,L),e(n,C),e(C,E),e(l,S),e(l,D),e(D,A),e(D,F),e(D,u),De(u,t[3]),N=!0,p||(G=[fe(h,"input",t[18]),fe(n,"click",t[19]),fe(u,"input",t[20]),fe(u,"input",t[10])],p=!0)},p(f,k){(!N||k&128&&g!==(g=f[7].t("Title")))&&r(h,"placeholder",g),k&2&&h.value!==f[1]&&De(h,f[1]),(!N||k&128)&&b!==(b=f[7].t("Access")+"")&&K(E,b),(!N||k&128&&W!==(W=f[7].t("Command")))&&r(u,"placeholder",W),(!N||k&1)&&(u.disabled=f[0]),k&8&&u.value!==f[3]&&De(u,f[3])},i(f){N||(X(y.$$.fragment,f),N=!0)},o(f){Y(y.$$.fragment,f),N=!1},d(f){f&&i(l),ve(y),p=!1,bt(G)}}}function rt(t){let l,s,h;return s=new Vt({}),{c(){l=c("div"),me(s.$$.fragment),this.h()},l(g){l=d(g,"DIV",{class:!0});var w=v(l);he(s.$$.fragment,w),w.forEach(i),this.h()},h(){r(l,"class","ml-1.5 self-center")},m(g,w){Ie(g,l,w),pe(s,l,null),h=!0},i(g){h||(X(s.$$.fragment,g),h=!0)},o(g){Y(s.$$.fragment,g),h=!1},d(g){g&&i(l),ve(s)}}}function Mt(t){var Ke,Xe,Ze,Qe;let l,s,h,g,w,_,n,y,L,C,b,E,S=t[7].t("Prompt Content")+"",D,A,V,F,u,W,N,p,G,f=t[7].t("Format your variables using brackets like this:")+"",k,B,j,o="{{",Z,H=t[7].t("variable")+"",_e,Be="}}",Ve,Ae,re=t[7].t("Make sure to enclose them with")+"",ge,Me,$,He="{{",Te,Se,ne=t[7].t("and")+"",be,Ne,ee,Re="}}",Pe,Oe,xe,te,Q,oe=t[7].t("To learn more about powerful prompt variables, click here")+"",we,je,ae,q,se,ie=t[7].t("Save & Create")+"",ke,qe,ye,z,ze,Ge;function nt(a){t[16](a)}function ot(a){t[17](a)}let Fe={accessRoles:["read","write"],allowPublic:((Ze=(Xe=(Ke=t[8])==null?void 0:Ke.permissions)==null?void 0:Xe.sharing)==null?void 0:Ze.public_prompts)||((Qe=t[8])==null?void 0:Qe.role)==="admin"};t[6]!==void 0&&(Fe.show=t[6]),t[5]!==void 0&&(Fe.accessControl=t[5]),l=new Et({props:Fe}),Ue.push(()=>Le(l,"show",nt)),Ue.push(()=>Le(l,"accessControl",ot)),y=new yt({props:{content:`${t[7].t("Only alphanumeric characters and hyphens are allowed")} - ${t[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:t[3]})}`,placement:"bottom-start",$$slots:{default:[At]},$$scope:{ctx:t}}});function it(a){t[21](a)}let Je={className:"text-sm w-full bg-transparent outline-hidden overflow-y-hidden resize-none",placeholder:t[7].t("Write a summary in 50 words that summarizes [topic or keyword]."),rows:6,required:!0};t[4]!==void 0&&(Je.value=t[4]),u=new wt({props:Je}),Ue.push(()=>Le(u,"value",it));let I=t[2]&&rt();return{c(){me(l.$$.fragment),g=O(),w=c("div"),_=c("form"),n=c("div"),me(y.$$.fragment),L=O(),C=c("div"),b=c("div"),E=c("div"),D=M(S),A=O(),V=c("div"),F=c("div"),me(u.$$.fragment),N=O(),p=c("div"),G=M("ⓘ "),k=M(f),B=M(" "),j=c("span"),Z=M(o),_e=M(H),Ve=M(Be),Ae=M(`.
					`),ge=M(re),Me=O(),$=c("span"),Te=M(He),Se=O(),be=M(ne),Ne=O(),ee=c("span"),Pe=M(Re),Oe=M("."),xe=O(),te=c("div"),Q=c("a"),we=M(oe),je=O(),ae=c("div"),q=c("button"),se=c("div"),ke=M(ie),qe=O(),I&&I.c(),this.h()},l(a){he(l.$$.fragment,a),g=x(a),w=d(a,"DIV",{class:!0});var m=v(w);_=d(m,"FORM",{class:!0});var U=v(_);n=d(U,"DIV",{class:!0});var le=v(n);he(y.$$.fragment,le),le.forEach(i),L=x(U),C=d(U,"DIV",{class:!0});var J=v(C);b=d(J,"DIV",{class:!0});var ue=v(b);E=d(ue,"DIV",{class:!0});var ce=v(E);D=T(ce,S),ce.forEach(i),ue.forEach(i),A=x(J),V=d(J,"DIV",{class:!0});var R=v(V);F=d(R,"DIV",{});var de=v(F);he(u.$$.fragment,de),de.forEach(i),N=x(R),p=d(R,"DIV",{class:!0});var P=v(p);G=T(P,"ⓘ "),k=T(P,f),B=T(P," "),j=d(P,"SPAN",{class:!0});var Ce=v(j);Z=T(Ce,o),_e=T(Ce,H),Ve=T(Ce,Be),Ce.forEach(i),Ae=T(P,`.
					`),ge=T(P,re),Me=x(P),$=d(P,"SPAN",{class:!0});var Ye=v($);Te=T(Ye,He),Ye.forEach(i),Se=x(P),be=T(P,ne),Ne=x(P),ee=d(P,"SPAN",{class:!0});var $e=v(ee);Pe=T($e,Re),$e.forEach(i),Oe=T(P,"."),P.forEach(i),xe=x(R),te=d(R,"DIV",{class:!0});var et=v(te);Q=d(et,"A",{href:!0,target:!0});var tt=v(Q);we=T(tt,oe),tt.forEach(i),et.forEach(i),R.forEach(i),J.forEach(i),je=x(U),ae=d(U,"DIV",{class:!0});var at=v(ae);q=d(at,"BUTTON",{class:!0,type:!0});var Ee=v(q);se=d(Ee,"DIV",{class:!0});var st=v(se);ke=T(st,ie),st.forEach(i),qe=x(Ee),I&&I.l(Ee),Ee.forEach(i),at.forEach(i),U.forEach(i),m.forEach(i),this.h()},h(){r(n,"class","my-2"),r(E,"class","self-center text-sm font-semibold"),r(b,"class","flex w-full justify-between"),r(j,"class","text-gray-600 dark:text-gray-300 font-medium"),r($,"class","text-gray-600 dark:text-gray-300 font-medium"),r(ee,"class","text-gray-600 dark:text-gray-300 font-medium"),r(p,"class","text-xs text-gray-400 dark:text-gray-500"),r(Q,"href","https://docs.openwebui.com/features/workspace/prompts"),r(Q,"target","_blank"),r(te,"class","text-xs text-gray-400 dark:text-gray-500 underline"),r(V,"class","mt-2"),r(C,"class","my-2"),r(se,"class","self-center font-medium"),r(q,"class",ye="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(t[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"),r(q,"type","submit"),q.disabled=t[2],r(ae,"class","my-4 flex justify-end pb-20"),r(_,"class","flex flex-col w-full mb-10"),r(w,"class","w-full max-h-full flex justify-center")},m(a,m){pe(l,a,m),Ie(a,g,m),Ie(a,w,m),e(w,_),e(_,n),pe(y,n,null),e(_,L),e(_,C),e(C,b),e(b,E),e(E,D),e(C,A),e(C,V),e(V,F),pe(u,F,null),e(V,N),e(V,p),e(p,G),e(p,k),e(p,B),e(p,j),e(j,Z),e(j,_e),e(j,Ve),e(p,Ae),e(p,ge),e(p,Me),e(p,$),e($,Te),e(p,Se),e(p,be),e(p,Ne),e(p,ee),e(ee,Pe),e(p,Oe),e(V,xe),e(V,te),e(te,Q),e(Q,we),e(_,je),e(_,ae),e(ae,q),e(q,se),e(se,ke),e(q,qe),I&&I.m(q,null),z=!0,ze||(Ge=fe(_,"submit",ft(t[22])),ze=!0)},p(a,[m]){var ue,ce,R,de;const U={};m&256&&(U.allowPublic=((R=(ce=(ue=a[8])==null?void 0:ue.permissions)==null?void 0:ce.sharing)==null?void 0:R.public_prompts)||((de=a[8])==null?void 0:de.role)==="admin"),!s&&m&64&&(s=!0,U.show=a[6],We(()=>s=!1)),!h&&m&32&&(h=!0,U.accessControl=a[5],We(()=>h=!1)),l.$set(U);const le={};m&136&&(le.content=`${a[7].t("Only alphanumeric characters and hyphens are allowed")} - ${a[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:a[3]})}`),m&16777419&&(le.$$scope={dirty:m,ctx:a}),y.$set(le),(!z||m&128)&&S!==(S=a[7].t("Prompt Content")+"")&&K(D,S);const J={};m&128&&(J.placeholder=a[7].t("Write a summary in 50 words that summarizes [topic or keyword].")),!W&&m&16&&(W=!0,J.value=a[4],We(()=>W=!1)),u.$set(J),(!z||m&128)&&f!==(f=a[7].t("Format your variables using brackets like this:")+"")&&K(k,f),(!z||m&128)&&H!==(H=a[7].t("variable")+"")&&K(_e,H),(!z||m&128)&&re!==(re=a[7].t("Make sure to enclose them with")+"")&&K(ge,re),(!z||m&128)&&ne!==(ne=a[7].t("and")+"")&&K(be,ne),(!z||m&128)&&oe!==(oe=a[7].t("To learn more about powerful prompt variables, click here")+"")&&K(we,oe),(!z||m&128)&&ie!==(ie=a[7].t("Save & Create")+"")&&K(ke,ie),a[2]?I?m&4&&X(I,1):(I=rt(),I.c(),X(I,1),I.m(q,null)):I&&(mt(),Y(I,1,1,()=>{I=null}),ht()),(!z||m&4&&ye!==(ye="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(a[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"))&&r(q,"class",ye),(!z||m&4)&&(q.disabled=a[2])},i(a){z||(X(l.$$.fragment,a),X(y.$$.fragment,a),X(u.$$.fragment,a),X(I),z=!0)},o(a){Y(l.$$.fragment,a),Y(y.$$.fragment,a),Y(u.$$.fragment,a),Y(I),z=!1},d(a){a&&(i(g),i(w)),ve(l,a),ve(y),ve(u),I&&I.d(),ze=!1,Ge()}}}function Tt(t,l,s){let h,g;lt(t,Dt,o=>s(8,g=o));let{onSubmit:w}=l,{edit:_=!1}=l,{prompt:n=null}=l,{clone:y=!1}=l;const L=pt("i18n");lt(t,L,o=>s(7,h=o));let C=!1,b="",E="",S="",D={},A=!1,V=!1;function F(o){s(15,V=!0)}const u=async()=>{s(2,C=!0),W(E)?await w({title:b,command:E,content:S,access_control:D}):kt.error(h.t("Only alphanumeric characters and hyphens are allowed in the command string.")),s(2,C=!1)},W=o=>/^[a-zA-Z0-9-_]+$/.test(o);vt(async()=>{n&&(s(1,b=n.title),await _t(),s(3,E=n.command.at(0)==="/"?n.command.slice(1):n.command),s(4,S=n.content),s(5,D=(n==null?void 0:n.access_control)===void 0?{}:n==null?void 0:n.access_control))});function N(o){A=o,s(6,A)}function p(o){D=o,s(5,D)}function G(){b=this.value,s(1,b)}const f=()=>{s(6,A=!0)};function k(){E=this.value,s(3,E),s(0,_),s(15,V),s(1,b)}function B(o){S=o,s(4,S)}const j=()=>{u()};return t.$$set=o=>{"onSubmit"in o&&s(12,w=o.onSubmit),"edit"in o&&s(0,_=o.edit),"prompt"in o&&s(13,n=o.prompt),"clone"in o&&s(14,y=o.clone)},t.$$.update=()=>{t.$$.dirty&32771&&!_&&!V&&s(3,E=b!==""?It(b):"")},[_,b,C,E,S,D,A,h,g,L,F,u,w,n,y,V,N,p,G,f,k,B,j]}class Lt extends ut{constructor(l){super(),ct(this,l,Tt,Mt,dt,{onSubmit:12,edit:0,prompt:13,clone:14})}}export{Lt as P};
//# sourceMappingURL=mrK8ydg5.js.map
