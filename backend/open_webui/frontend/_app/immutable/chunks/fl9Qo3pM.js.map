{"version":3,"file":"fl9Qo3pM.js","sources":["../../../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/highlight.js","../../../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/debounce.js","../../../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/platform.js","../../../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/scroll.js","../../../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/rovingFocus.js","../../../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/typeahead.js","../../../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/focus.js","../../../../../../node_modules/@melt-ui/svelte/dist/builders/menu/create.js","../../../../../../node_modules/@melt-ui/svelte/dist/builders/dropdown-menu/create.js","../../../../../../node_modules/@melt-ui/svelte/dist/builders/separator/create.js","../../../../../../node_modules/bits-ui/dist/bits/menu/ctx.js","../../../../../../node_modules/bits-ui/dist/bits/menu/components/menu-item.svelte","../../../../../../node_modules/bits-ui/dist/bits/menu/components/menu.svelte","../../../../../../node_modules/bits-ui/dist/bits/menu/components/menu-content.svelte","../../../../../../node_modules/bits-ui/dist/bits/menu/components/menu-trigger.svelte"],"sourcesContent":["export function addHighlight(element) {\n    element.setAttribute('data-highlighted', '');\n}\nexport function removeHighlight(element) {\n    element.removeAttribute('data-highlighted');\n}\n","export function debounce(fn, wait = 500) {\n    let timeout = null;\n    return function (...args) {\n        const later = () => {\n            timeout = null;\n            fn(...args);\n        };\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\n","export const isDom = () => typeof window !== 'undefined';\nexport function getPlatform() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const agent = navigator.userAgentData;\n    return (agent?.platform ?? navigator.platform);\n}\nconst pt = (v) => isDom() && v.test(getPlatform().toLowerCase());\nconst ua = (v) => isDom() && v.test(navigator.userAgent);\nconst vn = (v) => isDom() && v.test(navigator.vendor);\nexport const isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nexport const isMac = () => pt(/^mac/) && !isTouchDevice();\nexport const isIPhone = () => pt(/^iphone/);\nexport const isSafari = () => isApple() && vn(/apple/i);\nexport const isFirefox = () => ua(/firefox\\//i);\nexport const isApple = () => pt(/mac|iphone|ipad|ipod/i);\nexport const isIos = () => isApple() && !isMac();\n","// Modified from @zag-js/remove-scroll v0.10.2 (2023-06-10)\n// Source: https://github.com/chakra-ui/zag\n// https://github.com/chakra-ui/zag/blob/main/packages/utilities/remove-scroll/src/index.ts\nimport { noop } from './callbacks.js';\nimport { isIos } from './platform.js';\nconst LOCK_CLASSNAME = 'data-melt-scroll-lock';\nfunction assignStyle(el, style) {\n    if (!el)\n        return;\n    const previousStyle = el.style.cssText;\n    Object.assign(el.style, style);\n    return () => {\n        el.style.cssText = previousStyle;\n    };\n}\nfunction setCSSProperty(el, property, value) {\n    if (!el)\n        return;\n    const previousValue = el.style.getPropertyValue(property);\n    el.style.setProperty(property, value);\n    return () => {\n        if (previousValue) {\n            el.style.setProperty(property, previousValue);\n        }\n        else {\n            el.style.removeProperty(property);\n        }\n    };\n}\nfunction getPaddingProperty(documentElement) {\n    // RTL <body> scrollbar\n    const documentLeft = documentElement.getBoundingClientRect().left;\n    const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n    return scrollbarX ? 'paddingLeft' : 'paddingRight';\n}\nexport function removeScroll(_document) {\n    const doc = _document ?? document;\n    const win = doc.defaultView ?? window;\n    const { documentElement, body } = doc;\n    const locked = body.hasAttribute(LOCK_CLASSNAME);\n    if (locked)\n        return noop;\n    body.setAttribute(LOCK_CLASSNAME, '');\n    const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n    const setScrollbarWidthProperty = () => setCSSProperty(documentElement, '--scrollbar-width', `${scrollbarWidth}px`);\n    const paddingProperty = getPaddingProperty(documentElement);\n    const scrollbarSidePadding = win.getComputedStyle(body)[paddingProperty];\n    const setStyle = () => assignStyle(body, {\n        overflow: 'hidden',\n        [paddingProperty]: `calc(${scrollbarSidePadding} + ${scrollbarWidth}px)`,\n    });\n    // Only iOS doesn't respect `overflow: hidden` on document.body\n    const setIOSStyle = () => {\n        const { scrollX, scrollY, visualViewport } = win;\n        // iOS 12 does not support `visuaViewport`.\n        const offsetLeft = visualViewport?.offsetLeft ?? 0;\n        const offsetTop = visualViewport?.offsetTop ?? 0;\n        const restoreStyle = assignStyle(body, {\n            position: 'fixed',\n            overflow: 'hidden',\n            top: `${-(scrollY - Math.floor(offsetTop))}px`,\n            left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n            right: '0',\n            [paddingProperty]: `calc(${scrollbarSidePadding} + ${scrollbarWidth}px)`,\n        });\n        return () => {\n            restoreStyle?.();\n            win.scrollTo(scrollX, scrollY);\n        };\n    };\n    const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()];\n    return () => {\n        cleanups.forEach((fn) => fn?.());\n        body.removeAttribute(LOCK_CLASSNAME);\n    };\n}\n","import { isBrowser, isHTMLElement } from './is.js';\nimport { sleep } from './sleep.js';\n/**\n * Manage roving focus between elements. Sets the current active element to\n * tabindex -1 and the next element to tabindex 0.\n *\n * @param nextElement The element to focus on\n */\nexport function handleRovingFocus(nextElement) {\n    if (!isBrowser)\n        return;\n    sleep(1).then(() => {\n        const currentFocusedElement = document.activeElement;\n        if (!isHTMLElement(currentFocusedElement) || currentFocusedElement === nextElement)\n            return;\n        currentFocusedElement.tabIndex = -1;\n        if (nextElement) {\n            nextElement.tabIndex = 0;\n            nextElement.focus();\n        }\n    });\n}\nfunction getFocusableElements() {\n    return Array.from(document.querySelectorAll('a[href]:not([tabindex=\"-1\"]), button:not([disabled]):not([tabindex=\"-1\"]), input:not([disabled]):not([tabindex=\"-1\"]), select:not([disabled]):not([tabindex=\"-1\"]), textarea:not([disabled]):not([tabindex=\"-1\"]), [tabindex]:not([tabindex=\"-1\"])'));\n}\nexport function getNextFocusable(currentElement) {\n    const focusableElements = getFocusableElements();\n    const currentIndex = focusableElements.indexOf(currentElement);\n    const nextIndex = currentIndex + 1;\n    const nextElement = focusableElements[nextIndex];\n    if (nextIndex < focusableElements.length && isHTMLElement(nextElement)) {\n        return nextElement;\n    }\n    return null;\n}\nexport function getPreviousFocusable(currentElement) {\n    const focusableElements = getFocusableElements();\n    const currentIndex = focusableElements.indexOf(currentElement);\n    const previousIndex = currentIndex - 1;\n    const prevElement = focusableElements[previousIndex];\n    if (previousIndex >= 0 && isHTMLElement(prevElement)) {\n        return prevElement;\n    }\n    return null;\n}\n","import { get, writable } from 'svelte/store';\nimport { wrapArray } from './array.js';\nimport { debounce } from './debounce.js';\nimport { isHTMLElement } from './is.js';\nimport { handleRovingFocus } from './rovingFocus.js';\nimport { withGet } from './withGet.js';\n/**\n * Keys to ignore for typeahead so we aren't matching things\n * like `Shift menu item` or `Control center` or `Alt menu` when\n * a user presses those keys.\n */\nconst ignoredKeys = new Set(['Shift', 'Control', 'Alt', 'Meta', 'CapsLock', 'NumLock']);\n/**\n * Default options for the typeahead search.\n * We default to roving focus when a match is found, but\n * you can override this with the `onMatch` option.\n */\nconst defaults = {\n    onMatch: handleRovingFocus,\n    getCurrentItem: () => document.activeElement,\n};\nexport function createTypeaheadSearch(args = {}) {\n    const withDefaults = { ...defaults, ...args };\n    const typed = withGet(writable([]));\n    const resetTyped = debounce(() => {\n        typed.update(() => []);\n    });\n    const handleTypeaheadSearch = (key, items) => {\n        if (ignoredKeys.has(key))\n            return;\n        const currentItem = withDefaults.getCurrentItem();\n        const $typed = get(typed);\n        if (!Array.isArray($typed)) {\n            return;\n        }\n        $typed.push(key.toLowerCase());\n        typed.set($typed);\n        const candidateItems = items.filter((item) => {\n            if (item.getAttribute('disabled') === 'true' ||\n                item.getAttribute('aria-disabled') === 'true' ||\n                item.hasAttribute('data-disabled')) {\n                return false;\n            }\n            return true;\n        });\n        const isRepeated = $typed.length > 1 && $typed.every((char) => char === $typed[0]);\n        const normalizeSearch = isRepeated ? $typed[0] : $typed.join('');\n        const currentItemIndex = isHTMLElement(currentItem) ? candidateItems.indexOf(currentItem) : -1;\n        let wrappedItems = wrapArray(candidateItems, Math.max(currentItemIndex, 0));\n        const excludeCurrentItem = normalizeSearch.length === 1;\n        if (excludeCurrentItem) {\n            wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n        }\n        const nextItem = wrappedItems.find((item) => item?.innerText && item.innerText.toLowerCase().startsWith(normalizeSearch.toLowerCase()));\n        if (isHTMLElement(nextItem) && nextItem !== currentItem) {\n            withDefaults.onMatch(nextItem);\n        }\n        resetTyped();\n    };\n    return {\n        typed,\n        resetTyped,\n        handleTypeaheadSearch,\n    };\n}\n","import { isFunction, isHTMLElement, sleep } from './index.js';\nimport { tick } from 'svelte';\nexport async function handleFocus(args) {\n    const { prop, defaultEl } = args;\n    await Promise.all([sleep(1), tick]);\n    if (prop === undefined) {\n        defaultEl?.focus();\n        return;\n    }\n    const returned = isFunction(prop) ? prop(defaultEl) : prop;\n    if (typeof returned === 'string') {\n        // Get el by selector, focus it\n        const el = document.querySelector(returned);\n        if (!isHTMLElement(el))\n            return;\n        el.focus();\n    }\n    else if (isHTMLElement(returned)) {\n        // Focus it\n        returned.focus();\n    }\n}\n","import { createSeparator } from '../index.js';\nimport { useEscapeKeydown, usePopper, usePortal } from '../../internal/actions/index.js';\nimport { FIRST_LAST_KEYS, SELECTION_KEYS, addEventListener, addHighlight, addMeltEventListener, makeElement, createElHelpers, createTypeaheadSearch, derivedVisible, disabledAttr, effect, executeCallbacks, generateIds, getNextFocusable, getPortalDestination, getPreviousFocusable, handleFocus, handleRovingFocus, isBrowser, isElementDisabled, isHTMLElement, kbd, noop, omit, overridable, removeHighlight, removeScroll, sleep, styleToString, toWritableStores, portalAttr, } from '../../internal/helpers/index.js';\nimport { tick } from 'svelte';\nimport { derived, writable } from 'svelte/store';\nimport { safeOnMount } from '../../internal/helpers/lifecycle.js';\nimport { withGet } from '../../internal/helpers/withGet.js';\nexport const SUB_OPEN_KEYS = {\n    ltr: [...SELECTION_KEYS, kbd.ARROW_RIGHT],\n    rtl: [...SELECTION_KEYS, kbd.ARROW_LEFT],\n};\nexport const SUB_CLOSE_KEYS = {\n    ltr: [kbd.ARROW_LEFT],\n    rtl: [kbd.ARROW_RIGHT],\n};\nexport const menuIdParts = ['menu', 'trigger'];\nconst defaults = {\n    arrowSize: 8,\n    positioning: {\n        placement: 'bottom',\n    },\n    preventScroll: true,\n    closeOnEscape: true,\n    closeOnOutsideClick: true,\n    portal: undefined,\n    loop: false,\n    dir: 'ltr',\n    defaultOpen: false,\n    typeahead: true,\n    closeOnItemClick: true,\n    onOutsideClick: undefined,\n};\nexport function createMenuBuilder(opts) {\n    const { name, selector } = createElHelpers(opts.selector);\n    const { preventScroll, arrowSize, positioning, closeOnEscape, closeOnOutsideClick, portal, forceVisible, typeahead, loop, closeFocus, disableFocusFirstItem, closeOnItemClick, onOutsideClick, } = opts.rootOptions;\n    const rootOpen = opts.rootOpen;\n    const rootActiveTrigger = opts.rootActiveTrigger;\n    /**\n     * Keeps track of the next/previous focusable element when the menu closes.\n     * This is because we are portaling the menu to the body and we need\n     * to be able to focus the next element in the DOM when the menu closes.\n     *\n     * Without keeping track of this, the focus would be reset to the top of\n     * the page (or the first focusable element in the body).\n     */\n    const nextFocusable = opts.nextFocusable;\n    const prevFocusable = opts.prevFocusable;\n    /**\n     * Keeps track of if the user is using the keyboard to navigate the menu.\n     * This is used to determine how we handle focus on open behavior differently\n     * than when the user is using the mouse.\n     */\n    const isUsingKeyboard = withGet.writable(false);\n    /**\n     * Stores used to manage the grace area for submenus. This prevents us\n     * from closing a submenu when the user is moving their mouse from the\n     * trigger to the submenu.\n     */\n    const lastPointerX = withGet(writable(0));\n    const pointerGraceIntent = withGet(writable(null));\n    const pointerDir = withGet(writable('right'));\n    /**\n     * Track currently focused item in the menu.\n     */\n    const currentFocusedItem = withGet(writable(null));\n    const pointerMovingToSubmenu = withGet(derived([pointerDir, pointerGraceIntent], ([$pointerDir, $pointerGraceIntent]) => {\n        return (e) => {\n            const isMovingTowards = $pointerDir === $pointerGraceIntent?.side;\n            return isMovingTowards && isPointerInGraceArea(e, $pointerGraceIntent?.area);\n        };\n    }));\n    const { typed, handleTypeaheadSearch } = createTypeaheadSearch();\n    const rootIds = toWritableStores({ ...generateIds(menuIdParts), ...opts.ids });\n    const isVisible = derivedVisible({\n        open: rootOpen,\n        forceVisible,\n        activeTrigger: rootActiveTrigger,\n    });\n    const rootMenu = makeElement(name(), {\n        stores: [isVisible, portal, rootIds.menu, rootIds.trigger],\n        returned: ([$isVisible, $portal, $rootMenuId, $rootTriggerId]) => {\n            return {\n                role: 'menu',\n                hidden: $isVisible ? undefined : true,\n                style: styleToString({\n                    display: $isVisible ? undefined : 'none',\n                }),\n                id: $rootMenuId,\n                'aria-labelledby': $rootTriggerId,\n                'data-state': $isVisible ? 'open' : 'closed',\n                'data-portal': portalAttr($portal),\n                tabindex: -1,\n            };\n        },\n        action: (node) => {\n            let unsubPopper = noop;\n            const unsubDerived = effect([isVisible, rootActiveTrigger, positioning, closeOnOutsideClick, portal, closeOnEscape], ([$isVisible, $rootActiveTrigger, $positioning, $closeOnOutsideClick, $portal, $closeOnEscape,]) => {\n                unsubPopper();\n                if (!$isVisible || !$rootActiveTrigger)\n                    return;\n                tick().then(() => {\n                    unsubPopper();\n                    setMeltMenuAttribute(node, selector);\n                    unsubPopper = usePopper(node, {\n                        anchorElement: $rootActiveTrigger,\n                        open: rootOpen,\n                        options: {\n                            floating: $positioning,\n                            modal: {\n                                closeOnInteractOutside: $closeOnOutsideClick,\n                                shouldCloseOnInteractOutside: (e) => {\n                                    onOutsideClick.get()?.(e);\n                                    if (e.defaultPrevented)\n                                        return false;\n                                    if (isHTMLElement($rootActiveTrigger) &&\n                                        $rootActiveTrigger.contains(e.target)) {\n                                        return false;\n                                    }\n                                    return true;\n                                },\n                                onClose: () => {\n                                    rootOpen.set(false);\n                                    $rootActiveTrigger.focus();\n                                },\n                                open: $isVisible,\n                            },\n                            portal: getPortalDestination(node, $portal),\n                            escapeKeydown: $closeOnEscape ? undefined : null,\n                        },\n                    }).destroy;\n                });\n            });\n            const unsubEvents = executeCallbacks(addMeltEventListener(node, 'keydown', (e) => {\n                const target = e.target;\n                const menuEl = e.currentTarget;\n                if (!isHTMLElement(target) || !isHTMLElement(menuEl))\n                    return;\n                /**\n                 * Submenu key events bubble through portals and\n                 * we only care about key events that happen inside this menu.\n                 */\n                const isKeyDownInside = target.closest('[role=\"menu\"]') === menuEl;\n                if (!isKeyDownInside)\n                    return;\n                if (FIRST_LAST_KEYS.includes(e.key)) {\n                    handleMenuNavigation(e, loop.get() ?? false);\n                }\n                /**\n                 * Menus should not be navigated using tab\n                 * @see https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#kbd_general_within\n                 */\n                if (e.key === kbd.TAB) {\n                    e.preventDefault();\n                    rootOpen.set(false);\n                    handleTabNavigation(e, nextFocusable, prevFocusable);\n                    return;\n                }\n                /**\n                 * Check for typeahead search and handle it.\n                 */\n                const isCharacterKey = e.key.length === 1;\n                const isModifierKey = e.ctrlKey || e.altKey || e.metaKey;\n                if (!isModifierKey && isCharacterKey && typeahead.get() === true) {\n                    handleTypeaheadSearch(e.key, getMenuItems(menuEl));\n                }\n            }));\n            return {\n                destroy() {\n                    unsubDerived();\n                    unsubEvents();\n                    unsubPopper();\n                },\n            };\n        },\n    });\n    const rootTrigger = makeElement(name('trigger'), {\n        stores: [rootOpen, rootIds.menu, rootIds.trigger],\n        returned: ([$rootOpen, $rootMenuId, $rootTriggerId]) => {\n            return {\n                'aria-controls': $rootMenuId,\n                'aria-expanded': $rootOpen,\n                'data-state': $rootOpen ? 'open' : 'closed',\n                id: $rootTriggerId,\n                tabindex: 0,\n            };\n        },\n        action: (node) => {\n            applyAttrsIfDisabled(node);\n            rootActiveTrigger.update((p) => {\n                if (p)\n                    return p;\n                return node;\n            });\n            const unsub = executeCallbacks(addMeltEventListener(node, 'click', (e) => {\n                const $rootOpen = rootOpen.get();\n                const triggerEl = e.currentTarget;\n                if (!isHTMLElement(triggerEl))\n                    return;\n                handleOpen(triggerEl);\n                if (!$rootOpen)\n                    e.preventDefault();\n            }), addMeltEventListener(node, 'keydown', (e) => {\n                const triggerEl = e.currentTarget;\n                if (!isHTMLElement(triggerEl))\n                    return;\n                if (!(SELECTION_KEYS.includes(e.key) || e.key === kbd.ARROW_DOWN))\n                    return;\n                e.preventDefault();\n                handleOpen(triggerEl);\n                const menuId = triggerEl.getAttribute('aria-controls');\n                if (!menuId)\n                    return;\n                const menu = document.getElementById(menuId);\n                if (!menu)\n                    return;\n                const menuItems = getMenuItems(menu);\n                if (!menuItems.length)\n                    return;\n                handleRovingFocus(menuItems[0]);\n            }));\n            return {\n                destroy: unsub,\n            };\n        },\n    });\n    const rootArrow = makeElement(name('arrow'), {\n        stores: arrowSize,\n        returned: ($arrowSize) => ({\n            'data-arrow': true,\n            style: styleToString({\n                position: 'absolute',\n                width: `var(--arrow-size, ${$arrowSize}px)`,\n                height: `var(--arrow-size, ${$arrowSize}px)`,\n            }),\n        }),\n    });\n    const overlay = makeElement(name('overlay'), {\n        stores: [isVisible],\n        returned: ([$isVisible]) => {\n            return {\n                hidden: $isVisible ? undefined : true,\n                tabindex: -1,\n                style: styleToString({\n                    display: $isVisible ? undefined : 'none',\n                }),\n                'aria-hidden': 'true',\n                'data-state': stateAttr($isVisible),\n            };\n        },\n        action: (node) => {\n            let unsubEscapeKeydown = noop;\n            if (closeOnEscape.get()) {\n                const escapeKeydown = useEscapeKeydown(node, {\n                    handler: () => {\n                        rootOpen.set(false);\n                        const $rootActiveTrigger = rootActiveTrigger.get();\n                        if ($rootActiveTrigger)\n                            $rootActiveTrigger.focus();\n                    },\n                });\n                if (escapeKeydown && escapeKeydown.destroy) {\n                    unsubEscapeKeydown = escapeKeydown.destroy;\n                }\n            }\n            const unsubPortal = effect([portal], ([$portal]) => {\n                if ($portal === null)\n                    return noop;\n                const portalDestination = getPortalDestination(node, $portal);\n                if (portalDestination === null)\n                    return noop;\n                return usePortal(node, portalDestination).destroy;\n            });\n            return {\n                destroy() {\n                    unsubEscapeKeydown();\n                    unsubPortal();\n                },\n            };\n        },\n    });\n    const item = makeElement(name('item'), {\n        returned: () => {\n            return {\n                role: 'menuitem',\n                tabindex: -1,\n                'data-orientation': 'vertical',\n            };\n        },\n        action: (node) => {\n            setMeltMenuAttribute(node, selector);\n            applyAttrsIfDisabled(node);\n            const unsub = executeCallbacks(addMeltEventListener(node, 'pointerdown', (e) => {\n                const itemEl = e.currentTarget;\n                if (!isHTMLElement(itemEl))\n                    return;\n                if (isElementDisabled(itemEl)) {\n                    e.preventDefault();\n                    return;\n                }\n            }), addMeltEventListener(node, 'click', (e) => {\n                const itemEl = e.currentTarget;\n                if (!isHTMLElement(itemEl))\n                    return;\n                if (isElementDisabled(itemEl)) {\n                    e.preventDefault();\n                    return;\n                }\n                if (e.defaultPrevented) {\n                    handleRovingFocus(itemEl);\n                    return;\n                }\n                if (closeOnItemClick.get()) {\n                    // Allows forms to submit before the menu is removed from the DOM\n                    sleep(1).then(() => {\n                        rootOpen.set(false);\n                    });\n                }\n            }), addMeltEventListener(node, 'keydown', (e) => {\n                onItemKeyDown(e);\n            }), addMeltEventListener(node, 'pointermove', (e) => {\n                onMenuItemPointerMove(e);\n            }), addMeltEventListener(node, 'pointerleave', (e) => {\n                onMenuItemPointerLeave(e);\n            }), addMeltEventListener(node, 'focusin', (e) => {\n                onItemFocusIn(e);\n            }), addMeltEventListener(node, 'focusout', (e) => {\n                onItemFocusOut(e);\n            }));\n            return {\n                destroy: unsub,\n            };\n        },\n    });\n    const group = makeElement(name('group'), {\n        returned: () => {\n            return (groupId) => ({\n                role: 'group',\n                'aria-labelledby': groupId,\n            });\n        },\n    });\n    const groupLabel = makeElement(name('group-label'), {\n        returned: () => {\n            return (groupId) => ({\n                id: groupId,\n            });\n        },\n    });\n    const checkboxItemDefaults = {\n        defaultChecked: false,\n        disabled: false,\n    };\n    const createCheckboxItem = (props) => {\n        const withDefaults = { ...checkboxItemDefaults, ...props };\n        const checkedWritable = withDefaults.checked ?? writable(withDefaults.defaultChecked ?? null);\n        const checked = overridable(checkedWritable, withDefaults.onCheckedChange);\n        const disabled = writable(withDefaults.disabled);\n        const checkboxItem = makeElement(name('checkbox-item'), {\n            stores: [checked, disabled],\n            returned: ([$checked, $disabled]) => {\n                return {\n                    role: 'menuitemcheckbox',\n                    tabindex: -1,\n                    'data-orientation': 'vertical',\n                    'aria-checked': isIndeterminate($checked) ? 'mixed' : $checked ? 'true' : 'false',\n                    'data-disabled': disabledAttr($disabled),\n                    'data-state': getCheckedState($checked),\n                };\n            },\n            action: (node) => {\n                setMeltMenuAttribute(node, selector);\n                applyAttrsIfDisabled(node);\n                const unsub = executeCallbacks(addMeltEventListener(node, 'pointerdown', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    if (isElementDisabled(itemEl)) {\n                        e.preventDefault();\n                        return;\n                    }\n                }), addMeltEventListener(node, 'click', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    if (isElementDisabled(itemEl)) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (e.defaultPrevented) {\n                        handleRovingFocus(itemEl);\n                        return;\n                    }\n                    checked.update((prev) => {\n                        if (isIndeterminate(prev))\n                            return true;\n                        return !prev;\n                    });\n                    if (closeOnItemClick.get()) {\n                        // We're waiting for a tick to let the checked store update\n                        // before closing the menu. If we don't, and the user was to hit\n                        // spacebar or enter twice really fast, the menu would close and\n                        // reopen without the checked state being updated.\n                        tick().then(() => {\n                            rootOpen.set(false);\n                        });\n                    }\n                }), addMeltEventListener(node, 'keydown', (e) => {\n                    onItemKeyDown(e);\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    if (isElementDisabled(itemEl)) {\n                        onItemLeave(e);\n                        return;\n                    }\n                    onMenuItemPointerMove(e, itemEl);\n                }), addMeltEventListener(node, 'pointerleave', (e) => {\n                    onMenuItemPointerLeave(e);\n                }), addMeltEventListener(node, 'focusin', (e) => {\n                    onItemFocusIn(e);\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    onItemFocusOut(e);\n                }));\n                return {\n                    destroy: unsub,\n                };\n            },\n        });\n        const isChecked = derived(checked, ($checked) => $checked === true);\n        const _isIndeterminate = derived(checked, ($checked) => $checked === 'indeterminate');\n        return {\n            elements: {\n                checkboxItem,\n            },\n            states: {\n                checked,\n            },\n            helpers: {\n                isChecked,\n                isIndeterminate: _isIndeterminate,\n            },\n            options: {\n                disabled,\n            },\n        };\n    };\n    const createMenuRadioGroup = (args = {}) => {\n        const valueWritable = args.value ?? writable(args.defaultValue ?? null);\n        const value = overridable(valueWritable, args.onValueChange);\n        const radioGroup = makeElement(name('radio-group'), {\n            returned: () => ({\n                role: 'group',\n            }),\n        });\n        const radioItemDefaults = {\n            disabled: false,\n        };\n        const radioItem = makeElement(name('radio-item'), {\n            stores: [value],\n            returned: ([$value]) => {\n                return (itemProps) => {\n                    const { value: itemValue, disabled } = { ...radioItemDefaults, ...itemProps };\n                    const checked = $value === itemValue;\n                    return {\n                        disabled,\n                        role: 'menuitemradio',\n                        'data-state': checked ? 'checked' : 'unchecked',\n                        'aria-checked': checked,\n                        'data-disabled': disabledAttr(disabled),\n                        'data-value': itemValue,\n                        'data-orientation': 'vertical',\n                        tabindex: -1,\n                    };\n                };\n            },\n            action: (node) => {\n                setMeltMenuAttribute(node, selector);\n                const unsub = executeCallbacks(addMeltEventListener(node, 'pointerdown', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    const itemValue = node.dataset.value;\n                    const disabled = node.dataset.disabled;\n                    if (disabled || itemValue === undefined) {\n                        e.preventDefault();\n                        return;\n                    }\n                }), addMeltEventListener(node, 'click', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    const itemValue = node.dataset.value;\n                    const disabled = node.dataset.disabled;\n                    if (disabled || itemValue === undefined) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (e.defaultPrevented) {\n                        if (!isHTMLElement(itemEl))\n                            return;\n                        handleRovingFocus(itemEl);\n                        return;\n                    }\n                    value.set(itemValue);\n                    if (closeOnItemClick.get()) {\n                        // We're waiting for a tick to let the checked store update\n                        // before closing the menu. If we don't, and the user was to hit\n                        // spacebar or enter twice really fast, the menu would close and\n                        // reopen without the checked state being updated.\n                        tick().then(() => {\n                            rootOpen.set(false);\n                        });\n                    }\n                }), addMeltEventListener(node, 'keydown', (e) => {\n                    onItemKeyDown(e);\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    const itemValue = node.dataset.value;\n                    const disabled = node.dataset.disabled;\n                    if (disabled || itemValue === undefined) {\n                        onItemLeave(e);\n                        return;\n                    }\n                    onMenuItemPointerMove(e, itemEl);\n                }), addMeltEventListener(node, 'pointerleave', (e) => {\n                    onMenuItemPointerLeave(e);\n                }), addMeltEventListener(node, 'focusin', (e) => {\n                    onItemFocusIn(e);\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    onItemFocusOut(e);\n                }));\n                return {\n                    destroy: unsub,\n                };\n            },\n        });\n        const isChecked = derived(value, ($value) => {\n            return (itemValue) => {\n                return $value === itemValue;\n            };\n        });\n        return {\n            elements: {\n                radioGroup,\n                radioItem,\n            },\n            states: {\n                value,\n            },\n            helpers: {\n                isChecked,\n            },\n        };\n    };\n    const { elements: { root: separator }, } = createSeparator({\n        orientation: 'horizontal',\n    });\n    /* -------------------------------------------------------------------------------------------------\n     * SUBMENU\n     * -----------------------------------------------------------------------------------------------*/\n    const subMenuDefaults = {\n        ...defaults,\n        disabled: false,\n        positioning: {\n            placement: 'right-start',\n            gutter: 8,\n        },\n    };\n    const createSubmenu = (args) => {\n        const withDefaults = { ...subMenuDefaults, ...args };\n        const subOpenWritable = withDefaults.open ?? writable(false);\n        const subOpen = overridable(subOpenWritable, withDefaults?.onOpenChange);\n        // options\n        const options = toWritableStores(omit(withDefaults, 'ids'));\n        const { positioning, arrowSize, disabled } = options;\n        const subActiveTrigger = withGet(writable(null));\n        const subOpenTimer = withGet(writable(null));\n        const pointerGraceTimer = withGet(writable(0));\n        const subIds = toWritableStores({ ...generateIds(menuIdParts), ...withDefaults.ids });\n        safeOnMount(() => {\n            /**\n             * Set active trigger on mount to handle controlled/forceVisible\n             * state.\n             */\n            const subTrigger = document.getElementById(subIds.trigger.get());\n            if (subTrigger) {\n                subActiveTrigger.set(subTrigger);\n            }\n        });\n        const subIsVisible = derivedVisible({\n            open: subOpen,\n            forceVisible,\n            activeTrigger: subActiveTrigger,\n        });\n        const subMenu = makeElement(name('submenu'), {\n            stores: [subIsVisible, subIds.menu, subIds.trigger],\n            returned: ([$subIsVisible, $subMenuId, $subTriggerId]) => {\n                return {\n                    role: 'menu',\n                    hidden: $subIsVisible ? undefined : true,\n                    style: styleToString({\n                        display: $subIsVisible ? undefined : 'none',\n                    }),\n                    id: $subMenuId,\n                    'aria-labelledby': $subTriggerId,\n                    'data-state': $subIsVisible ? 'open' : 'closed',\n                    // unit tests fail on `.closest` if the id starts with a number\n                    // so using a data attribute\n                    'data-id': $subMenuId,\n                    tabindex: -1,\n                };\n            },\n            action: (node) => {\n                let unsubPopper = noop;\n                const unsubDerived = effect([subIsVisible, positioning], ([$subIsVisible, $positioning]) => {\n                    unsubPopper();\n                    if (!$subIsVisible)\n                        return;\n                    const activeTrigger = subActiveTrigger.get();\n                    if (!activeTrigger)\n                        return;\n                    tick().then(() => {\n                        unsubPopper();\n                        const parentMenuEl = getParentMenu(activeTrigger);\n                        unsubPopper = usePopper(node, {\n                            anchorElement: activeTrigger,\n                            open: subOpen,\n                            options: {\n                                floating: $positioning,\n                                portal: isHTMLElement(parentMenuEl) ? parentMenuEl : undefined,\n                                modal: null,\n                                focusTrap: null,\n                                escapeKeydown: null,\n                            },\n                        }).destroy;\n                    });\n                });\n                const unsubEvents = executeCallbacks(addMeltEventListener(node, 'keydown', (e) => {\n                    if (e.key === kbd.ESCAPE) {\n                        return;\n                    }\n                    // Submenu key events bubble through portals.\n                    // We only want the keys in this menu.\n                    const target = e.target;\n                    const menuEl = e.currentTarget;\n                    if (!isHTMLElement(target) || !isHTMLElement(menuEl))\n                        return;\n                    const isKeyDownInside = target.closest('[role=\"menu\"]') === menuEl;\n                    if (!isKeyDownInside)\n                        return;\n                    if (FIRST_LAST_KEYS.includes(e.key)) {\n                        // prevent events from bubbling\n                        e.stopImmediatePropagation();\n                        handleMenuNavigation(e, loop.get() ?? false);\n                        return;\n                    }\n                    const isCloseKey = SUB_CLOSE_KEYS['ltr'].includes(e.key);\n                    const isModifierKey = e.ctrlKey || e.altKey || e.metaKey;\n                    const isCharacterKey = e.key.length === 1;\n                    // close the submenu if the user presses a close key\n                    if (isCloseKey) {\n                        const $subActiveTrigger = subActiveTrigger.get();\n                        e.preventDefault();\n                        subOpen.update(() => {\n                            if ($subActiveTrigger) {\n                                handleRovingFocus($subActiveTrigger);\n                            }\n                            return false;\n                        });\n                        return;\n                    }\n                    /**\n                     * Menus should not be navigated using tab, so we prevent it.\n                     * @see https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#kbd_general_within\n                     */\n                    if (e.key === kbd.TAB) {\n                        e.preventDefault();\n                        rootOpen.set(false);\n                        handleTabNavigation(e, nextFocusable, prevFocusable);\n                        return;\n                    }\n                    if (!isModifierKey && isCharacterKey && typeahead.get() === true) {\n                        // typeahead logic\n                        handleTypeaheadSearch(e.key, getMenuItems(menuEl));\n                    }\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    onMenuPointerMove(e);\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    const $subActiveTrigger = subActiveTrigger.get();\n                    if (isUsingKeyboard.get()) {\n                        const target = e.target;\n                        const submenuEl = document.getElementById(subIds.menu.get());\n                        if (!isHTMLElement(submenuEl) || !isHTMLElement(target))\n                            return;\n                        if (!submenuEl.contains(target) && target !== $subActiveTrigger) {\n                            subOpen.set(false);\n                        }\n                    }\n                    else {\n                        const menuEl = e.currentTarget;\n                        const relatedTarget = e.relatedTarget;\n                        if (!isHTMLElement(relatedTarget) || !isHTMLElement(menuEl))\n                            return;\n                        if (!menuEl.contains(relatedTarget) && relatedTarget !== $subActiveTrigger) {\n                            subOpen.set(false);\n                        }\n                    }\n                }));\n                return {\n                    destroy() {\n                        unsubDerived();\n                        unsubPopper();\n                        unsubEvents();\n                    },\n                };\n            },\n        });\n        const subTrigger = makeElement(name('subtrigger'), {\n            stores: [subOpen, disabled, subIds.menu, subIds.trigger],\n            returned: ([$subOpen, $disabled, $subMenuId, $subTriggerId]) => {\n                return {\n                    role: 'menuitem',\n                    id: $subTriggerId,\n                    tabindex: -1,\n                    'aria-controls': $subMenuId,\n                    'aria-expanded': $subOpen,\n                    'data-state': $subOpen ? 'open' : 'closed',\n                    'data-disabled': disabledAttr($disabled),\n                    'aria-haspopop': 'menu',\n                };\n            },\n            action: (node) => {\n                setMeltMenuAttribute(node, selector);\n                applyAttrsIfDisabled(node);\n                subActiveTrigger.update((p) => {\n                    if (p)\n                        return p;\n                    return node;\n                });\n                const unsubTimer = () => {\n                    clearTimerStore(subOpenTimer);\n                    window.clearTimeout(pointerGraceTimer.get());\n                    pointerGraceIntent.set(null);\n                };\n                const unsubEvents = executeCallbacks(addMeltEventListener(node, 'click', (e) => {\n                    if (e.defaultPrevented)\n                        return;\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl) || isElementDisabled(triggerEl))\n                        return;\n                    // Manually focus because iOS Safari doesn't always focus on click (e.g. buttons)\n                    handleRovingFocus(triggerEl);\n                    if (!subOpen.get()) {\n                        subOpen.update((prev) => {\n                            const isAlreadyOpen = prev;\n                            if (!isAlreadyOpen) {\n                                subActiveTrigger.set(triggerEl);\n                                return !prev;\n                            }\n                            return prev;\n                        });\n                    }\n                }), addMeltEventListener(node, 'keydown', (e) => {\n                    const $typed = typed.get();\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl) || isElementDisabled(triggerEl))\n                        return;\n                    const isTypingAhead = $typed.length > 0;\n                    if (isTypingAhead && e.key === kbd.SPACE)\n                        return;\n                    if (SUB_OPEN_KEYS['ltr'].includes(e.key)) {\n                        if (!subOpen.get()) {\n                            triggerEl.click();\n                            e.preventDefault();\n                            return;\n                        }\n                        const menuId = triggerEl.getAttribute('aria-controls');\n                        if (!menuId)\n                            return;\n                        const menuEl = document.getElementById(menuId);\n                        if (!isHTMLElement(menuEl))\n                            return;\n                        const firstItem = getMenuItems(menuEl)[0];\n                        handleRovingFocus(firstItem);\n                    }\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    if (!isMouse(e))\n                        return;\n                    onItemEnter(e);\n                    if (e.defaultPrevented)\n                        return;\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl))\n                        return;\n                    if (!isFocusWithinSubmenu(subIds.menu.get())) {\n                        handleRovingFocus(triggerEl);\n                    }\n                    const openTimer = subOpenTimer.get();\n                    if (!subOpen.get() && !openTimer && !isElementDisabled(triggerEl)) {\n                        subOpenTimer.set(window.setTimeout(() => {\n                            subOpen.update(() => {\n                                subActiveTrigger.set(triggerEl);\n                                return true;\n                            });\n                            clearTimerStore(subOpenTimer);\n                        }, 100));\n                    }\n                }), addMeltEventListener(node, 'pointerleave', (e) => {\n                    if (!isMouse(e))\n                        return;\n                    clearTimerStore(subOpenTimer);\n                    const submenuEl = document.getElementById(subIds.menu.get());\n                    const contentRect = submenuEl?.getBoundingClientRect();\n                    if (contentRect) {\n                        const side = submenuEl?.dataset.side;\n                        const rightSide = side === 'right';\n                        const bleed = rightSide ? -5 : +5;\n                        const contentNearEdge = contentRect[rightSide ? 'left' : 'right'];\n                        const contentFarEdge = contentRect[rightSide ? 'right' : 'left'];\n                        pointerGraceIntent.set({\n                            area: [\n                                // Apply a bleed on clientX to ensure that our exit point is\n                                // consistently within polygon bounds\n                                { x: e.clientX + bleed, y: e.clientY },\n                                { x: contentNearEdge, y: contentRect.top },\n                                { x: contentFarEdge, y: contentRect.top },\n                                { x: contentFarEdge, y: contentRect.bottom },\n                                { x: contentNearEdge, y: contentRect.bottom },\n                            ],\n                            side,\n                        });\n                        window.clearTimeout(pointerGraceTimer.get());\n                        pointerGraceTimer.set(window.setTimeout(() => {\n                            pointerGraceIntent.set(null);\n                        }, 300));\n                    }\n                    else {\n                        onTriggerLeave(e);\n                        if (e.defaultPrevented)\n                            return;\n                        // There's 100ms where the user may leave an item before the submenu was opened.\n                        pointerGraceIntent.set(null);\n                    }\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl))\n                        return;\n                    removeHighlight(triggerEl);\n                    const relatedTarget = e.relatedTarget;\n                    if (!isHTMLElement(relatedTarget))\n                        return;\n                    const menuId = triggerEl.getAttribute('aria-controls');\n                    if (!menuId)\n                        return;\n                    const menu = document.getElementById(menuId);\n                    if (menu && !menu.contains(relatedTarget)) {\n                        subOpen.set(false);\n                    }\n                }), addMeltEventListener(node, 'focusin', (e) => {\n                    onItemFocusIn(e);\n                }));\n                return {\n                    destroy() {\n                        unsubTimer();\n                        unsubEvents();\n                    },\n                };\n            },\n        });\n        const subArrow = makeElement(name('subarrow'), {\n            stores: arrowSize,\n            returned: ($arrowSize) => ({\n                'data-arrow': true,\n                style: styleToString({\n                    position: 'absolute',\n                    width: `var(--arrow-size, ${$arrowSize}px)`,\n                    height: `var(--arrow-size, ${$arrowSize}px)`,\n                }),\n            }),\n        });\n        /* -------------------------------------------------------------------------------------------------\n         * Sub Menu Effects\n         * -----------------------------------------------------------------------------------------------*/\n        effect([rootOpen], ([$rootOpen]) => {\n            if (!$rootOpen) {\n                subActiveTrigger.set(null);\n                subOpen.set(false);\n            }\n        });\n        effect([pointerGraceIntent], ([$pointerGraceIntent]) => {\n            if (!isBrowser || $pointerGraceIntent)\n                return;\n            window.clearTimeout(pointerGraceTimer.get());\n        });\n        effect([subOpen], ([$subOpen]) => {\n            if (!isBrowser)\n                return;\n            if ($subOpen && isUsingKeyboard.get()) {\n                sleep(1).then(() => {\n                    const menuEl = document.getElementById(subIds.menu.get());\n                    if (!menuEl)\n                        return;\n                    const menuItems = getMenuItems(menuEl);\n                    if (!menuItems.length)\n                        return;\n                    handleRovingFocus(menuItems[0]);\n                });\n            }\n            if (!$subOpen) {\n                const focusedItem = currentFocusedItem.get();\n                const subTriggerEl = document.getElementById(subIds.trigger.get());\n                if (focusedItem) {\n                    sleep(1).then(() => {\n                        const menuEl = document.getElementById(subIds.menu.get());\n                        if (!menuEl)\n                            return;\n                        if (menuEl.contains(focusedItem)) {\n                            removeHighlight(focusedItem);\n                        }\n                    });\n                }\n                if (!subTriggerEl || document.activeElement === subTriggerEl)\n                    return;\n                removeHighlight(subTriggerEl);\n            }\n        });\n        return {\n            ids: subIds,\n            elements: {\n                subTrigger,\n                subMenu,\n                subArrow,\n            },\n            states: {\n                subOpen,\n            },\n            options,\n        };\n    };\n    safeOnMount(() => {\n        /**\n         * We need to set the active trigger on mount to cover the\n         * case where the user sets the `open` store to `true` without\n         * clicking on the trigger.\n         */\n        const triggerEl = document.getElementById(rootIds.trigger.get());\n        if (isHTMLElement(triggerEl) && rootOpen.get()) {\n            rootActiveTrigger.set(triggerEl);\n        }\n        const unsubs = [];\n        const handlePointer = () => isUsingKeyboard.set(false);\n        const handleKeyDown = () => {\n            isUsingKeyboard.set(true);\n            unsubs.push(executeCallbacks(addEventListener(document, 'pointerdown', handlePointer, { capture: true, once: true }), addEventListener(document, 'pointermove', handlePointer, { capture: true, once: true })));\n        };\n        const keydownListener = (e) => {\n            if (e.key === kbd.ESCAPE && closeOnEscape.get()) {\n                rootOpen.set(false);\n                return;\n            }\n        };\n        unsubs.push(addEventListener(document, 'keydown', handleKeyDown, { capture: true }));\n        unsubs.push(addEventListener(document, 'keydown', keydownListener));\n        return () => {\n            unsubs.forEach((unsub) => unsub());\n        };\n    });\n    /* -------------------------------------------------------------------------------------------------\n     * Root Effects\n     * -----------------------------------------------------------------------------------------------*/\n    effect([rootOpen, currentFocusedItem], ([$rootOpen, $currentFocusedItem]) => {\n        if (!$rootOpen && $currentFocusedItem) {\n            removeHighlight($currentFocusedItem);\n        }\n    });\n    effect([rootOpen], ([$rootOpen]) => {\n        if (!isBrowser)\n            return;\n        if (!$rootOpen) {\n            const $rootActiveTrigger = rootActiveTrigger.get();\n            if (!$rootActiveTrigger)\n                return;\n            const $closeFocus = closeFocus.get();\n            if (!$rootOpen && $rootActiveTrigger) {\n                handleFocus({ prop: $closeFocus, defaultEl: $rootActiveTrigger });\n            }\n        }\n    });\n    effect([rootOpen, preventScroll], ([$rootOpen, $preventScroll]) => {\n        if (!isBrowser)\n            return;\n        const unsubs = [];\n        if (opts.removeScroll && $rootOpen && $preventScroll) {\n            unsubs.push(removeScroll());\n        }\n        // if the menu is open, we'll sleep for a sec so the menu can render\n        // before we focus on either the first item or the menu itself.\n        sleep(1).then(() => {\n            const menuEl = document.getElementById(rootIds.menu.get());\n            if (menuEl && $rootOpen && isUsingKeyboard.get()) {\n                if (disableFocusFirstItem.get()) {\n                    handleRovingFocus(menuEl);\n                    return;\n                }\n                // Get menu items belonging to the root menu\n                const menuItems = getMenuItems(menuEl);\n                if (!menuItems.length)\n                    return;\n                // Focus on first menu item\n                handleRovingFocus(menuItems[0]);\n            }\n        });\n        return () => {\n            unsubs.forEach((unsub) => unsub());\n        };\n    });\n    effect(rootOpen, ($rootOpen) => {\n        if (!isBrowser)\n            return;\n        const handlePointer = () => isUsingKeyboard.set(false);\n        const handleKeyDown = (e) => {\n            isUsingKeyboard.set(true);\n            if (e.key === kbd.ESCAPE && $rootOpen && closeOnEscape.get()) {\n                rootOpen.set(false);\n                return;\n            }\n        };\n        return executeCallbacks(addEventListener(document, 'pointerdown', handlePointer, { capture: true, once: true }), addEventListener(document, 'pointermove', handlePointer, { capture: true, once: true }), addEventListener(document, 'keydown', handleKeyDown, { capture: true }));\n    });\n    function handleOpen(triggerEl) {\n        rootOpen.update((prev) => {\n            const isOpen = !prev;\n            if (isOpen) {\n                nextFocusable.set(getNextFocusable(triggerEl));\n                prevFocusable.set(getPreviousFocusable(triggerEl));\n                rootActiveTrigger.set(triggerEl);\n            }\n            return isOpen;\n        });\n    }\n    /* -------------------------------------------------------------------------------------------------\n     * Pointer Event Effects\n     * -----------------------------------------------------------------------------------------------*/\n    function onItemFocusIn(e) {\n        const itemEl = e.currentTarget;\n        if (!isHTMLElement(itemEl))\n            return;\n        const $currentFocusedItem = currentFocusedItem.get();\n        if ($currentFocusedItem) {\n            removeHighlight($currentFocusedItem);\n        }\n        addHighlight(itemEl);\n        /**\n         * Accomodates for Firefox focus event behavior, which differs\n         * from other browsers. We're setting the current focused item\n         * so when we close the menu, we can remove the data-highlighted\n         * attribute from the item, since a blur nor focusout event will be fired\n         * when the menu is closed via `clickOutside` or the ESC key.\n         */\n        currentFocusedItem.set(itemEl);\n    }\n    /**\n     * Each of the menu items share the same focusout event handler.\n     */\n    function onItemFocusOut(e) {\n        const itemEl = e.currentTarget;\n        if (!isHTMLElement(itemEl))\n            return;\n        removeHighlight(itemEl);\n    }\n    function onItemEnter(e) {\n        if (isPointerMovingToSubmenu(e)) {\n            e.preventDefault();\n        }\n    }\n    function onItemLeave(e) {\n        if (isPointerMovingToSubmenu(e)) {\n            return;\n        }\n        const target = e.target;\n        if (!isHTMLElement(target))\n            return;\n        const parentMenuEl = getParentMenu(target);\n        if (!parentMenuEl)\n            return;\n        handleRovingFocus(parentMenuEl);\n    }\n    function onTriggerLeave(e) {\n        if (isPointerMovingToSubmenu(e)) {\n            e.preventDefault();\n        }\n    }\n    function onMenuPointerMove(e) {\n        if (!isMouse(e))\n            return;\n        const target = e.target;\n        const currentTarget = e.currentTarget;\n        if (!isHTMLElement(currentTarget) || !isHTMLElement(target))\n            return;\n        const $lastPointerX = lastPointerX.get();\n        const pointerXHasChanged = $lastPointerX !== e.clientX;\n        // We don't use `e.movementX` for this check because Safari will\n        // always return `0` on a pointer e.\n        if (currentTarget.contains(target) && pointerXHasChanged) {\n            const newDir = e.clientX > $lastPointerX ? 'right' : 'left';\n            pointerDir.set(newDir);\n            lastPointerX.set(e.clientX);\n        }\n    }\n    function onMenuItemPointerMove(e, currTarget = null) {\n        if (!isMouse(e))\n            return;\n        onItemEnter(e);\n        if (e.defaultPrevented)\n            return;\n        // if we've already checked the current target, we don't need to again\n        if (currTarget) {\n            handleRovingFocus(currTarget);\n            return;\n        }\n        // otherwise we will\n        const currentTarget = e.currentTarget;\n        if (!isHTMLElement(currentTarget))\n            return;\n        // focus on the current menu item\n        handleRovingFocus(currentTarget);\n    }\n    function onMenuItemPointerLeave(e) {\n        if (!isMouse(e))\n            return;\n        onItemLeave(e);\n    }\n    /* -------------------------------------------------------------------------------------------------\n     * Helper Functions\n     * -----------------------------------------------------------------------------------------------*/\n    function onItemKeyDown(e) {\n        const $typed = typed.get();\n        const isTypingAhead = $typed.length > 0;\n        if (isTypingAhead && e.key === kbd.SPACE) {\n            e.preventDefault();\n            return;\n        }\n        if (SELECTION_KEYS.includes(e.key)) {\n            /**\n             * We prevent default browser behaviour for selection keys as they should trigger\n             * a selection only:\n             * - prevents space from scrolling the page.\n             * - if keydown causes focus to move, prevents keydown from firing on the new target.\n             */\n            e.preventDefault();\n            const itemEl = e.currentTarget;\n            if (!isHTMLElement(itemEl))\n                return;\n            itemEl.click();\n        }\n    }\n    function isIndeterminate(checked) {\n        return checked === 'indeterminate';\n    }\n    function getCheckedState(checked) {\n        return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n    }\n    function isPointerMovingToSubmenu(e) {\n        return pointerMovingToSubmenu.get()(e);\n    }\n    /**\n     * Get the parent menu element for a menu item.\n     * @param element The menu item element\n     */\n    function getParentMenu(element) {\n        const parentMenuEl = element.closest('[role=\"menu\"]');\n        if (!isHTMLElement(parentMenuEl))\n            return null;\n        return parentMenuEl;\n    }\n    return {\n        elements: {\n            trigger: rootTrigger,\n            menu: rootMenu,\n            overlay,\n            item,\n            group,\n            groupLabel,\n            arrow: rootArrow,\n            separator,\n        },\n        builders: {\n            createCheckboxItem,\n            createSubmenu,\n            createMenuRadioGroup,\n        },\n        states: {\n            open: rootOpen,\n        },\n        helpers: {\n            handleTypeaheadSearch,\n        },\n        ids: rootIds,\n        options: opts.rootOptions,\n    };\n}\nexport function handleTabNavigation(e, nextFocusable, prevFocusable) {\n    if (e.shiftKey) {\n        const $prevFocusable = prevFocusable.get();\n        if ($prevFocusable) {\n            e.preventDefault();\n            sleep(1).then(() => $prevFocusable.focus());\n            prevFocusable.set(null);\n        }\n    }\n    else {\n        const $nextFocusable = nextFocusable.get();\n        if ($nextFocusable) {\n            e.preventDefault();\n            sleep(1).then(() => $nextFocusable.focus());\n            nextFocusable.set(null);\n        }\n    }\n}\n/**\n * Get the menu items for a given menu element.\n * This only selects menu items that are direct children of the menu element,\n * not menu items that are nested in submenus.\n * @param element The menu item element\n */\nexport function getMenuItems(menuElement) {\n    return Array.from(menuElement.querySelectorAll(`[data-melt-menu-id=\"${menuElement.id}\"]`)).filter((item) => isHTMLElement(item));\n}\nexport function applyAttrsIfDisabled(element) {\n    if (!element || !isElementDisabled(element))\n        return;\n    element.setAttribute('data-disabled', '');\n    element.setAttribute('aria-disabled', 'true');\n}\n/**\n * Given a timer store, clear the timeout and set the store to null\n * @param openTimer The timer store\n */\nexport function clearTimerStore(timerStore) {\n    if (!isBrowser)\n        return;\n    const timer = timerStore.get();\n    if (timer) {\n        window.clearTimeout(timer);\n        timerStore.set(null);\n    }\n}\n/**\n * Check if the event is a mouse event\n * @param e The pointer event\n */\nfunction isMouse(e) {\n    return e.pointerType === 'mouse';\n}\n/**\n * Set the `data-melt-menu-id` attribute on a menu item element.\n * @param element The menu item element\n */\nexport function setMeltMenuAttribute(element, selector) {\n    if (!element)\n        return;\n    const menuEl = element.closest(`${selector()}, ${selector('submenu')}`);\n    if (!isHTMLElement(menuEl))\n        return;\n    element.setAttribute('data-melt-menu-id', menuEl.id);\n}\n/**\n * Keyboard event handler for menu navigation\n * @param e The keyboard event\n */\nexport function handleMenuNavigation(e, loop) {\n    e.preventDefault();\n    // currently focused menu item\n    const currentFocusedItem = document.activeElement;\n    // menu element being navigated\n    const currentTarget = e.currentTarget;\n    if (!isHTMLElement(currentFocusedItem) || !isHTMLElement(currentTarget))\n        return;\n    // menu items of the current menu\n    const menuItems = getMenuItems(currentTarget);\n    if (!menuItems.length)\n        return;\n    const candidateNodes = menuItems.filter((item) => {\n        if (item.hasAttribute('data-disabled') || item.getAttribute('disabled') === 'true') {\n            return false;\n        }\n        return true;\n    });\n    // Index of the currently focused item in the candidate nodes array\n    const currentIndex = candidateNodes.indexOf(currentFocusedItem);\n    // Calculate the index of the next menu item\n    let nextIndex;\n    switch (e.key) {\n        case kbd.ARROW_DOWN:\n            if (loop) {\n                nextIndex = currentIndex < candidateNodes.length - 1 ? currentIndex + 1 : 0;\n            }\n            else {\n                nextIndex = currentIndex < candidateNodes.length - 1 ? currentIndex + 1 : currentIndex;\n            }\n            break;\n        case kbd.ARROW_UP:\n            if (loop) {\n                nextIndex = currentIndex > 0 ? currentIndex - 1 : candidateNodes.length - 1;\n            }\n            else {\n                nextIndex =\n                    currentIndex < 0 ? candidateNodes.length - 1 : currentIndex > 0 ? currentIndex - 1 : 0;\n            }\n            break;\n        case kbd.HOME:\n            nextIndex = 0;\n            break;\n        case kbd.END:\n            nextIndex = candidateNodes.length - 1;\n            break;\n        default:\n            return;\n    }\n    handleRovingFocus(candidateNodes[nextIndex]);\n}\nfunction isPointerInGraceArea(e, area) {\n    if (!area)\n        return false;\n    const cursorPos = { x: e.clientX, y: e.clientY };\n    return isPointInPolygon(cursorPos, area);\n}\n/**\n * Determine if a point is inside of a polygon.\n *\n * @see https://github.com/substack/point-in-polygon\n */\nfunction isPointInPolygon(point, polygon) {\n    const { x, y } = point;\n    let inside = false;\n    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n        const xi = polygon[i].x;\n        const yi = polygon[i].y;\n        const xj = polygon[j].x;\n        const yj = polygon[j].y;\n        // prettier-ignore\n        const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect)\n            inside = !inside;\n    }\n    return inside;\n}\nfunction isFocusWithinSubmenu(submenuId) {\n    const activeEl = document.activeElement;\n    if (!isHTMLElement(activeEl))\n        return false;\n    // unit tests don't allow `.closest(#id)` to start with a number\n    // so we're using a data attribute.\n    const submenuEl = activeEl.closest(`[data-id=\"${submenuId}\"]`);\n    return isHTMLElement(submenuEl);\n}\nfunction stateAttr(open) {\n    return open ? 'open' : 'closed';\n}\n","import { overridable, toWritableStores } from '../../internal/helpers/index.js';\nimport { withGet } from '../../internal/helpers/withGet.js';\nimport { writable } from 'svelte/store';\nimport { omit } from '../../internal/helpers/object.js';\nimport { createMenuBuilder } from '../menu/index.js';\nconst defaults = {\n    arrowSize: 8,\n    positioning: {\n        placement: 'bottom',\n    },\n    preventScroll: true,\n    closeOnEscape: true,\n    closeOnOutsideClick: true,\n    portal: undefined,\n    loop: false,\n    dir: 'ltr',\n    defaultOpen: false,\n    forceVisible: false,\n    typeahead: true,\n    closeFocus: undefined,\n    disableFocusFirstItem: false,\n    closeOnItemClick: true,\n    onOutsideClick: undefined,\n};\nexport function createDropdownMenu(props) {\n    const withDefaults = { ...defaults, ...props };\n    const rootOptions = toWritableStores(omit(withDefaults, 'ids'));\n    const openWritable = withDefaults.open ?? writable(withDefaults.defaultOpen);\n    const rootOpen = overridable(openWritable, withDefaults?.onOpenChange);\n    const rootActiveTrigger = withGet(writable(null));\n    const nextFocusable = withGet(writable(null));\n    const prevFocusable = withGet(writable(null));\n    const { elements, builders, ids, states, options } = createMenuBuilder({\n        rootOptions,\n        rootOpen,\n        rootActiveTrigger: withGet(rootActiveTrigger),\n        nextFocusable: withGet(nextFocusable),\n        prevFocusable: withGet(prevFocusable),\n        selector: 'dropdown-menu',\n        removeScroll: true,\n        ids: withDefaults.ids,\n    });\n    return {\n        ids,\n        elements,\n        states,\n        builders,\n        options,\n    };\n}\n","import { makeElement, toWritableStores } from '../../internal/helpers/index.js';\nconst defaults = {\n    orientation: 'horizontal',\n    decorative: false,\n};\nexport const createSeparator = (props) => {\n    const withDefaults = { ...defaults, ...props };\n    const options = toWritableStores(withDefaults);\n    const { orientation, decorative } = options;\n    const root = makeElement('separator', {\n        stores: [orientation, decorative],\n        returned: ([$orientation, $decorative]) => {\n            const ariaOrientation = $orientation === 'vertical' ? $orientation : undefined;\n            return {\n                role: $decorative ? 'none' : 'separator',\n                'aria-orientation': ariaOrientation,\n                'aria-hidden': $decorative,\n                'data-orientation': $orientation,\n            };\n        },\n    });\n    return {\n        elements: {\n            root,\n        },\n        options,\n    };\n};\n","import { createDropdownMenu, } from \"@melt-ui/svelte\";\nimport { getContext, setContext } from \"svelte\";\nimport { getPositioningUpdater } from \"../floating/helpers.js\";\nimport { createBitAttrs, generateId, getOptionUpdater, removeUndefined, } from \"../../internal/index.js\";\nexport function getMenuData() {\n    const NAME = \"menu\";\n    const SUB_NAME = \"menu-submenu\";\n    const RADIO_GROUP_NAME = \"menu-radiogroup\";\n    const CHECKBOX_ITEM_NAME = \"menu-checkboxitem\";\n    const RADIO_ITEM_NAME = \"menu-radioitem\";\n    const GROUP_NAME = \"menu-group\";\n    const PARTS = [\n        \"arrow\",\n        \"checkbox-indicator\",\n        \"checkbox-item\",\n        \"content\",\n        \"group\",\n        \"item\",\n        \"label\",\n        \"radio-group\",\n        \"radio-item\",\n        \"radio-indicator\",\n        \"separator\",\n        \"sub-content\",\n        \"sub-trigger\",\n        \"trigger\",\n    ];\n    return {\n        NAME,\n        SUB_NAME,\n        RADIO_GROUP_NAME,\n        CHECKBOX_ITEM_NAME,\n        RADIO_ITEM_NAME,\n        GROUP_NAME,\n        PARTS,\n    };\n}\nexport function getCtx() {\n    const { NAME } = getMenuData();\n    return getContext(NAME);\n}\nexport function setCtx(props) {\n    const { NAME, PARTS } = getMenuData();\n    const getAttrs = createBitAttrs(\"menu\", PARTS);\n    const dropdownMenu = {\n        ...createDropdownMenu({ ...removeUndefined(props), forceVisible: true }),\n        getAttrs,\n    };\n    setContext(NAME, dropdownMenu);\n    return {\n        ...dropdownMenu,\n        updateOption: getOptionUpdater(dropdownMenu.options),\n    };\n}\nexport function setSubMenuCtx(props) {\n    const { SUB_NAME } = getMenuData();\n    const { builders: { createSubmenu }, getAttrs, } = getCtx();\n    const sub = { ...createSubmenu(removeUndefined(props)), getAttrs };\n    setContext(SUB_NAME, sub);\n    return {\n        ...sub,\n        updateOption: getOptionUpdater(sub.options),\n    };\n}\nexport function setRadioGroupCtx(props) {\n    const { RADIO_GROUP_NAME } = getMenuData();\n    const { builders: { createMenuRadioGroup }, getAttrs, } = getCtx();\n    const radioGroup = createMenuRadioGroup(props);\n    setContext(RADIO_GROUP_NAME, { ...radioGroup, getAttrs });\n    return {\n        ...radioGroup,\n        getAttrs,\n    };\n}\nexport function setRadioItem(value) {\n    const { RADIO_ITEM_NAME, RADIO_GROUP_NAME } = getMenuData();\n    const dropdownMenu = getContext(RADIO_GROUP_NAME);\n    setContext(RADIO_ITEM_NAME, { ...dropdownMenu, value });\n    return {\n        ...dropdownMenu,\n        value,\n    };\n}\nexport function getRadioIndicator() {\n    const { RADIO_ITEM_NAME } = getMenuData();\n    const radioItem = getContext(RADIO_ITEM_NAME);\n    return {\n        ...radioItem,\n    };\n}\nexport function getSubTrigger() {\n    const { SUB_NAME } = getMenuData();\n    const submenu = getContext(SUB_NAME);\n    return submenu;\n}\nexport function getSubmenuCtx() {\n    const { SUB_NAME } = getMenuData();\n    return getContext(SUB_NAME);\n}\nexport function setCheckboxItem(props) {\n    const { CHECKBOX_ITEM_NAME } = getMenuData();\n    const { builders: { createCheckboxItem }, getAttrs, } = getCtx();\n    const checkboxItem = createCheckboxItem(removeUndefined(props));\n    setContext(CHECKBOX_ITEM_NAME, checkboxItem.states.checked);\n    return {\n        ...checkboxItem,\n        updateOption: getOptionUpdater(checkboxItem.options),\n        getAttrs,\n    };\n}\nexport function getCheckboxIndicator() {\n    const { CHECKBOX_ITEM_NAME } = getMenuData();\n    return getContext(CHECKBOX_ITEM_NAME);\n}\nexport function setGroupCtx() {\n    const { GROUP_NAME } = getMenuData();\n    const { elements: { group }, getAttrs, } = getCtx();\n    const id = generateId();\n    setContext(GROUP_NAME, id);\n    return { group, id, getAttrs };\n}\nexport function getGroupLabel() {\n    const { GROUP_NAME } = getMenuData();\n    const id = getContext(GROUP_NAME) ?? generateId();\n    const { elements: { groupLabel }, getAttrs, } = getCtx();\n    return { groupLabel, id, getAttrs };\n}\nexport function setArrow(size = 8) {\n    const menu = getCtx();\n    menu.options.arrowSize.set(size);\n    return menu;\n}\nexport function updatePositioning(props) {\n    const defaultPlacement = {\n        side: \"bottom\",\n        align: \"center\",\n    };\n    const withDefaults = { ...defaultPlacement, ...props };\n    const { options: { positioning }, } = getCtx();\n    const updater = getPositioningUpdater(positioning);\n    updater(withDefaults);\n}\nexport function updateSubPositioning(props) {\n    const defaultSubPlacement = {\n        side: \"right\",\n        align: \"start\",\n    };\n    const withDefaults = { ...defaultSubPlacement, ...props };\n    const { options: { positioning }, } = getSubmenuCtx();\n    const updater = getPositioningUpdater(positioning);\n    updater(withDefaults);\n}\n","<script>import { melt } from \"@melt-ui/svelte\";\nimport { getCtx } from \"../ctx.js\";\nimport { disabledAttrs } from \"../../../internal/index.js\";\nimport { createDispatcher } from \"../../../internal/events.js\";\nexport let href = void 0;\nexport let asChild = false;\nexport let disabled = false;\nexport let el = void 0;\nconst {\n  elements: { item },\n  getAttrs\n} = getCtx();\nconst dispatch = createDispatcher();\n$: builder = $item;\n$: attrs = { ...getAttrs(\"item\"), ...disabledAttrs(disabled) };\n$: Object.assign(builder, attrs);\n</script>\n\n{#if asChild}\n\t<slot {builder} />\n{:else}\n\t<svelte:element\n\t\tthis={href ? \"a\" : \"div\"}\n\t\tbind:this={el}\n\t\t{href}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-click={dispatch}\n\t\ton:m-focusin={dispatch}\n\t\ton:m-focusout={dispatch}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointerdown={dispatch}\n\t\ton:m-pointerleave={dispatch}\n\t\ton:m-pointermove={dispatch}\n\t\ton:pointerenter\n\t>\n\t\t<slot {builder} />\n\t</svelte:element>\n{/if}\n","<script>import { derived } from \"svelte/store\";\nimport { setCtx } from \"../ctx.js\";\nexport let closeOnOutsideClick = void 0;\nexport let closeOnEscape = void 0;\nexport let portal = void 0;\nexport let open = void 0;\nexport let onOpenChange = void 0;\nexport let preventScroll = void 0;\nexport let loop = void 0;\nexport let dir = void 0;\nexport let typeahead = void 0;\nexport let closeFocus = void 0;\nexport let disableFocusFirstItem = void 0;\nexport let closeOnItemClick = void 0;\nexport let onOutsideClick = void 0;\nconst {\n  states: { open: localOpen },\n  updateOption,\n  ids\n} = setCtx({\n  closeOnOutsideClick,\n  closeOnEscape,\n  portal,\n  forceVisible: true,\n  defaultOpen: open,\n  preventScroll,\n  loop,\n  dir,\n  typeahead,\n  closeFocus,\n  disableFocusFirstItem,\n  closeOnItemClick,\n  onOutsideClick,\n  onOpenChange: ({ next }) => {\n    if (open !== next) {\n      onOpenChange?.(next);\n      open = next;\n    }\n    return next;\n  }\n});\nconst idValues = derived([ids.menu, ids.trigger], ([$menuId, $triggerId]) => ({\n  menu: $menuId,\n  trigger: $triggerId\n}));\n$: open !== void 0 && localOpen.set(open);\n$: updateOption(\"closeOnOutsideClick\", closeOnOutsideClick);\n$: updateOption(\"closeOnEscape\", closeOnEscape);\n$: updateOption(\"portal\", portal);\n$: updateOption(\"preventScroll\", preventScroll);\n$: updateOption(\"loop\", loop);\n$: updateOption(\"dir\", dir);\n$: updateOption(\"closeFocus\", closeFocus);\n$: updateOption(\"disableFocusFirstItem\", disableFocusFirstItem);\n$: updateOption(\"typeahead\", typeahead);\n$: updateOption(\"closeOnItemClick\", closeOnItemClick);\n$: updateOption(\"onOutsideClick\", onOutsideClick);\n</script>\n\n<slot ids={$idValues} />\n","<script>import { melt } from \"@melt-ui/svelte\";\nimport { getCtx, updatePositioning } from \"../ctx.js\";\nimport { createDispatcher } from \"../../../internal/events.js\";\nexport let transition = void 0;\nexport let transitionConfig = void 0;\nexport let inTransition = void 0;\nexport let inTransitionConfig = void 0;\nexport let outTransition = void 0;\nexport let outTransitionConfig = void 0;\nexport let asChild = false;\nexport let id = void 0;\nexport let side = \"bottom\";\nexport let align = \"center\";\nexport let sideOffset = 0;\nexport let alignOffset = 0;\nexport let collisionPadding = 8;\nexport let avoidCollisions = true;\nexport let collisionBoundary = void 0;\nexport let sameWidth = false;\nexport let fitViewport = false;\nexport let strategy = \"absolute\";\nexport let overlap = false;\nexport let el = void 0;\nconst {\n  elements: { menu },\n  states: { open },\n  ids,\n  getAttrs\n} = getCtx();\nconst dispatch = createDispatcher();\nconst attrs = getAttrs(\"content\");\n$: if (id) {\n  ids.menu.set(id);\n}\n$: builder = $menu;\n$: Object.assign(builder, attrs);\n$: if ($open) {\n  updatePositioning({\n    side,\n    align,\n    sideOffset,\n    alignOffset,\n    collisionPadding,\n    avoidCollisions,\n    collisionBoundary,\n    sameWidth,\n    fitViewport,\n    strategy,\n    overlap\n  });\n}\n</script>\n\n{#if asChild && $open}\n\t<slot {builder} />\n{:else if transition && $open}\n\t<div\n\t\tbind:this={el}\n\t\ttransition:transition={transitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if inTransition && outTransition && $open}\n\t<div\n\t\tbind:this={el}\n\t\tin:inTransition={inTransitionConfig}\n\t\tout:outTransition={outTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if inTransition && $open}\n\t<div\n\t\tbind:this={el}\n\t\tin:inTransition={inTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if outTransition && $open}\n\t<div\n\t\tbind:this={el}\n\t\tout:outTransition={outTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if $open}\n\t<div bind:this={el} {...builder} use:builder.action {...$$restProps} on:m-keydown={dispatch}>\n\t\t<slot {builder} />\n\t</div>\n{/if}\n","<script>import { melt } from \"@melt-ui/svelte\";\nimport { getCtx } from \"../ctx.js\";\nimport { createDispatcher } from \"../../../internal/events.js\";\nexport let asChild = false;\nexport let id = void 0;\nexport let el = void 0;\nconst {\n  elements: { trigger },\n  ids,\n  getAttrs\n} = getCtx();\nconst dispatch = createDispatcher();\nconst attrs = getAttrs(\"trigger\");\n$: if (id) {\n  ids.trigger.set(id);\n}\n$: builder = $trigger;\n$: Object.assign(builder, attrs);\n</script>\n\n{#if asChild}\n\t<slot {builder} />\n{:else}\n\t<button\n\t\tbind:this={el}\n\t\t{...builder} use:builder.action\n\t\ttype=\"button\"\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointerdown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</button>\n{/if}\n"],"names":["addHighlight","element","removeHighlight","debounce","fn","wait","timeout","args","later","isDom","getPlatform","agent","pt","v","isTouchDevice","isMac","isApple","isIos","LOCK_CLASSNAME","assignStyle","el","style","previousStyle","setCSSProperty","property","value","previousValue","getPaddingProperty","documentElement","documentLeft","removeScroll","_document","doc","win","body","noop","scrollbarWidth","setScrollbarWidthProperty","paddingProperty","scrollbarSidePadding","setStyle","setIOSStyle","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","cleanups","handleRovingFocus","nextElement","isBrowser","sleep","currentFocusedElement","isHTMLElement","getFocusableElements","getNextFocusable","currentElement","focusableElements","nextIndex","getPreviousFocusable","previousIndex","prevElement","ignoredKeys","defaults","createTypeaheadSearch","withDefaults","typed","withGet","writable","resetTyped","key","items","currentItem","$typed","get","candidateItems","item","normalizeSearch","char","currentItemIndex","wrappedItems","wrapArray","nextItem","handleFocus","prop","defaultEl","tick","returned","isFunction","SUB_OPEN_KEYS","SELECTION_KEYS","kbd","SUB_CLOSE_KEYS","menuIdParts","createMenuBuilder","opts","name","selector","createElHelpers","preventScroll","arrowSize","positioning","closeOnEscape","closeOnOutsideClick","portal","forceVisible","typeahead","loop","closeFocus","disableFocusFirstItem","closeOnItemClick","onOutsideClick","rootOpen","rootActiveTrigger","nextFocusable","prevFocusable","isUsingKeyboard","lastPointerX","pointerGraceIntent","pointerDir","currentFocusedItem","pointerMovingToSubmenu","derived","$pointerDir","$pointerGraceIntent","e","isPointerInGraceArea","handleTypeaheadSearch","rootIds","toWritableStores","generateIds","isVisible","derivedVisible","rootMenu","makeElement","$isVisible","$portal","$rootMenuId","$rootTriggerId","styleToString","portalAttr","node","unsubPopper","unsubDerived","effect","$rootActiveTrigger","$positioning","$closeOnOutsideClick","$closeOnEscape","setMeltMenuAttribute","usePopper","_a","getPortalDestination","unsubEvents","executeCallbacks","addMeltEventListener","target","menuEl","FIRST_LAST_KEYS","handleMenuNavigation","handleTabNavigation","isCharacterKey","getMenuItems","rootTrigger","$rootOpen","applyAttrsIfDisabled","p","triggerEl","handleOpen","menuId","menu","menuItems","rootArrow","$arrowSize","overlay","stateAttr","unsubEscapeKeydown","escapeKeydown","useEscapeKeydown","unsubPortal","portalDestination","usePortal","itemEl","isElementDisabled","onItemKeyDown","onMenuItemPointerMove","onMenuItemPointerLeave","onItemFocusIn","onItemFocusOut","group","groupId","groupLabel","checkboxItemDefaults","createCheckboxItem","props","checkedWritable","checked","overridable","disabled","checkboxItem","$checked","$disabled","isIndeterminate","disabledAttr","getCheckedState","prev","onItemLeave","isChecked","_isIndeterminate","createMenuRadioGroup","valueWritable","radioGroup","radioItemDefaults","radioItem","$value","itemProps","itemValue","separator","createSeparator","subMenuDefaults","createSubmenu","subOpenWritable","subOpen","options","omit","subActiveTrigger","subOpenTimer","pointerGraceTimer","subIds","safeOnMount","subTrigger","subIsVisible","subMenu","$subIsVisible","$subMenuId","$subTriggerId","activeTrigger","parentMenuEl","getParentMenu","isCloseKey","isModifierKey","$subActiveTrigger","onMenuPointerMove","submenuEl","relatedTarget","$subOpen","unsubTimer","clearTimerStore","firstItem","isMouse","onItemEnter","isFocusWithinSubmenu","openTimer","contentRect","side","rightSide","bleed","contentNearEdge","contentFarEdge","onTriggerLeave","subArrow","focusedItem","subTriggerEl","unsubs","handlePointer","handleKeyDown","addEventListener","keydownListener","unsub","$currentFocusedItem","$closeFocus","$preventScroll","isOpen","isPointerMovingToSubmenu","currentTarget","$lastPointerX","pointerXHasChanged","newDir","currTarget","$prevFocusable","$nextFocusable","menuElement","timerStore","timer","candidateNodes","currentIndex","area","cursorPos","isPointInPolygon","point","polygon","x","y","inside","i","j","xi","yi","xj","yj","submenuId","activeEl","open","createDropdownMenu","rootOptions","openWritable","elements","builders","ids","states","orientation","decorative","$orientation","$decorative","getMenuData","getCtx","NAME","getContext","setCtx","PARTS","getAttrs","createBitAttrs","dropdownMenu","removeUndefined","setContext","getOptionUpdater","setSubMenuCtx","SUB_NAME","sub","getSubTrigger","getSubmenuCtx","updatePositioning","getPositioningUpdater","updateSubPositioning","ctx","create_dynamic_element","svelte_element_levels","svelte_element","svelte_element_data","insert_hydration","anchor","get_spread_update","href","$$props","asChild","dispatch","createDispatcher","$$value","$$invalidate","builder","$item","attrs","disabledAttrs","onOpenChange","dir","localOpen","updateOption","next","idValues","$menuId","$triggerId","div_levels","div","transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","id","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","$menu","$open","button_levels","button","trigger","$trigger"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}