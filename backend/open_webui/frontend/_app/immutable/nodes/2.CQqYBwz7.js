const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/h22AL3a0.js","../chunks/C1FmrZbK.js","../chunks/QjJsDpFa.js"])))=>i.map(i=>d[i]);
import{S as mt,i as _t,s as pt,H as ye,I as Ie,C as X,l as S,D as ee,p as T,E as Q,g as P,K as De,q as $,r as L,d,F as x,v as Lt,k as Ee,e as g,t as z,c as v,a as b,b as F,f,h as u,G as he,y as Ae,u as Ne,j as Y,X as Ct,n as Ze,V as st,W as rt,N as ol,M as al,x as ko,z as yo,A as Eo,B as Io,m as at,a0 as il,a2 as Mt,w as Gt,_ as Na,L as Xe,T as jt,O as Au,P as Nu,J as ws,Q as as,a4 as e0,aj as t0,a6 as _h,U as Gr,a3 as u_,R as ph,$ as hl,a1 as Wr,af as Va,ak as xt,ax as Ia}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{t as Ye}from"../chunks/DQjSdZ1e.js";import{f as Do,D as c_}from"../chunks/5-chS5bE.js";import{g as nl}from"../chunks/BYfvXhfD.js";import{p as Lu}from"../chunks/D2VKnAEk.js";import{f as l0,s as gh}from"../chunks/CCuVEwBR.js";import{a as tl,u as Vl,V as Ou,D as Il,j as zi,Z as gs,m as Sa,_ as d_,G as rs,$ as Kr,q as Fi,s as el,c as Dl,g as Wi,d as Yi,k as ji,r as h_,z as m_,a0 as Da,W as Mu,n as vh,a1 as Ca,E as Fr,Q as __,b as ns,S as Hi,C as p_,e as Co,F as s0,v as bh,w as bu,U as g_,t as v_}from"../chunks/Px_ajtSr.js";import{A as b_,h as r0,B as a0,g as n0,C as w_}from"../chunks/BAwefT_m.js";import{b as o0,v as k_,f as wh,i as kh,c as Du,a as y_,Q as E_,R as I_,l as D_,m as yh}from"../chunks/C06TgqeF.js";import{g as C_}from"../chunks/CxP_jo_w.js";import{g as $_}from"../chunks/Boi0JlCe.js";import{i as Ki,k as V_,g as S_}from"../chunks/4SWYVpml.js";import{e as ht,u as ks,o as xs,d as T_}from"../chunks/BjVHJN9o.js";import{r as vo,t as A_,v as i0,w as N_,x as Cu,a as vs,y as L_,u as O_,e as $l,q as bo,z as M_,d as B_,f as Bu,p as Gi,m as P_,n as U_,A as $a,B as Eh,C as j_,D as R_,E as H_}from"../chunks/B26fW9V3.js";import{S as z_,F as f0,g as wu,a as F_,d as W_,u as K_,b as G_,c as $u,e as Y_,f as q_}from"../chunks/8FeVl3bP.js";import{C as Z_,U as J_}from"../chunks/CMr5EqY7.js";import{C as La}from"../chunks/B3qUBvVu.js";import{S as pl}from"../chunks/CbQmQGdd.js";import{A as u0,U as c0}from"../chunks/skrMH9BL.js";import{_ as Vu}from"../chunks/C1FmrZbK.js";import"../chunks/CgqN014N.js";import{M as d0,a as h0,b as m0}from"../chunks/CWlaJreh.js";import{b as X_,c as ss}from"../chunks/fl9Qo3pM.js";import{f as Pu}from"../chunks/g5t9vw8M.js";import{D as Q_}from"../chunks/ozVhkuYd.js";import{G as _0}from"../chunks/C-kqD5vK.js";import{P as x_}from"../chunks/BrJK0JaC.js";import{T as Kt}from"../chunks/cMkWkffq.js";import{S as ep}from"../chunks/CfstUa2o.js";import{D as tp}from"../chunks/Dd8rmAoC.js";import{b as p0,P as lp}from"../chunks/C-kfCiLr.js";import{M as g0}from"../chunks/COKWU28c.js";import{S as sp}from"../chunks/C8iviNoy.js";import{L as v0}from"../chunks/LNJKunkS.js";import{C as Uu}from"../chunks/BjfKCu6r.js";import{C as ju}from"../chunks/6bX91EV5.js";import{C as b0}from"../chunks/Do3D_Int.js";import{P as $o}from"../chunks/BW7wCiOr.js";import Ta from"../chunks/BFmuJLeH.js";import{F as rp}from"../chunks/HJqR3EwY.js";import{E as ap}from"../chunks/BNJXXAzR.js";import{E as np}from"../chunks/BJHkL7lq.js";import{e as op,f as ip,h as fp,i as up}from"../chunks/C4LfOicd.js";import{M as ys}from"../chunks/C_R67QgC.js";import{A as cp}from"../chunks/AyEQufUY.js";import{X as os}from"../chunks/CubwYUHd.js";import{C as w0,M as dp,A as k0,a as hp,b as mp,W as _p}from"../chunks/BQLzvEGu.js";import{L as pp,H as gp}from"../chunks/N3GU-DtH.js";import{c as vp,P as Ru}from"../chunks/DhOJMFGK.js";import{S as qi}from"../chunks/D9KdRKiL.js";import{d as Aa}from"../chunks/I1CDPYOB.js";import"../chunks/BXP-4RTu.js";import{S as y0}from"../chunks/BfJ33jvc.js";import{S as bp}from"../chunks/C83syoBY.js";import{k as wp,g as Ih,m as kp,n as yp,o as Ep,p as Ip}from"../chunks/BtlLS4jq.js";import{S as wo}from"../chunks/C84qLdHU.js";import{T as Hu}from"../chunks/DmxdQp_j.js";import{g as Dp}from"../chunks/DKKWgRBc.js";import{g as Cp,c as $p}from"../chunks/CL0EuV-A.js";import{A as Vp}from"../chunks/C6HpZrrV.js";import{S as wt}from"../chunks/C-OXavg4.js";import{b as Sp}from"../chunks/CsB0EUwg.js";import"../chunks/DQfRr7yB.js";import"../chunks/BFK-koEx.js";import{L as Tp}from"../chunks/FMLTfk-j.js";const Ap=(s,e)=>e.some(t=>s instanceof t);let Dh,Ch;function Np(){return Dh||(Dh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lp(){return Ch||(Ch=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Su=new WeakMap,I0=new WeakMap,ku=new WeakMap,zu=new WeakMap;function Op(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",a),s.removeEventListener("error",n)},a=()=>{t(bs(s.result)),r()},n=()=>{l(s.error),r()};s.addEventListener("success",a),s.addEventListener("error",n)});return e.then(t=>{t instanceof IDBCursor&&E0.set(t,s)}).catch(()=>{}),zu.set(e,s),e}function Mp(s){if(Su.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",a),s.removeEventListener("error",n),s.removeEventListener("abort",n)},a=()=>{t(),r()},n=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",a),s.addEventListener("error",n),s.addEventListener("abort",n)});Su.set(s,e)}let Tu={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Su.get(s);if(e==="objectStoreNames")return s.objectStoreNames||I0.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Bp(s){Tu=s(Tu)}function Pp(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(yu(this),e,...t);return I0.set(l,e.sort?e.sort():[e]),bs(l)}:Lp().includes(s)?function(...e){return s.apply(yu(this),e),bs(E0.get(this))}:function(...e){return bs(s.apply(yu(this),e))}}function Up(s){return typeof s=="function"?Pp(s):(s instanceof IDBTransaction&&Mp(s),Ap(s,Np())?new Proxy(s,Tu):s)}function bs(s){if(s instanceof IDBRequest)return Op(s);if(ku.has(s))return ku.get(s);const e=Up(s);return e!==s&&(ku.set(s,e),zu.set(e,s)),e}const yu=s=>zu.get(s);function jp(s,e,{blocked:t,upgrade:l,blocking:r,terminated:a}={}){const n=indexedDB.open(s,e),o=bs(n);return l&&n.addEventListener("upgradeneeded",i=>{l(bs(n.result),i.oldVersion,i.newVersion,bs(n.transaction),i)}),t&&n.addEventListener("blocked",i=>t(i.oldVersion,i.newVersion,i)),o.then(i=>{a&&i.addEventListener("close",()=>a()),r&&i.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}function $h(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),bs(t).then(()=>{})}const Rp=["get","getKey","getAll","getAllKeys","count"],Hp=["put","add","delete","clear"],Eu=new Map;function Vh(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Eu.get(e))return Eu.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=Hp.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||Rp.includes(t)))return;const a=async function(n,...o){const i=this.transaction(n,r?"readwrite":"readonly");let c=i.store;return l&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),r&&i.done]))[0]};return Eu.set(e,a),a}Bp(s=>({...s,get:(e,t,l)=>Vh(e,t)||s.get(e,t,l),has:(e,t)=>!!Vh(e,t)||s.has(e,t)}));function zp(s){let e=s[9].t("Unarchive All Archived Chats")+"",t;return{c(){t=z(e)},l(l){t=F(l,e)},m(l,r){P(l,t,r)},p(l,r){r[0]&512&&e!==(e=l[9].t("Unarchive All Archived Chats")+"")&&Y(t,e)},i:Ze,o:Ze,d(l){l&&d(t)}}}function Fp(s){let e,t;return e=new pl({props:{className:"size-4"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Wp(s){let e,t,l,r,a,n,o,i=s[9].t("Export All Archived Chats")+"",c,m,h,_;const w=[Fp,zp],p=[];function k(E,y){return E[4]?0:1}return r=k(s),a=p[r]=w[r](s),{c(){e=g("div"),t=g("div"),l=g("button"),a.c(),n=S(),o=g("button"),c=z(i),this.h()},l(E){e=v(E,"DIV",{slot:!0});var y=b(e);t=v(y,"DIV",{class:!0});var I=b(t);l=v(I,"BUTTON",{class:!0});var D=b(l);a.l(D),D.forEach(d),n=T(I),o=v(I,"BUTTON",{class:!0});var O=b(o);c=F(O,i),O.forEach(d),I.forEach(d),y.forEach(d),this.h()},h(){f(l,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-100 dark:outline-gray-800 rounded-3xl"),l.disabled=s[4],f(o,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-100 dark:outline-gray-800 rounded-3xl"),o.disabled=s[4],f(t,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1 justify-end w-full"),f(e,"slot","footer")},m(E,y){P(E,e,y),u(e,t),u(t,l),p[r].m(l,null),u(t,n),u(t,o),u(o,c),m=!0,h||(_=[he(l,"click",s[20]),he(o,"click",s[21])],h=!0)},p(E,y){let I=r;r=k(E),r===I?p[r].p(E,y):(Ae(),L(p[I],1,1,()=>{p[I]=null}),Ne(),a=p[r],a?a.p(E,y):(a=p[r]=w[r](E),a.c()),$(a,1),a.m(l,null)),(!m||y[0]&16)&&(l.disabled=E[4]),(!m||y[0]&512)&&i!==(i=E[9].t("Export All Archived Chats")+"")&&Y(c,i),(!m||y[0]&16)&&(o.disabled=E[4])},i(E){m||($(a),m=!0)},o(E){L(a),m=!1},d(E){E&&d(e),p[r].d(),h=!1,Ct(_)}}}function Kp(s){let e,t,l,r,a,n,o,i,c;function m(y){s[18](y)}let h={message:s[9].t("Are you sure you want to unarchive all archived chats?"),confirmLabel:s[9].t("Unarchive All")};s[8]!==void 0&&(h.show=s[8]),e=new La({props:h}),ye.push(()=>Ie(e,"show",m)),e.$on("confirm",s[19]);function _(y){s[23](y)}function w(y){s[24](y)}function p(y){s[25](y)}function k(y){s[26](y)}let E={title:s[9].t("Archived Chats"),emptyPlaceholder:s[9].t("You have no archived conversations."),chatList:s[5],allChatsLoaded:s[6],chatListLoading:s[7],onUpdate:s[22],loadHandler:s[11],unarchiveHandler:s[13],$$slots:{footer:[Wp]},$$scope:{ctx:s}};return s[0]!==void 0&&(E.show=s[0]),s[1]!==void 0&&(E.query=s[1]),s[2]!==void 0&&(E.orderBy=s[2]),s[3]!==void 0&&(E.direction=s[3]),r=new Z_({props:E}),ye.push(()=>Ie(r,"show",_)),ye.push(()=>Ie(r,"query",w)),ye.push(()=>Ie(r,"orderBy",p)),ye.push(()=>Ie(r,"direction",k)),{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment)},l(y){ee(e.$$.fragment,y),l=T(y),ee(r.$$.fragment,y)},m(y,I){Q(e,y,I),P(y,l,I),Q(r,y,I),c=!0},p(y,I){const D={};I[0]&512&&(D.message=y[9].t("Are you sure you want to unarchive all archived chats?")),I[0]&512&&(D.confirmLabel=y[9].t("Unarchive All")),!t&&I[0]&256&&(t=!0,D.show=y[8],De(()=>t=!1)),e.$set(D);const O={};I[0]&512&&(O.title=y[9].t("Archived Chats")),I[0]&512&&(O.emptyPlaceholder=y[9].t("You have no archived conversations.")),I[0]&32&&(O.chatList=y[5]),I[0]&64&&(O.allChatsLoaded=y[6]),I[0]&128&&(O.chatListLoading=y[7]),I[0]&784|I[1]&1&&(O.$$scope={dirty:I,ctx:y}),!a&&I[0]&1&&(a=!0,O.show=y[0],De(()=>a=!1)),!n&&I[0]&2&&(n=!0,O.query=y[1],De(()=>n=!1)),!o&&I[0]&4&&(o=!0,O.orderBy=y[2],De(()=>o=!1)),!i&&I[0]&8&&(i=!0,O.direction=y[3],De(()=>i=!1)),r.$set(O)},i(y){c||($(e.$$.fragment,y),$(r.$$.fragment,y),c=!0)},o(y){L(e.$$.fragment,y),L(r.$$.fragment,y),c=!1},d(y){y&&d(l),x(e,y),x(r,y)}}}function Gp(s,e,t){let l;const{saveAs:r}=Do,a=Lt("i18n");Ee(s,a,te=>t(9,l=te));let{show:n=!1}=e,{onUpdate:o=()=>{}}=e,i=!1,c=null,m=1,h="",_="updated_at",w="desc",p=!1,k=!1,E,y=!1,I={};const D=async()=>{n&&(E&&clearTimeout(E),m=1,t(5,c=null),h===""?t(5,c=await vo(localStorage.token,m,I)):E=setTimeout(async()=>{t(5,c=await vo(localStorage.token,m,I))},500),(c??[]).length===0?t(6,p=!0):t(6,p=!1))},O=async()=>{t(7,k=!0),m+=1;let te=[];h?te=await vo(localStorage.token,m,I):te=await vo(localStorage.token,m,I),t(6,p=te.length===0),te.length>0&&t(5,c=[...c,...te]),t(7,k=!1)},V=async()=>{const te=await A_(localStorage.token);let q=new Blob([JSON.stringify(te)],{type:"application/json"});r(q,`${l.t("archived-chat-export")}-${Date.now()}.json`)},C=async te=>{await i0(localStorage.token,te).catch(q=>{Ye.error(`${q}`)}),o(),H()},A=async()=>{t(4,i=!0);try{await N_(localStorage.token),Ye.success(l.t("All chats have been unarchived.")),o(),await H()}catch(te){Ye.error(`${te}`)}finally{t(4,i=!1)}},H=async()=>{t(5,c=await vo(localStorage.token))};function B(te){y=te,t(8,y)}const W=()=>{A()},U=()=>{t(8,y=!0)},K=()=>{V()},G=()=>{H()};function M(te){n=te,t(0,n)}function R(te){h=te,t(1,h)}function N(te){_=te,t(2,_)}function j(te){w=te,t(3,w)}return s.$$set=te=>{"show"in te&&t(0,n=te.show),"onUpdate"in te&&t(16,o=te.onUpdate)},s.$$.update=()=>{s.$$.dirty[0]&14&&t(17,I={...h?{query:h}:{},..._?{order_by:_}:{},...w?{direction:w}:{}}),s.$$.dirty[0]&131072&&I!==null&&D(),s.$$.dirty[0]&1&&n&&H()},[n,h,_,w,i,c,p,k,y,l,a,O,V,C,A,H,o,I,B,W,U,K,G,M,R,N,j]}class D0 extends mt{constructor(e){super(),_t(this,e,Gp,Kp,pt,{show:0,onUpdate:16},null,[-1,-1])}}function Yp(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=b(e);t=rt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(l,r){P(l,e,r),u(e,t)},p(l,[r]){r&2&&f(e,"stroke-width",l[1]),r&1&&f(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&d(e)}}}function qp(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Zp extends mt{constructor(e){super(),_t(this,e,qp,Yp,pt,{className:0,strokeWidth:1})}}function Jp(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=b(e);t=rt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(l,r){P(l,e,r),u(e,t)},p(l,[r]){r&2&&f(e,"stroke-width",l[1]),r&1&&f(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&d(e)}}}function Xp(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Qp extends mt{constructor(e){super(),_t(this,e,Xp,Jp,pt,{className:0,strokeWidth:1})}}function Sh(s,e,t){const l=s.slice();return l[39]=e[t],l}function Th(s){var a;let e,t,l,r;return l=new g0({props:{className:"h-full flex pt-4 pb-8 w-full",chatId:`chat-preview-${((a=s[10])==null?void 0:a.id)??""}`,user:s[12],readOnly:!0,history:s[10].chat.history,messages:s[10].chat.messages,autoScroll:!0,sendMessage:yg,continueResponse:Eg,regenerateResponse:Ig,messagesCount:null,editCodeBlock:!1}}),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=b(e);t=v(o,"DIV",{id:!0});var i=b(t);ee(l.$$.fragment,i),i.forEach(d),o.forEach(d),this.h()},h(){f(t,"id","full-messages-container"),f(e,"class","hidden w-full h-full flex-col")},m(n,o){P(n,e,o),u(e,t),Q(l,t,null),r=!0},p(n,o){var c;const i={};o[0]&1024&&(i.chatId=`chat-preview-${((c=n[10])==null?void 0:c.id)??""}`),o[0]&4096&&(i.user=n[12]),o[0]&1024&&(i.history=n[10].chat.history),o[0]&1024&&(i.messages=n[10].chat.messages),l.$set(i)},i(n){r||($(l.$$.fragment,n),r=!0)},o(n){L(l.$$.fragment,n),r=!1},d(n){n&&d(e),x(l)}}}function xp(s){let e;const t=s[20].default,l=ko(t,s,s[33],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,a){l&&l.m(r,a),e=!0},p(r,a){l&&l.p&&(!e||a[1]&4)&&yo(l,t,r,r[33],e?Io(t,r[33],a,null):Eo(r[33]),null)},i(r){e||($(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function eg(s){let e,t;return e=new Kt({props:{content:s[13].t("More"),$$slots:{default:[xp]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&8192&&(a.content=l[13].t("More")),r[1]&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ah(s){let e,t;return e=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$slots:{default:[tg]},$$scope:{ctx:s}}}),e.$on("click",s[21]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&8192|r[1]&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function tg(s){let e,t,l,r=s[13].t("Share")+"",a,n;return e=new ep({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Share")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function lg(s){let e,t,l,r=s[13].t("Download")+"",a,n;return e=new c_({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Download")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function Nh(s){let e,t;return e=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[sg]},$$scope:{ctx:s}}}),e.$on("click",s[22]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&8192|r[1]&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function sg(s){let e,t=s[13].t("Export chat (.json)")+"",l;return{c(){e=g("div"),l=z(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","flex items-center line-clamp-1")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&8192&&t!==(t=r[13].t("Export chat (.json)")+"")&&Y(l,t)},d(r){r&&d(e)}}}function rg(s){let e,t=s[13].t("Plain text (.txt)")+"",l;return{c(){e=g("div"),l=z(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","flex items-center line-clamp-1")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&8192&&t!==(t=r[13].t("Plain text (.txt)")+"")&&Y(l,t)},d(r){r&&d(e)}}}function ag(s){let e,t=s[13].t("PDF document (.pdf)")+"",l;return{c(){e=g("div"),l=z(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","flex items-center line-clamp-1")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&8192&&t!==(t=r[13].t("PDF document (.pdf)")+"")&&Y(l,t)},d(r){r&&d(e)}}}function ng(s){var o,i,c;let e,t,l,r,a,n=(((o=s[12])==null?void 0:o.role)==="admin"||(((c=(i=s[12].permissions)==null?void 0:i.chat)==null?void 0:c.export)??!0))&&Nh(s);return t=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[rg]},$$scope:{ctx:s}}}),t.$on("click",s[23]),r=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl select-none w-full",$$slots:{default:[ag]},$$scope:{ctx:s}}}),r.$on("click",s[24]),{c(){n&&n.c(),e=S(),X(t.$$.fragment),l=S(),X(r.$$.fragment)},l(m){n&&n.l(m),e=T(m),ee(t.$$.fragment,m),l=T(m),ee(r.$$.fragment,m)},m(m,h){n&&n.m(m,h),P(m,e,h),Q(t,m,h),P(m,l,h),Q(r,m,h),a=!0},p(m,h){var p,k,E;((p=m[12])==null?void 0:p.role)==="admin"||(((E=(k=m[12].permissions)==null?void 0:k.chat)==null?void 0:E.export)??!0)?n?(n.p(m,h),h[0]&4096&&$(n,1)):(n=Nh(m),n.c(),$(n,1),n.m(e.parentNode,e)):n&&(Ae(),L(n,1,1,()=>{n=null}),Ne());const _={};h[0]&8192|h[1]&4&&(_.$$scope={dirty:h,ctx:m}),t.$set(_);const w={};h[0]&8192|h[1]&4&&(w.$$scope={dirty:h,ctx:m}),r.$set(w)},i(m){a||($(n),$(t.$$.fragment,m),$(r.$$.fragment,m),a=!0)},o(m){L(n),L(t.$$.fragment,m),L(r.$$.fragment,m),a=!1},d(m){m&&(d(e),d(l)),n&&n.d(m),x(t,m),x(r,m)}}}function og(s){let e,t,l,r;return e=new h0({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[lg]},$$scope:{ctx:s}}}),l=new m0({props:{class:"w-full rounded-2xl p-1 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-100  dark:border-gray-800",transition:Pu,sideOffset:8,$$slots:{default:[ng]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment),t=S(),X(l.$$.fragment)},l(a){ee(e.$$.fragment,a),t=T(a),ee(l.$$.fragment,a)},m(a,n){Q(e,a,n),P(a,t,n),Q(l,a,n),r=!0},p(a,n){const o={};n[0]&8192|n[1]&4&&(o.$$scope={dirty:n,ctx:a}),e.$set(o);const i={};n[0]&12288|n[1]&4&&(i.$$scope={dirty:n,ctx:a}),l.$set(i)},i(a){r||($(e.$$.fragment,a),$(l.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),L(l.$$.fragment,a),r=!1},d(a){a&&d(t),x(e,a),x(l,a)}}}function ig(s){let e,t,l,r=s[13].t("Rename")+"",a,n;return e=new x_({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Rename")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function fg(s){let e,t,l,r=s[13].t("Pin")+"",a,n;return e=new Zp({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Pin")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function ug(s){let e,t,l,r=s[13].t("Unpin")+"",a,n;return e=new Qp({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Unpin")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function cg(s){let e,t,l,r;const a=[ug,fg],n=[];function o(i,c){return i[9]?0:1}return e=o(s),t=n[e]=a[e](s),{c(){t.c(),l=at()},l(i){t.l(i),l=at()},m(i,c){n[e].m(i,c),P(i,l,c),r=!0},p(i,c){let m=e;e=o(i),e===m?n[e].p(i,c):(Ae(),L(n[m],1,1,()=>{n[m]=null}),Ne(),t=n[e],t?t.p(i,c):(t=n[e]=a[e](i),t.c()),$(t,1),t.m(l.parentNode,l))},i(i){r||($(t),r=!0)},o(i){L(t),r=!1},d(i){i&&d(l),n[e].d(i)}}}function dg(s){let e,t,l,r=s[13].t("Clone")+"",a,n;return e=new tp({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Clone")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function Lh(s){let e,t;return e=new d0({props:{$$slots:{default:[pg]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&24706|r[1]&4&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function hg(s){let e,t,l,r=s[13].t("Move")+"",a,n;return e=new p0({}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Move")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function mg(s){var i;let e,t,l,r=(((i=s[39])==null?void 0:i.name)??"Folder")+"",a,n,o;return e=new p0({}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),n=S(),this.h()},l(c){ee(e.$$.fragment,c),t=T(c),l=v(c,"DIV",{class:!0});var m=b(l);a=F(m,r),m.forEach(d),n=T(c),this.h()},h(){f(l,"class","flex items-center")},m(c,m){Q(e,c,m),P(c,t,m),P(c,l,m),u(l,a),P(c,n,m),o=!0},p(c,m){var h;(!o||m[0]&16384)&&r!==(r=(((h=c[39])==null?void 0:h.name)??"Folder")+"")&&Y(a,r)},i(c){o||($(e.$$.fragment,c),o=!0)},o(c){L(e.$$.fragment,c),o=!1},d(c){c&&(d(t),d(l),d(n)),x(e,c)}}}function Oh(s){let e,t;function l(){return s[28](s[39])}return e=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[mg]},$$scope:{ctx:s}}}),e.$on("click",l),{c(){X(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){Q(e,r,a),t=!0},p(r,a){s=r;const n={};a[0]&16384|a[1]&4&&(n.$$scope={dirty:a,ctx:s}),e.$set(n)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){x(e,r)}}}function _g(s){let e,t,l=ht(s[14].sort(Mh)),r=[];for(let n=0;n<l.length;n+=1)r[n]=Oh(Sh(s,l,n));const a=n=>L(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=at()},l(n){for(let o=0;o<r.length;o+=1)r[o].l(n);e=at()},m(n,o){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(n,o);P(n,e,o),t=!0},p(n,o){if(o[0]&16514){l=ht(n[14].sort(Mh));let i;for(i=0;i<l.length;i+=1){const c=Sh(n,l,i);r[i]?(r[i].p(c,o),$(r[i],1)):(r[i]=Oh(c),r[i].c(),$(r[i],1),r[i].m(e.parentNode,e))}for(Ae(),i=l.length;i<r.length;i+=1)a(i);Ne()}},i(n){if(!t){for(let o=0;o<l.length;o+=1)$(r[o]);t=!0}},o(n){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)L(r[o]);t=!1},d(n){n&&d(e),il(r,n)}}}function pg(s){let e,t,l,r;return e=new h0({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl select-none w-full",$$slots:{default:[hg]},$$scope:{ctx:s}}}),l=new m0({props:{class:"w-full rounded-2xl p-1 z-50 bg-white dark:bg-gray-850 dark:text-white border border-gray-100  dark:border-gray-800 shadow-lg max-h-52 overflow-y-auto scrollbar-hidden",transition:Pu,sideOffset:8,$$slots:{default:[_g]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment),t=S(),X(l.$$.fragment)},l(a){ee(e.$$.fragment,a),t=T(a),ee(l.$$.fragment,a)},m(a,n){Q(e,a,n),P(a,t,n),Q(l,a,n),r=!0},p(a,n){const o={};n[0]&8192|n[1]&4&&(o.$$scope={dirty:n,ctx:a}),e.$set(o);const i={};n[0]&16514|n[1]&4&&(i.$$scope={dirty:n,ctx:a}),l.$set(i)},i(a){r||($(e.$$.fragment,a),$(l.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),L(l.$$.fragment,a),r=!1},d(a){a&&d(t),x(e,a),x(l,a)}}}function gg(s){let e,t,l,r=s[13].t("Archive")+"",a,n;return e=new u0({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Archive")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function vg(s){let e,t,l,r=s[13].t("Delete")+"",a,n;return e=new _0({props:{strokeWidth:"1.5"}}),{c(){X(e.$$.fragment),t=S(),l=g("div"),a=z(r),this.h()},l(o){ee(e.$$.fragment,o),t=T(o),l=v(o,"DIV",{class:!0});var i=b(l);a=F(i,r),i.forEach(d),this.h()},h(){f(l,"class","flex items-center")},m(o,i){Q(e,o,i),P(o,t,i),P(o,l,i),u(l,a),n=!0},p(o,i){(!n||i[0]&8192)&&r!==(r=o[13].t("Delete")+"")&&Y(a,r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){o&&(d(t),d(l)),x(e,o)}}}function bg(s){var D,O,V;let e,t,l,r,a,n,o,i,c,m,h,_,w,p,k,E,y=(((D=s[12])==null?void 0:D.role)==="admin"||(((V=(O=s[12].permissions)==null?void 0:O.chat)==null?void 0:V.share)??!0))&&Ah(s);t=new d0({props:{$$slots:{default:[og]},$$scope:{ctx:s}}}),r=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[ig]},$$scope:{ctx:s}}}),r.$on("click",s[25]),i=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[cg]},$$scope:{ctx:s}}}),i.$on("click",s[26]),m=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[dg]},$$scope:{ctx:s}}}),m.$on("click",s[27]);let I=s[7]&&Lh(s);return w=new ss({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[gg]},$$scope:{ctx:s}}}),w.$on("click",s[29]),k=new ss({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[vg]},$$scope:{ctx:s}}}),k.$on("click",s[30]),{c(){y&&y.c(),e=S(),X(t.$$.fragment),l=S(),X(r.$$.fragment),a=S(),n=g("hr"),o=S(),X(i.$$.fragment),c=S(),X(m.$$.fragment),h=S(),I&&I.c(),_=S(),X(w.$$.fragment),p=S(),X(k.$$.fragment),this.h()},l(C){y&&y.l(C),e=T(C),ee(t.$$.fragment,C),l=T(C),ee(r.$$.fragment,C),a=T(C),n=v(C,"HR",{class:!0}),o=T(C),ee(i.$$.fragment,C),c=T(C),ee(m.$$.fragment,C),h=T(C),I&&I.l(C),_=T(C),ee(w.$$.fragment,C),p=T(C),ee(k.$$.fragment,C),this.h()},h(){f(n,"class","border-gray-50 dark:border-gray-800 my-1")},m(C,A){y&&y.m(C,A),P(C,e,A),Q(t,C,A),P(C,l,A),Q(r,C,A),P(C,a,A),P(C,n,A),P(C,o,A),Q(i,C,A),P(C,c,A),Q(m,C,A),P(C,h,A),I&&I.m(C,A),P(C,_,A),Q(w,C,A),P(C,p,A),Q(k,C,A),E=!0},p(C,A){var M,R,N;((M=C[12])==null?void 0:M.role)==="admin"||(((N=(R=C[12].permissions)==null?void 0:R.chat)==null?void 0:N.share)??!0)?y?(y.p(C,A),A[0]&4096&&$(y,1)):(y=Ah(C),y.c(),$(y,1),y.m(e.parentNode,e)):y&&(Ae(),L(y,1,1,()=>{y=null}),Ne());const H={};A[0]&12288|A[1]&4&&(H.$$scope={dirty:A,ctx:C}),t.$set(H);const B={};A[0]&8192|A[1]&4&&(B.$$scope={dirty:A,ctx:C}),r.$set(B);const W={};A[0]&8704|A[1]&4&&(W.$$scope={dirty:A,ctx:C}),i.$set(W);const U={};A[0]&8192|A[1]&4&&(U.$$scope={dirty:A,ctx:C}),m.$set(U),C[7]?I?(I.p(C,A),A[0]&128&&$(I,1)):(I=Lh(C),I.c(),$(I,1),I.m(_.parentNode,_)):I&&(Ae(),L(I,1,1,()=>{I=null}),Ne());const K={};A[0]&8192|A[1]&4&&(K.$$scope={dirty:A,ctx:C}),w.$set(K);const G={};A[0]&8192|A[1]&4&&(G.$$scope={dirty:A,ctx:C}),k.$set(G)},i(C){E||($(y),$(t.$$.fragment,C),$(r.$$.fragment,C),$(i.$$.fragment,C),$(m.$$.fragment,C),$(I),$(w.$$.fragment,C),$(k.$$.fragment,C),E=!0)},o(C){L(y),L(t.$$.fragment,C),L(r.$$.fragment,C),L(i.$$.fragment,C),L(m.$$.fragment,C),L(I),L(w.$$.fragment,C),L(k.$$.fragment,C),E=!1},d(C){C&&(d(e),d(l),d(a),d(n),d(o),d(c),d(h),d(_),d(p)),y&&y.d(C),x(t,C),x(r,C),x(i,C),x(m,C),I&&I.d(C),x(w,C),x(k,C)}}}function wg(s){let e,t,l;return t=new X_({props:{class:"w-full max-w-[200px] rounded-2xl px-1 py-1  border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg transition",sideOffset:-2,side:"bottom",align:"start",transition:Pu,$$slots:{default:[bg]},$$scope:{ctx:s}}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{slot:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"slot","content")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},p(r,a){const n={};a[0]&29375|a[1]&4&&(n.$$scope={dirty:a,ctx:r}),t.$set(n)},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function kg(s){let e,t,l,r,a=s[10]&&s[11]&&Th(s);function n(i){s[31](i)}let o={$$slots:{content:[wg],default:[eg]},$$scope:{ctx:s}};return s[8]!==void 0&&(o.show=s[8]),t=new Q_({props:o}),ye.push(()=>Ie(t,"show",n)),t.$on("change",s[32]),{c(){a&&a.c(),e=S(),X(t.$$.fragment)},l(i){a&&a.l(i),e=T(i),ee(t.$$.fragment,i)},m(i,c){a&&a.m(i,c),P(i,e,c),Q(t,i,c),r=!0},p(i,c){i[10]&&i[11]?a?(a.p(i,c),c[0]&3072&&$(a,1)):(a=Th(i),a.c(),$(a,1),a.m(e.parentNode,e)):a&&(Ae(),L(a,1,1,()=>{a=null}),Ne());const m={};c[0]&29375|c[1]&4&&(m.$$scope={dirty:c,ctx:i}),!l&&c[0]&256&&(l=!0,m.show=i[8],De(()=>l=!1)),t.$set(m)},i(i){r||($(a),$(t.$$.fragment,i),r=!0)},o(i){L(a),L(t.$$.fragment,i),r=!1},d(i){i&&d(e),a&&a.d(i),x(t,i)}}}const yg=()=>{},Eg=()=>{},Ig=()=>{},Mh=(s,e)=>e.updated_at-s.updated_at;function Dg(s,e,t){let l,r,a,n;Ee(s,tl,fe=>t(34,l=fe)),Ee(s,Vl,fe=>t(12,r=fe)),Ee(s,Ou,fe=>t(14,n=fe));let{$$slots:o={},$$scope:i}=e;const{saveAs:c}=Do,m=ol(),h=Lt("i18n");Ee(s,h,fe=>t(13,a=fe));let{shareHandler:_}=e,{moveChatHandler:w}=e,{cloneChatHandler:p}=e,{archiveChatHandler:k}=e,{renameHandler:E}=e,{deleteHandler:y}=e,{onClose:I}=e,{chatId:D=""}=e,O=!1,V=!1,C=null,A=!1;const H=async()=>{await Cu(localStorage.token,D),m("change")},B=async()=>{t(9,V=await L_(localStorage.token,D))},W=async fe=>{const se=fe.chat.history;return o0(se,se.currentId).reduce((me,_e,pe,ve)=>`${me}### ${_e.role.toUpperCase()}
${_e.content}

`,"").trim()},U=async()=>{const fe=await vs(localStorage.token,D);if(!fe)return;const se=await W(fe);let re=new Blob([se],{type:"text/plain"});c(re,`chat-${fe.chat.title}.txt`)},K=async()=>{if(t(10,C=await vs(localStorage.token,D)),!C)return;const[{default:fe},{default:se}]=await Promise.all([Vu(()=>import("../chunks/h22AL3a0.js"),__vite__mapDeps([0,1,2]),import.meta.url),Vu(()=>import("../chunks/BNVeY_Dn.js"),[],import.meta.url)]);if((l==null?void 0:l.stylizedPdfExport)??!0){t(11,A=!0),await al();const re=document.getElementById("full-messages-container");if(re)try{const ne=document.documentElement.classList.contains("dark"),me=800,_e=re.cloneNode(!0);_e.classList.add("text-black"),_e.classList.add("dark:text-white"),_e.style.width=`${me}px`,_e.style.position="absolute",_e.style.left="-9999px",_e.style.height="auto",document.body.appendChild(_e),await new Promise(He=>setTimeout(He,100));const pe=await se(_e,{backgroundColor:ne?"#000":"#fff",useCORS:!0,scale:2,width:me});document.body.removeChild(_e);const ve=new fe("p","mm","a4"),ge=210,Ce=297,Le=pe.width/me,Oe=pe.width/ge,je=Math.floor(Oe*Ce);let Ge=0,et=0;for(;Ge<pe.height;){const He=Math.min(je,pe.height-Ge),Me=document.createElement("canvas");Me.width=pe.width,Me.height=He,Me.getContext("2d").drawImage(pe,0,Ge,pe.width,He,0,0,pe.width,He);const Re=Me.toDataURL("image/jpeg",.7),Se=He*ge/pe.width;et>0&&ve.addPage(),ne&&(ve.setFillColor(0,0,0),ve.rect(0,0,ge,Ce,"F")),ve.addImage(Re,"JPEG",0,0,ge,Se),Ge+=He,et++}ve.save(`chat-${C.chat.title}.pdf`),t(11,A=!1)}catch(ne){}}else{const re=await W(C),ne=new fe,me=15,_e=20,pe=15,ve=20,ge=ne.internal.pageSize.getWidth(),Ce=ne.internal.pageSize.getHeight(),Le=ge-me-pe,Oe=8;ne.setFontSize(Oe);const je=Oe*1,Ge=re.split(`
`);let et=_e;for(let He of Ge){const Me=ne.splitTextToSize(He,Le);for(let $e of Me)et+je>Ce-ve&&(ne.addPage(),et=_e),ne.text($e,me,et),et+=je*.5;et+=je*.1}ne.save(`chat-${C.chat.title}.pdf`)}},G=async()=>{const fe=await vs(localStorage.token,D);if(fe){let se=new Blob([JSON.stringify([fe])],{type:"application/json"});c(se,`chat-export-${Date.now()}.json`)}},M=()=>{_()},R=()=>{G()},N=()=>{U()},j=()=>{K()},te=()=>{E()},q=()=>{H()},Z=()=>{p()},le=fe=>{w(D,fe.id)},ce=()=>{k()},ae=()=>{y()};function ie(fe){O=fe,t(8,O)}const oe=fe=>{fe.detail===!1&&I()};return s.$$set=fe=>{"shareHandler"in fe&&t(0,_=fe.shareHandler),"moveChatHandler"in fe&&t(1,w=fe.moveChatHandler),"cloneChatHandler"in fe&&t(2,p=fe.cloneChatHandler),"archiveChatHandler"in fe&&t(3,k=fe.archiveChatHandler),"renameHandler"in fe&&t(4,E=fe.renameHandler),"deleteHandler"in fe&&t(5,y=fe.deleteHandler),"onClose"in fe&&t(6,I=fe.onClose),"chatId"in fe&&t(7,D=fe.chatId),"$$scope"in fe&&t(33,i=fe.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&256&&O&&B()},[_,w,p,k,E,y,I,D,O,V,C,A,r,a,n,h,H,U,K,G,o,M,R,N,j,te,q,Z,le,ce,ae,ie,oe,i]}class Cg extends mt{constructor(e){super(),_t(this,e,Dg,kg,pt,{shareHandler:0,moveChatHandler:1,cloneChatHandler:2,archiveChatHandler:3,renameHandler:4,deleteHandler:5,onClose:6,chatId:7},null,[-1,-1])}}function $g(s){let e,t,l;const r=s[4].default,a=ko(r,s,s[3],null);return{c(){e=g("div"),t=g("div"),a&&a.c(),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=b(e);t=v(o,"DIV",{class:!0,style:!0});var i=b(t);a&&a.l(i),i.forEach(d),o.forEach(d),this.h()},h(){f(t,"class","absolute text-white z-99999"),Mt(t,"top",s[1]+10+"px"),Mt(t,"left",s[0]+10+"px"),f(e,"class","fixed top-0 left-0 w-screen h-[100dvh] z-50 touch-none pointer-events-none")},m(n,o){P(n,e,o),u(e,t),a&&a.m(t,null),s[5](e),l=!0},p(n,[o]){a&&a.p&&(!l||o&8)&&yo(a,r,n,n[3],l?Io(r,n[3],o,null):Eo(n[3]),null),(!l||o&2)&&Mt(t,"top",n[1]+10+"px"),(!l||o&1)&&Mt(t,"left",n[0]+10+"px")},i(n){l||($(a,n),l=!0)},o(n){L(a,n),l=!1},d(n){n&&d(e),a&&a.d(n),s[5](null)}}}function Vg(s,e,t){let{$$slots:l={},$$scope:r}=e,{x:a}=e,{y:n}=e,o=null;Gt(()=>{document.body.appendChild(o),document.body.style.overflow="hidden"}),Na(()=>{document.body.removeChild(o),document.body.style.overflow="unset"});function i(c){ye[c?"unshift":"push"](()=>{o=c,t(2,o)})}return s.$$set=c=>{"x"in c&&t(0,a=c.x),"y"in c&&t(1,n=c.y),"$$scope"in c&&t(3,r=c.$$scope)},[a,n,o,r,l,i]}class C0 extends mt{constructor(e){super(),_t(this,e,Vg,$g,pt,{x:0,y:1})}}function Sg(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=b(e);t=rt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(l,r){P(l,e,r),u(e,t)},p(l,[r]){r&2&&f(e,"stroke-width",l[1]),r&1&&f(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&d(e)}}}function Tg(s,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Ag extends mt{constructor(e){super(),_t(this,e,Tg,Sg,pt,{className:0,strokeWidth:1})}}function Ng(s){let e,t=s[18].t("This will delete")+"",l,r,a,n,o;return{c(){e=g("div"),l=z(t),r=S(),a=g("span"),n=z(s[2]),o=z("."),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);l=F(c,t),r=T(c),a=v(c,"SPAN",{class:!0});var m=b(a);n=F(m,s[2]),m.forEach(d),o=F(c,"."),c.forEach(d),this.h()},h(){f(a,"class","font-semibold"),f(e,"class","text-sm text-gray-500 flex-1 line-clamp-3")},m(i,c){P(i,e,c),u(e,l),u(e,r),u(e,a),u(a,n),u(e,o)},p(i,c){c[0]&262144&&t!==(t=i[18].t("This will delete")+"")&&Y(l,t),c[0]&4&&Y(n,i[2])},d(i){i&&d(e)}}}function Bh(s){let e,t;return e=new C0({props:{x:s[15],y:s[16],$$slots:{default:[Lg]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&32768&&(a.x=l[15]),r[0]&65536&&(a.y=l[16]),r[0]&4|r[2]&8&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Lg(s){let e,t,l,r,a,n,o;return l=new Ag({props:{className:" size-[18px]",strokeWidth:"2"}}),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),n=z(s[2]),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);t=v(c,"DIV",{class:!0});var m=b(t);ee(l.$$.fragment,m),r=T(m),a=v(m,"DIV",{class:!0});var h=b(a);n=F(h,s[2]),h.forEach(d),m.forEach(d),c.forEach(d),this.h()},h(){f(a,"class","text-xs text-white line-clamp-1"),f(t,"class","flex items-center gap-1"),f(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(i,c){P(i,e,c),u(e,t),Q(l,t,null),u(t,r),u(t,a),u(a,n),o=!0},p(i,c){(!o||c[0]&4)&&Y(n,i[2])},i(i){o||($(l.$$.fragment,i),o=!0)},o(i){L(l.$$.fragment,i),o=!1},d(i){i&&d(e),x(l)}}}function Og(s){let e,t,l,r,a,n,o,i;return{c(){e=g("a"),t=g("div"),l=g("div"),r=z(s[2]),this.h()},l(c){e=v(c,"A",{id:!0,class:!0,href:!0,draggable:!0});var m=b(e);t=v(m,"DIV",{class:!0});var h=b(t);l=v(h,"DIV",{dir:!0,class:!0});var _=b(l);r=F(_,s[2]),_.forEach(d),h.forEach(d),m.forEach(d),this.h()},h(){f(l,"dir","auto"),f(l,"class","text-left self-center overflow-hidden w-full h-[20px] truncate"),f(t,"class","flex self-center flex-1 w-full"),f(e,"id","sidebar-chat-item"),f(e,"class",a="w-full flex justify-between rounded-xl px-[11px] py-[6px] "+(s[1]===s[19]||s[8]?"bg-gray-100 dark:bg-gray-900 selected":s[3]?"bg-gray-100 dark:bg-gray-950 selected":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),f(e,"href",n="/c/"+s[1]),f(e,"draggable","false")},m(c,m){P(c,e,m),u(e,t),u(t,l),u(l,r),o||(i=[he(e,"click",s[38]),he(e,"dblclick",s[39]),he(e,"mouseenter",s[40]),he(e,"mouseleave",s[41]),he(e,"focus",Wg)],o=!0)},p(c,m){m[0]&4&&Y(r,c[2]),m[0]&524554&&a!==(a="w-full flex justify-between rounded-xl px-[11px] py-[6px] "+(c[1]===c[19]||c[8]?"bg-gray-100 dark:bg-gray-900 selected":c[3]?"bg-gray-100 dark:bg-gray-950 selected":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&f(e,"class",a),m[0]&2&&n!==(n="/c/"+c[1])&&f(e,"href",n)},d(c){c&&d(e),o=!1,Ct(i)}}}function Mg(s){let e,t,l,r,a,n,o;return{c(){e=g("div"),t=g("input"),this.h()},l(i){e=v(i,"DIV",{id:!0,class:!0});var c=b(e);t=v(c,"INPUT",{id:!0,class:!0,placeholder:!0}),c.forEach(d),this.h()},h(){f(t,"id",l="chat-title-input-"+s[1]),f(t,"class","bg-transparent w-full outline-hidden mr-10"),f(t,"placeholder",r=s[11]?s[18].t("Generating..."):""),t.disabled=s[11],f(e,"id","sidebar-chat-item"),f(e,"class",a="w-full flex justify-between rounded-xl px-[11px] py-[6px] "+(s[1]===s[19]||s[8]?"bg-gray-100 dark:bg-gray-900 selected":s[3]?"bg-gray-100 dark:bg-gray-950 selected":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis relative "+(s[11]?"cursor-not-allowed":""))},m(i,c){P(i,e,c),u(e,t),Xe(t,s[9]),n||(o=[he(t,"input",s[36]),he(t,"keydown",s[29]),he(t,"blur",s[37])],n=!0)},p(i,c){c[0]&2&&l!==(l="chat-title-input-"+i[1])&&f(t,"id",l),c[0]&264192&&r!==(r=i[11]?i[18].t("Generating..."):"")&&f(t,"placeholder",r),c[0]&2048&&(t.disabled=i[11]),c[0]&512&&t.value!==i[9]&&Xe(t,i[9]),c[0]&526602&&a!==(a="w-full flex justify-between rounded-xl px-[11px] py-[6px] "+(i[1]===i[19]||i[8]?"bg-gray-100 dark:bg-gray-900 selected":i[3]?"bg-gray-100 dark:bg-gray-950 selected":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis relative "+(i[11]?"cursor-not-allowed":""))&&f(e,"class",a)},d(i){i&&d(e),n=!1,Ct(o)}}}function Bg(s){let e,t,l,r;t=new Cg({props:{chatId:s[1],cloneChatHandler:s[46],shareHandler:s[47],moveChatHandler:s[28],archiveChatHandler:s[48],renameHandler:s[30],deleteHandler:s[49],onClose:s[50],$$slots:{default:[jg]},$$scope:{ctx:s}}}),t.$on("change",s[51]),t.$on("tag",s[52]);let a=s[1]===s[19]&&Ph(s);return{c(){e=g("div"),X(t.$$.fragment),l=S(),a&&a.c(),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=b(e);ee(t.$$.fragment,o),l=T(o),a&&a.l(o),o.forEach(d),this.h()},h(){f(e,"class","flex self-center z-10 items-end")},m(n,o){P(n,e,o),Q(t,e,null),u(e,l),a&&a.m(e,null),r=!0},p(n,o){const i={};o[0]&2&&(i.chatId=n[1]),o[0]&2&&(i.cloneChatHandler=n[46]),o[0]&128&&(i.shareHandler=n[47]),o[0]&2&&(i.archiveChatHandler=n[48]),o[0]&131072&&(i.deleteHandler=n[49]),o[2]&8&&(i.$$scope={dirty:o,ctx:n}),t.$set(i),n[1]===n[19]?a?a.p(n,o):(a=Ph(n),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(n){r||($(t.$$.fragment,n),r=!0)},o(n){L(t.$$.fragment,n),r=!1},d(n){n&&d(e),x(t),a&&a.d()}}}function Pg(s){let e,t,l,r,a;return t=new Kt({props:{content:s[18].t("Archive"),className:"flex items-center",$$slots:{default:[Rg]},$$scope:{ctx:s}}}),r=new Kt({props:{content:s[18].t("Delete"),$$slots:{default:[Hg]},$$scope:{ctx:s}}}),{c(){e=g("div"),X(t.$$.fragment),l=S(),X(r.$$.fragment),this.h()},l(n){e=v(n,"DIV",{class:!0});var o=b(e);ee(t.$$.fragment,o),l=T(o),ee(r.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","flex items-center self-center space-x-1.5")},m(n,o){P(n,e,o),Q(t,e,null),u(e,l),Q(r,e,null),a=!0},p(n,o){const i={};o[0]&262144&&(i.content=n[18].t("Archive")),o[0]&2|o[2]&8&&(i.$$scope={dirty:o,ctx:n}),t.$set(i);const c={};o[0]&262144&&(c.content=n[18].t("Delete")),o[0]&2|o[2]&8&&(c.$$scope={dirty:o,ctx:n}),r.$set(c)},i(n){a||($(t.$$.fragment,n),$(r.$$.fragment,n),a=!0)},o(n){L(t.$$.fragment,n),L(r.$$.fragment,n),a=!1},d(n){n&&d(e),x(t),x(r)}}}function Ug(s){let e,t,l;return t=new Kt({props:{content:s[18].t("Generate"),$$slots:{default:[zg]},$$scope:{ctx:s}}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","flex self-center items-center space-x-1.5 z-10 translate-y-[0.5px] -translate-x-[0.5px]")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},p(r,a){const n={};a[0]&262144&&(n.content=r[18].t("Generate")),a[0]&6144|a[2]&8&&(n.$$scope={dirty:a,ctx:r}),t.$set(n)},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function jg(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;return{c(){e=g("button"),e.innerHTML=t,this.h()},l(a){e=v(a,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),jt(e)!=="svelte-1d8pkdr"&&(e.innerHTML=t),this.h()},h(){f(e,"aria-label","Chat Menu"),f(e,"class","self-center dark:hover:text-white transition m-0")},m(a,n){P(a,e,n),l||(r=he(e,"click",s[45]),l=!0)},p:Ze,d(a){a&&d(e),l=!1,r()}}}function Ph(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;return{c(){e=g("button"),e.innerHTML=t,this.h()},l(a){e=v(a,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),jt(e)!=="svelte-1gozylk"&&(e.innerHTML=t),this.h()},h(){f(e,"id","delete-chat-button"),f(e,"class","hidden")},m(a,n){P(a,e,n),l||(r=he(e,"click",s[53]),l=!0)},p:Ze,d(a){a&&d(e),l=!1,r()}}}function Rg(s){let e,t,l,r,a;return t=new u0({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0,type:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","self-center dark:hover:text-white transition"),f(e,"type","button")},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=he(e,"click",s[43]),r=!0)},p:Ze,i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,a()}}}function Hg(s){let e,t,l,r,a;return t=new _0({props:{strokeWidth:"2"}}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0,type:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","self-center dark:hover:text-white transition"),f(e,"type","button")},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=he(e,"click",s[44]),r=!0)},p:Ze,i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,a()}}}function zg(s){let e,t,l,r,a;return t=new sp({props:{strokeWidth:"2"}}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0,id:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","self-center dark:hover:text-white transition disabled:cursor-not-allowed"),f(e,"id","generate-title-button"),e.disabled=s[11]},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=he(e,"mouseenter",s[42]),r=!0)},p(n,o){(!l||o[0]&2048)&&(e.disabled=n[11])},i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,a()}}}function Fg(s){let e,t,l,r,a,n,o,i,c,m,h,_,w,p,k,E,y,I;function D(M){s[33](M)}let O={chatId:s[1]};s[7]!==void 0&&(O.show=s[7]),e=new z_({props:O}),ye.push(()=>Ie(e,"show",D));function V(M){s[34](M)}let C={title:s[18].t("Delete chat?"),$$slots:{default:[Ng]},$$scope:{ctx:s}};s[17]!==void 0&&(C.show=s[17]),r=new La({props:C}),ye.push(()=>Ie(r,"show",V)),r.$on("confirm",s[35]);let A=s[14]&&s[15]&&s[16]&&Bh(s);function H(M,R){return M[8]?Mg:Og}let B=H(s),W=B(s);const U=[Ug,Pg,Bg],K=[];function G(M,R){return M[8]?0:M[4]&&M[5]?1:2}return h=G(s),_=K[h]=U[h](s),{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment),n=S(),A&&A.c(),o=S(),i=g("div"),W.c(),c=S(),m=g("div"),_.c(),this.h()},l(M){ee(e.$$.fragment,M),l=T(M),ee(r.$$.fragment,M),n=T(M),A&&A.l(M),o=T(M),i=v(M,"DIV",{id:!0,class:!0,draggable:!0});var R=b(i);W.l(R),c=T(R),m=v(R,"DIV",{id:!0,class:!0});var N=b(m);_.l(N),N.forEach(d),R.forEach(d),this.h()},h(){f(m,"id","sidebar-chat-item-menu"),f(m,"class",w=(s[1]===s[19]||s[8]?"from-gray-100 dark:from-gray-900 selected":s[3]?"from-gray-100 dark:from-gray-950 selected":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(s[0]==="pr-2"?"right-[8px]":"right-1")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-linear-to-l from-80% to-transparent"),f(i,"id","sidebar-chat-group"),f(i,"class",p="w-full "+s[0]+" relative group"),f(i,"draggable",k=s[6]&&!s[8])},m(M,R){Q(e,M,R),P(M,l,R),Q(r,M,R),P(M,n,R),A&&A.m(M,R),P(M,o,R),P(M,i,R),W.m(i,null),u(i,c),u(i,m),K[h].m(m,null),s[56](i),E=!0,y||(I=[he(m,"mouseenter",s[54]),he(m,"mouseleave",s[55])],y=!0)},p(M,R){const N={};R[0]&2&&(N.chatId=M[1]),!t&&R[0]&128&&(t=!0,N.show=M[7],De(()=>t=!1)),e.$set(N);const j={};R[0]&262144&&(j.title=M[18].t("Delete chat?")),R[0]&262148|R[2]&8&&(j.$$scope={dirty:R,ctx:M}),!a&&R[0]&131072&&(a=!0,j.show=M[17],De(()=>a=!1)),r.$set(j),M[14]&&M[15]&&M[16]?A?(A.p(M,R),R[0]&114688&&$(A,1)):(A=Bh(M),A.c(),$(A,1),A.m(o.parentNode,o)):A&&(Ae(),L(A,1,1,()=>{A=null}),Ne()),B===(B=H(M))&&W?W.p(M,R):(W.d(1),W=B(M),W&&(W.c(),W.m(i,c)));let te=h;h=G(M),h===te?K[h].p(M,R):(Ae(),L(K[te],1,1,()=>{K[te]=null}),Ne(),_=K[h],_?_.p(M,R):(_=K[h]=U[h](M),_.c()),$(_,1),_.m(m,null)),(!E||R[0]&524555&&w!==(w=(M[1]===M[19]||M[8]?"from-gray-100 dark:from-gray-900 selected":M[3]?"from-gray-100 dark:from-gray-950 selected":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute "+(M[0]==="pr-2"?"right-[8px]":"right-1")+" top-[4px] py-1 pr-0.5 mr-1.5 pl-5 bg-linear-to-l from-80% to-transparent"))&&f(m,"class",w),(!E||R[0]&1&&p!==(p="w-full "+M[0]+" relative group"))&&f(i,"class",p),(!E||R[0]&320&&k!==(k=M[6]&&!M[8]))&&f(i,"draggable",k)},i(M){E||($(e.$$.fragment,M),$(r.$$.fragment,M),$(A),$(_),E=!0)},o(M){L(e.$$.fragment,M),L(r.$$.fragment,M),L(A),L(_),E=!1},d(M){M&&(d(l),d(n),d(o),d(i)),x(e,M),x(r,M),A&&A.d(M),W.d(),K[h].d(),s[56](null),y=!1,Ct(I)}}}const Wg=s=>{};function Kg(s,e,t){let l,r,a,n,o;Ee(s,Il,be=>t(59,r=be)),Ee(s,zi,be=>t(19,a=be)),Ee(s,gs,be=>t(20,n=be)),Ee(s,Sa,be=>t(21,o=be));const i=Lt("i18n");Ee(s,i,be=>t(18,l=be));const c=ol();let{className:m=""}=e,{id:h}=e,{title:_}=e,{selected:w=!1}=e,{shiftKey:p=!1}=e,{onDragEnd:k=()=>{}}=e,E=null,y=!1,I=!1;const D=async()=>{E||(t(6,I=!1),E=await vs(localStorage.token,h),t(6,I=!0))};let O=!1,V=!1,C=_;const A=async(be,Fe)=>{Fe===""?Ye.error(l.t("Title cannot be an empty string.")):(await O_(localStorage.token,be,{title:Fe}),be===a&&d_.set(Fe),Il.set(1),await rs.set(await $l(localStorage.token,r)),await Kr.set(await bo(localStorage.token)),c("change"))},H=async be=>{const Fe=await M_(localStorage.token,be,l.t("Clone of {{TITLE}}",{TITLE:_})).catch(Qe=>(Ye.error(`${Qe}`),null));Fe&&(nl(`/c/${Fe.id}`),Il.set(1),await rs.set(await $l(localStorage.token,r)),await Kr.set(await bo(localStorage.token)))},B=async be=>{await B_(localStorage.token,be).catch(Qe=>(Ye.error(`${Qe}`),null))&&(Fi.set(await Bu(localStorage.token)),a===be&&(await nl("/"),await zi.set(""),await al()),c("change"))},W=async be=>{await i0(localStorage.token,be),c("change")},U=async(be,Fe)=>{be&&Fe?await Gi(localStorage.token,be,Fe).catch(Ke=>(Ye.error(`${Ke}`),null))&&(Il.set(1),await rs.set(await $l(localStorage.token,r)),await Kr.set(await bo(localStorage.token)),c("change"),Ye.success(l.t("Chat moved successfully"))):Ye.error(l.t("Failed to move chat"))};let K,G=!1,M=!1,R=!1,N=!1,j=0,te=0;const q=new Image;q.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";const Z=be=>{be.stopPropagation(),be.dataTransfer.setDragImage(q,0,0),be.dataTransfer.setData("text/plain",JSON.stringify({type:"chat",id:h,item:E})),t(14,N=!0),t(10,K.style.opacity="0.5",K)},le=be=>{be.stopPropagation(),t(15,j=be.clientX),t(16,te=be.clientY)},ce=be=>{be.stopPropagation(),t(10,K.style.opacity="1",K),t(14,N=!1),k(be)},ae=be=>{V&&!be.target.closest(`#chat-title-input-${h}`)&&(t(8,V=!1),t(12,M=!1),t(9,C=""))};Gt(()=>{K&&(document.addEventListener("click",ae,!0),K.addEventListener("dragstart",Z),K.addEventListener("drag",le),K.addEventListener("dragend",ce))}),Na(()=>{K&&(document.removeEventListener("click",ae,!0),K.removeEventListener("dragstart",Z),K.removeEventListener("drag",le),K.removeEventListener("dragend",ce))});let ie=!1;const oe=be=>{be.key==="Enter"?(be.preventDefault(),setTimeout(()=>{const Fe=document.getElementById(`chat-title-input-${h}`);Fe&&Fe.blur()},0)):be.key==="Escape"&&(be.preventDefault(),t(8,V=!1),t(9,C=""))},fe=async()=>{t(9,C=_),t(8,V=!0),await al(),setTimeout(()=>{const be=document.getElementById(`chat-title-input-${h}`);be&&(be.focus(),be.select())},0)},se=async()=>{var Ke;t(11,G=!0),E||(E=await vs(localStorage.token,h));const be=(((Ke=E.chat)==null?void 0:Ke.messages)??[]).map(nt=>({role:nt.role,content:nt.content})),Fe=E.chat.models.at(0)??E.models.at(0)??"";t(9,C="");const Qe=await b_(localStorage.token,Fe,be).catch(nt=>(Ye.error(`${nt}`),null));Qe?(Qe!==_&&A(h,Qe),t(8,V=!1)):t(9,C=_),t(11,G=!1)};function re(be){O=be,t(7,O)}function ne(be){ie=be,t(17,ie)}const me=()=>{B(h)};function _e(){C=this.value,t(9,C)}const pe=async be=>{var Fe;if(M){t(12,M=!1),((Fe=be.relatedTarget)==null?void 0:Fe.id)==="generate-title-button"&&se();return}if(R){be.preventDefault(),be.stopPropagation(),await al(),setTimeout(()=>{const Qe=document.getElementById(`chat-title-input-${h}`);Qe&&Qe.focus()},0),t(13,R=!1);return}C!==_&&A(h,C),t(8,V=!1),t(9,C="")},ve=()=>{c("select"),n&&gs.set(null),o&&el.set(!1)},ge=async be=>{be.preventDefault(),be.stopPropagation(),t(13,R=!0),fe()},Ce=be=>{t(5,y=!0)},Le=be=>{t(5,y=!1)},Oe=()=>{t(12,M=!0)},je=()=>{W(h)},Ge=()=>{B(h)},et=()=>{c("select")},He=()=>{H(h)},Me=()=>{t(7,O=!0)},$e=()=>{W(h)},Re=()=>{t(17,ie=!0)},Se=()=>{c("unselect")},ze=async()=>{c("change")},gt=be=>{c("tag",be.detail)},ft=()=>{t(17,ie=!0)},de=be=>{t(5,y=!0)},tt=be=>{t(5,y=!1)};function ut(be){ye[be?"unshift":"push"](()=>{K=be,t(10,K)})}return s.$$set=be=>{"className"in be&&t(0,m=be.className),"id"in be&&t(1,h=be.id),"title"in be&&t(2,_=be.title),"selected"in be&&t(3,w=be.selected),"shiftKey"in be&&t(4,p=be.shiftKey),"onDragEnd"in be&&t(32,k=be.onDragEnd)},s.$$.update=()=>{s.$$.dirty[0]&32&&y&&D()},[m,h,_,w,p,y,I,O,V,C,K,G,M,R,N,j,te,ie,l,a,n,o,i,c,A,H,B,W,U,oe,fe,se,k,re,ne,me,_e,pe,ve,ge,Ce,Le,Oe,je,Ge,et,He,Me,$e,Re,Se,ze,gt,ft,de,tt,ut]}class Fu extends mt{constructor(e){super(),_t(this,e,Kg,Fg,pt,{className:0,id:1,title:2,selected:3,shiftKey:4,onDragEnd:32},null,[-1,-1,-1])}}function Uh(s){let e;return{c(){e=g("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),b(e).forEach(d),this.h()},h(){f(e,"class","absolute top-0 left-0 w-full h-full rounded-xs bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){P(t,e,l)},d(t){t&&d(e)}}}function Gg(s){let e;const t=s[13].default,l=ko(t,s,s[18],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,a){l&&l.m(r,a),e=!0},p(r,a){l&&l.p&&(!e||a&262144)&&yo(l,t,r,r[18],e?Io(t,r[18],a,null):Eo(r[18]),null)},i(r){e||($(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function Yg(s){let e,t,l;function r(n){s[16](n)}let a={className:"w-full ",buttonClassName:"w-full",onChange:s[15],$$slots:{content:[Qg],default:[Xg]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.open=s[0]),e=new b0({props:a}),ye.push(()=>Ie(e,"open",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,o){const i={};o&262387&&(i.$$scope={dirty:o,ctx:n}),!t&&o&1&&(t=!0,i.open=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function jh(s){let e,t,l,r;const a=[Zg,qg],n=[];function o(i,c){return i[0]?0:1}return t=o(s),l=n[t]=a[t](s),{c(){e=g("div"),l.c(),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);l.l(c),c.forEach(d),this.h()},h(){f(e,"class","p-[1px]")},m(i,c){P(i,e,c),n[t].m(e,null),r=!0},p(i,c){let m=t;t=o(i),t!==m&&(Ae(),L(n[m],1,1,()=>{n[m]=null}),Ne(),l=n[t],l||(l=n[t]=a[t](i),l.c()),$(l,1),l.m(e,null))},i(i){r||($(l),r=!0)},o(i){L(l),r=!1},d(i){i&&d(e),n[t].d()}}}function qg(s){let e,t;return e=new ju({props:{className:" size-3",strokeWidth:"2"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Zg(s){let e,t;return e=new Uu({props:{className:" size-3",strokeWidth:"2"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Rh(s){let e,t,l,r,a;return t=new Kt({props:{content:s[6],$$slots:{default:[Jg]},$$scope:{ctx:s}}}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300")},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=[he(e,"pointerup",tv),he(e,"click",s[14])],r=!0)},p(n,o){const i={};o&64&&(i.content=n[6]),o&262144&&(i.$$scope={dirty:o,ctx:n}),t.$set(i)},i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,Ct(a)}}}function Jg(s){let e,t,l,r,a;return t=new $o({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto")},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=he(e,"click",ev),r=!0)},p:Ze,i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,a()}}}function Xg(s){let e,t,l,r,a,n,o,i,c,m=s[5]&&jh(s),h=s[7]&&Rh(s);return{c(){e=g("div"),t=g("button"),m&&m.c(),l=S(),r=g("div"),a=z(s[1]),o=S(),h&&h.c(),this.h()},l(_){e=v(_,"DIV",{id:!0,class:!0});var w=b(e);t=v(w,"BUTTON",{class:!0});var p=b(t);m&&m.l(p),l=T(p),r=v(p,"DIV",{class:!0});var k=b(r);a=F(k,s[1]),k.forEach(d),p.forEach(d),o=T(w),h&&h.l(w),w.forEach(d),this.h()},h(){f(r,"class",n="translate-y-[0.5px] "+(s[5]?"":"pl-0.5")),f(t,"class","w-full py-1.5 pl-2 flex items-center gap-1.5 text-xs font-medium"),f(e,"id","sidebar-folder-button"),f(e,"class",i="w-full group rounded-xl relative flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900 transition "+s[4])},m(_,w){P(_,e,w),u(e,t),m&&m.m(t,null),u(t,l),u(t,r),u(r,a),u(e,o),h&&h.m(e,null),c=!0},p(_,w){_[5]?m?(m.p(_,w),w&32&&$(m,1)):(m=jh(_),m.c(),$(m,1),m.m(t,l)):m&&(Ae(),L(m,1,1,()=>{m=null}),Ne()),(!c||w&2)&&Y(a,_[1]),(!c||w&32&&n!==(n="translate-y-[0.5px] "+(_[5]?"":"pl-0.5")))&&f(r,"class",n),_[7]?h?(h.p(_,w),w&128&&$(h,1)):(h=Rh(_),h.c(),$(h,1),h.m(e,null)):h&&(Ae(),L(h,1,1,()=>{h=null}),Ne()),(!c||w&16&&i!==(i="w-full group rounded-xl relative flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900 transition "+_[4]))&&f(e,"class",i)},i(_){c||($(m),$(h),c=!0)},o(_){L(m),L(h),c=!1},d(_){_&&d(e),m&&m.d(),h&&h.d()}}}function Qg(s){let e,t;const l=s[13].default,r=ko(l,s,s[18],null);return{c(){e=g("div"),r&&r.c(),this.h()},l(a){e=v(a,"DIV",{slot:!0,class:!0});var n=b(e);r&&r.l(n),n.forEach(d),this.h()},h(){f(e,"slot","content"),f(e,"class","w-full")},m(a,n){P(a,e,n),r&&r.m(e,null),t=!0},p(a,n){r&&r.p&&(!t||n&262144)&&yo(r,l,a,a[18],t?Io(l,a[18],n,null):Eo(a[18]),null)},i(a){t||($(r,a),t=!0)},o(a){L(r,a),t=!1},d(a){a&&d(e),r&&r.d(a)}}}function xg(s){let e,t,l,r,a,n,o=s[9]&&Uh();const i=[Yg,Gg],c=[];function m(h,_){return h[2]?0:1}return l=m(s),r=c[l]=i[l](s),{c(){e=g("div"),o&&o.c(),t=S(),r.c(),this.h()},l(h){e=v(h,"DIV",{class:!0});var _=b(e);o&&o.l(_),t=T(_),r.l(_),_.forEach(d),this.h()},h(){f(e,"class",a="relative "+s[3])},m(h,_){P(h,e,_),o&&o.m(e,null),u(e,t),c[l].m(e,null),s[17](e),n=!0},p(h,[_]){h[9]?o||(o=Uh(),o.c(),o.m(e,t)):o&&(o.d(1),o=null);let w=l;l=m(h),l===w?c[l].p(h,_):(Ae(),L(c[w],1,1,()=>{c[w]=null}),Ne(),r=c[l],r?r.p(h,_):(r=c[l]=i[l](h),r.c()),$(r,1),r.m(e,null)),(!n||_&8&&a!==(a="relative "+h[3]))&&f(e,"class",a)},i(h){n||($(r),n=!0)},o(h){L(r),n=!1},d(h){h&&d(e),o&&o.d(),c[l].d(),s[17](null)}}}const ev=s=>{},tv=s=>{s.stopPropagation()};function lv(s,e,t){let{$$slots:l={},$$scope:r}=e;Lt("i18n");const a=ol();let{open:n=!0}=e,{id:o=""}=e,{name:i=""}=e,{collapsible:c=!0}=e,{className:m=""}=e,{buttonClassName:h="text-gray-600 dark:text-gray-400"}=e,{chevron:_=!0}=e,{onAddLabel:w=""}=e,{onAdd:p=null}=e,{dragAndDrop:k=!0}=e,E,y=!1;const I=B=>{B.preventDefault(),B.stopPropagation(),t(9,y=!0)},D=B=>{if(B.preventDefault(),B.stopPropagation(),E.contains(B.target)){if(B.dataTransfer.items&&B.dataTransfer.items.length>0)for(const W of Array.from(B.dataTransfer.items))if(W.kind==="file"){const U=W.getAsFile();if(U&&U.type==="application/json"){const K=new FileReader;K.onload=async function(G){try{const M=JSON.parse(G.target.result);t(0,n=!0),a("import",M)}catch(M){}},K.readAsText(U)}}else{t(0,n=!0);try{const U=B.dataTransfer.getData("text/plain");if(U){const K=JSON.parse(U);a("drop",K)}}catch{}finally{t(9,y=!1)}}t(9,y=!1)}},O=B=>{B.preventDefault(),B.stopPropagation(),t(9,y=!1)};Gt(()=>{k&&(E.addEventListener("dragover",I),E.addEventListener("drop",D),E.addEventListener("dragleave",O))}),Na(()=>{k&&(E.removeEventListener("dragover",I),E.removeEventListener("drop",D),E.removeEventListener("dragleave",O))});const V=B=>{B.stopPropagation(),p()},C=B=>{a("change",B)};function A(B){n=B,t(0,n)}function H(B){ye[B?"unshift":"push"](()=>{E=B,t(8,E)})}return s.$$set=B=>{"open"in B&&t(0,n=B.open),"id"in B&&t(11,o=B.id),"name"in B&&t(1,i=B.name),"collapsible"in B&&t(2,c=B.collapsible),"className"in B&&t(3,m=B.className),"buttonClassName"in B&&t(4,h=B.buttonClassName),"chevron"in B&&t(5,_=B.chevron),"onAddLabel"in B&&t(6,w=B.onAddLabel),"onAdd"in B&&t(7,p=B.onAdd),"dragAndDrop"in B&&t(12,k=B.dragAndDrop),"$$scope"in B&&t(18,r=B.$$scope)},[n,i,c,m,h,_,w,p,E,y,a,o,k,l,V,C,A,H,r]}class Zi extends mt{constructor(e){super(),_t(this,e,lv,xg,pt,{open:0,id:11,name:1,collapsible:2,className:3,buttonClassName:4,chevron:5,onAddLabel:6,onAdd:7,dragAndDrop:12})}}function Hh(s,e,t){const l=s.slice();return l[62]=e[t],l}function zh(s,e,t){const l=s.slice();return l[66]=e[t],l}function Iu(s){var l;const e=s.slice(),t=(l=e[2][e[3]])==null?void 0:l.childrenIds.map(r=>e[2][r]).sort((r,a)=>r.name.localeCompare(a.name,void 0,{numeric:!0,sensitivity:"base"}));return e[65]=t,e}function sv(s){let e,t,l=Ta.sanitize(s[20].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:s[2][s[3]].name}))+"";return{c(){e=g("div"),t=new Au(!1),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);t=Nu(a,!1),a.forEach(d),this.h()},h(){t.a=null,f(e,"class","text-sm text-gray-700 dark:text-gray-300 flex-1 line-clamp-3")},m(r,a){P(r,e,a),t.m(l,e)},p(r,a){a[0]&1048588&&l!==(l=Ta.sanitize(r[20].t("This will delete <strong>{{NAME}}</strong> and <strong>all its contents</strong>.",{NAME:r[2][r[3]].name}))+"")&&t.p(l)},d(r){r&&d(e)}}}function Fh(s){let e,t;return e=new C0({props:{x:s[15],y:s[16],$$slots:{default:[rv]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&32768&&(a.x=l[15]),r[0]&65536&&(a.y=l[16]),r[0]&12|r[2]&128&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function rv(s){let e,t,l,r,a,n=s[2][s[3]].name+"",o,i;return l=new rp({props:{className:"size-3.5",strokeWidth:"2"}}),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),this.h()},l(c){e=v(c,"DIV",{class:!0});var m=b(e);t=v(m,"DIV",{class:!0});var h=b(t);ee(l.$$.fragment,h),r=T(h),a=v(h,"DIV",{class:!0});var _=b(a);o=F(_,n),_.forEach(d),h.forEach(d),m.forEach(d),this.h()},h(){f(a,"class","text-xs text-white line-clamp-1"),f(t,"class","flex items-center gap-1"),f(e,"class","bg-black/80 backdrop-blur-2xl px-2 py-1 rounded-lg w-fit max-w-40")},m(c,m){P(c,e,m),u(e,t),Q(l,t,null),u(t,r),u(t,a),u(a,o),i=!0},p(c,m){(!i||m[0]&12)&&n!==(n=c[2][c[3]].name+"")&&Y(o,n)},i(c){i||($(l.$$.fragment,c),i=!0)},o(c){L(l.$$.fragment,c),i=!1},d(c){c&&d(e),x(l)}}}function Wh(s){let e;return{c(){e=g("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),b(e).forEach(d),this.h()},h(){f(e,"class","absolute top-0 left-0 w-full h-full rounded-xs bg-gray-100/50 dark:bg-gray-700/20 bg-opacity-50 dark:bg-opacity-10 z-50 pointer-events-none touch-none")},m(t,l){P(t,e,l)},d(t){t&&d(e)}}}function av(s){let e,t,l,r;const a=[iv,ov],n=[];function o(i,c){return i[0]?0:1}return t=o(s),l=n[t]=a[t](s),{c(){e=g("div"),l.c(),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);l.l(c),c.forEach(d),this.h()},h(){f(e,"class","p-[1px]")},m(i,c){P(i,e,c),n[t].m(e,null),r=!0},p(i,c){let m=t;t=o(i),t!==m&&(Ae(),L(n[m],1,1,()=>{n[m]=null}),Ne(),l=n[t],l||(l=n[t]=a[t](i),l.c()),$(l,1),l.m(e,null))},i(i){r||($(l),r=!0)},o(i){L(l),r=!1},d(i){i&&d(e),n[t].d()}}}function nv(s){let e,t,l,r,a,n,o;t=new np({props:{className:"size-3.5",shortCode:s[2][s[3]].meta.icon}});const i=[uv,fv],c=[];function m(h,_){return h[0]?0:1}return a=m(s),n=c[a]=i[a](s),{c(){e=g("div"),X(t.$$.fragment),l=S(),r=g("div"),n.c(),this.h()},l(h){e=v(h,"DIV",{class:!0});var _=b(e);ee(t.$$.fragment,_),_.forEach(d),l=T(h),r=v(h,"DIV",{class:!0});var w=b(r);n.l(w),w.forEach(d),this.h()},h(){f(e,"class","flex group-hover:hidden transition-all"),f(r,"class","hidden group-hover:flex transition-all p-[1px]")},m(h,_){P(h,e,_),Q(t,e,null),P(h,l,_),P(h,r,_),c[a].m(r,null),o=!0},p(h,_){const w={};_[0]&12&&(w.shortCode=h[2][h[3]].meta.icon),t.$set(w);let p=a;a=m(h),a!==p&&(Ae(),L(c[p],1,1,()=>{c[p]=null}),Ne(),n=c[a],n||(n=c[a]=i[a](h),n.c()),$(n,1),n.m(r,null))},i(h){o||($(t.$$.fragment,h),$(n),o=!0)},o(h){L(t.$$.fragment,h),L(n),o=!1},d(h){h&&(d(e),d(l),d(r)),x(t),c[a].d()}}}function ov(s){let e,t;return e=new ju({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function iv(s){let e,t;return e=new Uu({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function fv(s){let e,t;return e=new ju({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function uv(s){let e,t;return e=new Uu({props:{className:" size-3",strokeWidth:"2.5"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function cv(s){let e=s[2][s[3]].name+"",t;return{c(){t=z(e)},l(l){t=F(l,e)},m(l,r){P(l,t,r)},p(l,r){r[0]&12&&e!==(e=l[2][l[3]].name+"")&&Y(t,e)},d(l){l&&d(t)}}}function dv(s){let e,t,l,r;return{c(){e=g("input"),this.h()},l(a){e=v(a,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){f(e,"id",t="folder-"+s[3]+"-input"),f(e,"type","text"),f(e,"class","w-full h-full bg-transparent outline-hidden")},m(a,n){P(a,e,n),Xe(e,s[14]),l||(r=[he(e,"input",s[41]),he(e,"blur",s[42]),he(e,"click",gv),he(e,"mousedown",vv),he(e,"keydown",s[43])],l=!0)},p(a,n){n[0]&8&&t!==(t="folder-"+a[3]+"-input")&&f(e,"id",t),n[0]&16384&&e.value!==a[14]&&Xe(e,a[14])},d(a){a&&d(e),l=!1,Ct(r)}}}function hv(s){let e,t,l;return t=new ap({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","p-1 dark:hover:bg-gray-850 rounded-lg touch-auto")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},p:Ze,i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function mv(s){let e,t,l,r,a,n,o,i,c,m,h,_,w,p,k;const E=[nv,av],y=[];function I(C,A){var H,B;return(B=(H=C[2][C[3]])==null?void 0:H.meta)!=null&&B.icon?0:1}r=I(s),a=y[r]=E[r](s);function D(C,A){return C[10]?dv:cv}let O=D(s),V=O(s);return m=new F_({props:{onEdit:s[44],onDelete:s[45],onExport:s[46],$$slots:{default:[hv]},$$scope:{ctx:s}}}),{c(){e=g("div"),t=g("button"),l=g("button"),a.c(),n=S(),o=g("div"),V.c(),i=S(),c=g("button"),X(m.$$.fragment),this.h()},l(C){e=v(C,"DIV",{class:!0});var A=b(e);t=v(A,"BUTTON",{id:!0,class:!0});var H=b(t);l=v(H,"BUTTON",{class:!0});var B=b(l);a.l(B),B.forEach(d),n=T(H),o=v(H,"DIV",{class:!0});var W=b(o);V.l(W),W.forEach(d),i=T(H),c=v(H,"BUTTON",{class:!0});var U=b(c);ee(m.$$.fragment,U),U.forEach(d),H.forEach(d),A.forEach(d),this.h()},h(){var C;f(l,"class","text-gray-500 dark:text-gray-500 transition-all p-1 hover:bg-gray-200 dark:hover:bg-gray-850 rounded-lg"),f(o,"class","translate-y-[0.5px] flex-1 justify-start text-start line-clamp-1"),f(c,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300"),f(t,"id",h="folder-"+s[3]+"-button"),f(t,"class",_="relative w-full py-1 px-1.5 rounded-xl flex items-center gap-1.5 hover:bg-gray-100 dark:hover:bg-gray-900 transition "+(((C=s[19])==null?void 0:C.id)===s[3]?"bg-gray-100 dark:bg-gray-900 selected":"")),f(e,"class","w-full group")},m(C,A){P(C,e,A),u(e,t),u(t,l),y[r].m(l,null),u(t,n),u(t,o),V.m(o,null),u(t,i),u(t,c),Q(m,c,null),w=!0,p||(k=[he(l,"click",s[40]),he(t,"dblclick",s[47]),he(t,"click",s[48]),he(t,"pointerup",bv)],p=!0)},p(C,A){var W;let H=r;r=I(C),r===H?y[r].p(C,A):(Ae(),L(y[H],1,1,()=>{y[H]=null}),Ne(),a=y[r],a?a.p(C,A):(a=y[r]=E[r](C),a.c()),$(a,1),a.m(l,null)),O===(O=D(C))&&V?V.p(C,A):(V.d(1),V=O(C),V&&(V.c(),V.m(o,null)));const B={};A[0]&512&&(B.onEdit=C[44]),A[0]&131072&&(B.onDelete=C[45]),A[2]&128&&(B.$$scope={dirty:A,ctx:C}),m.$set(B),(!w||A[0]&8&&h!==(h="folder-"+C[3]+"-button"))&&f(t,"id",h),(!w||A[0]&524296&&_!==(_="relative w-full py-1 px-1.5 rounded-xl flex items-center gap-1.5 hover:bg-gray-100 dark:hover:bg-gray-900 transition "+(((W=C[19])==null?void 0:W.id)===C[3]?"bg-gray-100 dark:bg-gray-900 selected":"")))&&f(t,"class",_)},i(C){w||($(a),$(m.$$.fragment,C),w=!0)},o(C){L(a),L(m.$$.fragment,C),w=!1},d(C){C&&d(e),y[r].d(),V.d(),x(m),p=!1,Ct(k)}}}function Kh(s){var c;let e,t,l=[],r=new Map,a,n=((c=s[2][s[3]])==null?void 0:c.childrenIds)&&Gh(Iu(s)),o=ht(s[18]??[]);const i=m=>m[62].id;for(let m=0;m<o.length;m+=1){let h=Hh(s,o,m),_=i(h);r.set(_,l[m]=qh(_,h))}return{c(){e=g("div"),n&&n.c(),t=S();for(let m=0;m<l.length;m+=1)l[m].c();this.h()},l(m){e=v(m,"DIV",{class:!0});var h=b(e);n&&n.l(h),t=T(h);for(let _=0;_<l.length;_+=1)l[_].l(h);h.forEach(d),this.h()},h(){f(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900")},m(m,h){P(m,e,h),n&&n.m(e,null),u(e,t);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);a=!0},p(m,h){var _;(_=m[2][m[3]])!=null&&_.childrenIds?n?(n.p(Iu(m),h),h[0]&12&&$(n,1)):(n=Gh(Iu(m)),n.c(),$(n,1),n.m(e,t)):n&&(Ae(),L(n,1,1,()=>{n=null}),Ne()),h[0]&17039376&&(o=ht(m[18]??[]),Ae(),l=ks(l,h,i,1,m,o,r,e,xs,qh,null,Hh),Ne())},i(m){if(!a){$(n);for(let h=0;h<o.length;h+=1)$(l[h]);a=!0}},o(m){L(n);for(let h=0;h<l.length;h+=1)L(l[h]);a=!1},d(m){m&&d(e),n&&n.d();for(let h=0;h<l.length;h+=1)l[h].d()}}}function Gh(s){let e=[],t=new Map,l,r,a=ht(s[65]);const n=o=>`${o[3]}-${o[66].id}`;for(let o=0;o<a.length;o+=1){let i=zh(s,a,o),c=n(i);t.set(c,e[o]=Yh(c,i))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=at()},l(o){for(let i=0;i<e.length;i+=1)e[i].l(o);l=at()},m(o,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,i);P(o,l,i),r=!0},p(o,i){i[0]&16781534&&(a=ht(o[65]),Ae(),e=ks(e,i,n,1,o,a,t,l.parentNode,xs,Yh,l,zh),Ne())},i(o){if(!r){for(let i=0;i<a.length;i+=1)$(e[i]);r=!0}},o(o){for(let i=0;i<e.length;i+=1)L(e[i]);r=!1},d(o){o&&d(l);for(let i=0;i<e.length;i+=1)e[i].d(o)}}}function Yh(s,e){let t,l,r,a;function n(i){e[35](i)}let o={folders:e[2],folderId:e[66].id,shiftKey:e[4],parentDragged:e[12],onItemMove:e[7],onDelete:e[6]};return e[1]!==void 0&&(o.folderRegistry=e[1]),l=new $0({props:o}),ye.push(()=>Ie(l,"folderRegistry",n)),l.$on("import",e[36]),l.$on("update",e[37]),l.$on("change",e[38]),{key:s,first:null,c(){t=at(),X(l.$$.fragment),this.h()},l(i){t=at(),ee(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,c){P(i,t,c),Q(l,i,c),a=!0},p(i,c){e=i;const m={};c[0]&4&&(m.folders=e[2]),c[0]&12&&(m.folderId=e[66].id),c[0]&16&&(m.shiftKey=e[4]),c[0]&4096&&(m.parentDragged=e[12]),c[0]&128&&(m.onItemMove=e[7]),c[0]&64&&(m.onDelete=e[6]),!r&&c[0]&2&&(r=!0,m.folderRegistry=e[1],De(()=>r=!1)),l.$set(m)},i(i){a||($(l.$$.fragment,i),a=!0)},o(i){L(l.$$.fragment,i),a=!1},d(i){i&&d(t),x(l,i)}}}function qh(s,e){let t,l,r;return l=new Fu({props:{id:e[62].id,title:e[62].title,shiftKey:e[4]}}),l.$on("change",e[39]),{key:s,first:null,c(){t=at(),X(l.$$.fragment),this.h()},l(a){t=at(),ee(l.$$.fragment,a),this.h()},h(){this.first=t},m(a,n){P(a,t,n),Q(l,a,n),r=!0},p(a,n){e=a;const o={};n[0]&262144&&(o.id=e[62].id),n[0]&262144&&(o.title=e[62].title),n[0]&16&&(o.shiftKey=e[4]),l.$set(o)},i(a){r||($(l.$$.fragment,a),r=!0)},o(a){L(l.$$.fragment,a),r=!1},d(a){a&&d(t),x(l,a)}}}function Zh(s){let e,t,l;return t=new pl({props:{className:"size-4 text-gray-500"}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","flex justify-center items-center p-2")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function _v(s){var n;let e,t,l,r=((((n=s[2][s[3]])==null?void 0:n.childrenIds)??[]).length>0||(s[18]??[]).length>0)&&Kh(s),a=s[18]===null&&Zh();return{c(){e=g("div"),r&&r.c(),t=S(),a&&a.c(),this.h()},l(o){e=v(o,"DIV",{slot:!0,class:!0});var i=b(e);r&&r.l(i),t=T(i),a&&a.l(i),i.forEach(d),this.h()},h(){f(e,"slot","content"),f(e,"class","w-full")},m(o,i){P(o,e,i),r&&r.m(e,null),u(e,t),a&&a.m(e,null),l=!0},p(o,i){var c;(((c=o[2][o[3]])==null?void 0:c.childrenIds)??[]).length>0||(o[18]??[]).length>0?r?(r.p(o,i),i[0]&262156&&$(r,1)):(r=Kh(o),r.c(),$(r,1),r.m(e,t)):r&&(Ae(),L(r,1,1,()=>{r=null}),Ne()),o[18]===null?a?i[0]&262144&&$(a,1):(a=Zh(),a.c(),$(a,1),a.m(e,null)):a&&(Ae(),L(a,1,1,()=>{a=null}),Ne())},i(o){l||($(r),$(a),l=!0)},o(o){L(r),L(a),l=!1},d(o){o&&d(e),r&&r.d(),a&&a.d()}}}function pv(s){let e,t,l,r,a,n,o,i,c,m,h,_,w;function p(C){s[32](C)}let k={title:s[20].t("Delete folder?"),$$slots:{default:[sv]},$$scope:{ctx:s}};s[17]!==void 0&&(k.show=s[17]),e=new La({props:k}),ye.push(()=>Ie(e,"show",p)),e.$on("confirm",s[33]);function E(C){s[34](C)}let y={edit:!0,folderId:s[3],onSubmit:s[26]};s[9]!==void 0&&(y.show=s[9]),r=new f0({props:y}),ye.push(()=>Ie(r,"show",E));let I=s[12]&&s[15]&&s[16]&&Fh(s),D=s[11]&&Wh();function O(C){s[50](C)}let V={className:"w-full",buttonClassName:"w-full",onChange:s[49],$$slots:{content:[_v],default:[mv]},$$scope:{ctx:s}};return s[0]!==void 0&&(V.open=s[0]),m=new b0({props:V}),ye.push(()=>Ie(m,"open",O)),{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment),n=S(),I&&I.c(),o=S(),i=g("div"),D&&D.c(),c=S(),X(m.$$.fragment),this.h()},l(C){ee(e.$$.fragment,C),l=T(C),ee(r.$$.fragment,C),n=T(C),I&&I.l(C),o=T(C),i=v(C,"DIV",{class:!0,draggable:!0});var A=b(i);D&&D.l(A),c=T(A),ee(m.$$.fragment,A),A.forEach(d),this.h()},h(){f(i,"class",_="relative "+s[5]),f(i,"draggable","true")},m(C,A){Q(e,C,A),P(C,l,A),Q(r,C,A),P(C,n,A),I&&I.m(C,A),P(C,o,A),P(C,i,A),D&&D.m(i,null),u(i,c),Q(m,i,null),s[51](i),w=!0},p(C,A){const H={};A[0]&1048576&&(H.title=C[20].t("Delete folder?")),A[0]&1048588|A[2]&128&&(H.$$scope={dirty:A,ctx:C}),!t&&A[0]&131072&&(t=!0,H.show=C[17],De(()=>t=!1)),e.$set(H);const B={};A[0]&8&&(B.folderId=C[3]),!a&&A[0]&512&&(a=!0,B.show=C[9],De(()=>a=!1)),r.$set(B),C[12]&&C[15]&&C[16]?I?(I.p(C,A),A[0]&102400&&$(I,1)):(I=Fh(C),I.c(),$(I,1),I.m(o.parentNode,o)):I&&(Ae(),L(I,1,1,()=>{I=null}),Ne()),C[11]?D||(D=Wh(),D.c(),D.m(i,c)):D&&(D.d(1),D=null);const W={};A[0]&7239391|A[2]&128&&(W.$$scope={dirty:A,ctx:C}),!h&&A[0]&1&&(h=!0,W.open=C[0],De(()=>h=!1)),m.$set(W),(!w||A[0]&32&&_!==(_="relative "+C[5]))&&f(i,"class",_)},i(C){w||($(e.$$.fragment,C),$(r.$$.fragment,C),$(I),$(m.$$.fragment,C),w=!0)},o(C){L(e.$$.fragment,C),L(r.$$.fragment,C),L(I),L(m.$$.fragment,C),w=!1},d(C){C&&(d(l),d(n),d(o),d(i)),x(e,C),x(r,C),I&&I.d(C),D&&D.d(),x(m),s[51](null)}}}const gv=s=>{s.stopPropagation()},vv=s=>{s.stopPropagation()},bv=s=>{s.stopPropagation()};function wv(s,e,t){let l,r,a,n;Ee(s,gs,de=>t(19,l=de)),Ee(s,Sa,de=>t(21,a=de)),Ee(s,el,de=>t(22,n=de));const o=Lt("i18n");Ee(s,o,de=>t(20,r=de));const i=ol(),{saveAs:c}=Do;let{folderRegistry:m={}}=e,{open:h=!1}=e,{folders:_}=e,{folderId:w}=e,{shiftKey:p=!1}=e,{className:k=""}=e,{parentDragged:E=!1}=e,{onDelete:y=de=>{}}=e,{onItemMove:I=de=>{}}=e,D,O=!1,V=!1,C=!1,A=!1,H=null,B="";const W=de=>{de.preventDefault(),de.stopPropagation(),!(A||E)&&t(11,C=!0)},U=async de=>{if(de.preventDefault(),de.stopPropagation(),!(A||E)&&D.contains(de.target)){if(de.dataTransfer.items&&de.dataTransfer.items.length>0)for(const tt of Array.from(de.dataTransfer.items))if(tt.kind==="file"){const ut=tt.getAsFile();if(ut&&ut.type==="application/json"){const be=new FileReader;be.onload=async function(Fe){try{const Qe=JSON.parse(Fe.target.result);t(0,h=!0),i("import",{folderId:w,items:Qe})}catch(Qe){}},be.readAsText(ut)}}else{const ut=de.dataTransfer.getData("text/plain");try{const be=JSON.parse(ut),{type:Fe,id:Qe,item:Ke}=be;if(Fe==="folder"){if(t(0,h=!0),Qe===w)return;await $u(localStorage.token,Qe,w).catch(Rt=>(Ye.error(`${Rt}`),null))&&i("update")}else if(Fe==="chat"){t(0,h=!0);let nt=await vs(localStorage.token,Qe).catch(At=>null);!nt&&Ke&&(nt=await $a(localStorage.token,Ke.chat,(Ke==null?void 0:Ke.meta)??{},!1,null,(Ke==null?void 0:Ke.created_at)??null,(Ke==null?void 0:Ke.updated_at)??null).catch(At=>(Ye.error(`${At}`),null)));const Rt=await Gi(localStorage.token,nt.id,w).catch(At=>(Ye.error(`${At}`),null));I({originFolderId:nt.folder_id,targetFolderId:w,e:de}),Rt&&i("update")}}catch(be){}}fe(),t(11,C=!1)}},K=de=>{de.preventDefault(),!(A||E)&&t(11,C=!1)},G=new Image;G.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";let M,R;const N=de=>{de.stopPropagation(),de.dataTransfer.setDragImage(G,0,0),de.dataTransfer.setData("text/plain",JSON.stringify({type:"folder",id:w})),t(12,A=!0),t(8,D.style.opacity="0.5",D)},j=de=>{de.stopPropagation(),t(15,M=de.clientX),t(16,R=de.clientY)},te=de=>{de.stopPropagation(),t(8,D.style.opacity="1",D),t(12,A=!1)};Gt(async()=>{var de;t(0,h=_[w].is_expanded),t(1,m[w]={setFolderItems:()=>{fe()}},m),D&&(D.addEventListener("dragover",W),D.addEventListener("drop",U),D.addEventListener("dragleave",K),D.addEventListener("dragstart",N),D.addEventListener("drag",j),D.addEventListener("dragend",te)),(de=_[w])!=null&&de.new&&(delete _[w].new,await al(),se())}),Na(()=>{D&&(D.addEventListener("dragover",W),D.removeEventListener("drop",U),D.removeEventListener("dragleave",K),D.removeEventListener("dragstart",N),D.removeEventListener("drag",j),D.removeEventListener("dragend",te))});let q=!1;const Z=async()=>{await W_(localStorage.token,w).catch(tt=>(Ye.error(`${tt}`),null))&&(Ye.success(r.t("Folder deleted successfully")),y(w))},le=async({name:de,meta:tt,data:ut})=>{if(de===""){Ye.error(r.t("Folder name cannot be empty."));return}const be=_[w].name;if(de=de.trim(),t(2,_[w].name=de,_),await K_(localStorage.token,w,{name:de,...tt?{meta:tt}:{},...ut?{data:ut}:{}}).catch(Qe=>(Ye.error(`${Qe}`),t(2,_[w].name=be,_),null))){if(t(2,_[w].name=de,_),ut&&t(2,_[w].data=ut,_),Ye.success(r.t("Folder updated successfully")),(l==null?void 0:l.id)===w){const Qe=await wu(localStorage.token,w).catch(Ke=>(Ye.error(`${Ke}`),null));Qe&&await gs.set(Qe)}i("update")}},ce=async()=>{await G_(localStorage.token,w,h).catch(de=>(Ye.error(`${de}`),null))};let ae;const ie=()=>{clearTimeout(ae),ae=setTimeout(()=>{ce()},500)};let oe=null;const fe=async()=>{if(await al(),h){if(t(18,oe=await P_(localStorage.token,w).catch(de=>(Ye.error(`${de}`),[]))),(l==null?void 0:l.id)===w){const de=await wu(localStorage.token,w).catch(tt=>(Ye.error(`${tt}`),null));de&&await gs.set(de)}}else t(18,oe=null)},se=async()=>{await al(),t(14,B=_[w].name),t(10,V=!0),await al(),await al();const de=document.getElementById(`folder-${w}-input`);de&&(de.focus(),de.select())},re=async()=>{const de=await U_(localStorage.token,w).catch(ut=>(Ye.error(`${ut}`),null));if(!de)return;const tt=new Blob([JSON.stringify(de)],{type:"application/json"});c(tt,`folder-${_[w].name}-export-${Date.now()}.json`)};function ne(de){q=de,t(17,q)}const me=()=>{Z()};function _e(de){O=de,t(9,O)}function pe(de){m=de,t(1,m)}const ve=de=>{i("import",de.detail)},ge=de=>{i("update",de.detail)},Ce=de=>{i("change",de.detail)},Le=de=>{i("change",de.detail)},Oe=de=>{de.stopPropagation(),de.stopImmediatePropagation(),t(0,h=!h),ie()};function je(){B=this.value,t(14,B)}const Ge=()=>{le({name:B}),t(10,V=!1)},et=de=>{de.key==="Enter"&&(le({name:B}),t(10,V=!1))},He=()=>{t(9,O=!0)},Me=()=>{t(17,q=!0)},$e=()=>{re()},Re=de=>{H&&(clearTimeout(H),t(13,H=null)),se()},Se=async de=>{H&&(clearTimeout(H),t(13,H=null)),t(13,H=setTimeout(async()=>{const tt=await wu(localStorage.token,w).catch(ut=>(Ye.error(`${ut}`),null));tt&&await gs.set(tt),await nl("/"),a&&el.set(!n),t(13,H=null)},100))},ze=de=>{i("open",de)};function gt(de){h=de,t(0,h)}function ft(de){ye[de?"unshift":"push"](()=>{D=de,t(8,D)})}return s.$$set=de=>{"folderRegistry"in de&&t(1,m=de.folderRegistry),"open"in de&&t(0,h=de.open),"folders"in de&&t(2,_=de.folders),"folderId"in de&&t(3,w=de.folderId),"shiftKey"in de&&t(4,p=de.shiftKey),"className"in de&&t(5,k=de.className),"parentDragged"in de&&t(30,E=de.parentDragged),"onDelete"in de&&t(6,y=de.onDelete),"onItemMove"in de&&t(7,I=de.onItemMove)},s.$$.update=()=>{s.$$.dirty[0]&1&&h&&fe()},[h,m,_,w,p,k,y,I,D,O,V,C,A,H,B,M,R,q,oe,l,r,a,n,o,i,Z,le,ie,se,re,E,fe,ne,me,_e,pe,ve,ge,Ce,Le,Oe,je,Ge,et,He,Me,$e,Re,Se,ze,gt,ft]}class $0 extends mt{constructor(e){super(),_t(this,e,wv,pv,pt,{folderRegistry:1,open:0,folders:2,folderId:3,shiftKey:4,className:5,parentDragged:30,onDelete:6,onItemMove:7,setFolderItems:31},null,[-1,-1,-1])}get setFolderItems(){return this.$$.ctx[31]}}function Jh(s,e,t){const l=s.slice();return l[11]=e[t],l}function Xh(s,e){let t,l,r,a;function n(i){e[7](i)}let o={className:"",folders:e[1],folderId:e[11],shiftKey:e[2],onDelete:e[3],onItemMove:e[6]};return e[0]!==void 0&&(o.folderRegistry=e[0]),l=new $0({props:o}),ye.push(()=>Ie(l,"folderRegistry",n)),l.$on("import",e[8]),l.$on("update",e[9]),l.$on("change",e[10]),{key:s,first:null,c(){t=at(),X(l.$$.fragment),this.h()},l(i){t=at(),ee(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,c){P(i,t,c),Q(l,i,c),a=!0},p(i,c){e=i;const m={};c&2&&(m.folders=e[1]),c&16&&(m.folderId=e[11]),c&4&&(m.shiftKey=e[2]),c&8&&(m.onDelete=e[3]),!r&&c&1&&(r=!0,m.folderRegistry=e[0],De(()=>r=!1)),l.$set(m)},i(i){a||($(l.$$.fragment,i),a=!0)},o(i){L(l.$$.fragment,i),a=!1},d(i){i&&d(t),x(l,i)}}}function kv(s){let e=[],t=new Map,l,r,a=ht(s[4]);const n=o=>o[11];for(let o=0;o<a.length;o+=1){let i=Jh(s,a,o),c=n(i);t.set(c,e[o]=Xh(c,i))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=at()},l(o){for(let i=0;i<e.length;i+=1)e[i].l(o);l=at()},m(o,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,i);P(o,l,i),r=!0},p(o,[i]){i&127&&(a=ht(o[4]),Ae(),e=ks(e,i,n,1,o,a,t,l.parentNode,xs,Xh,l,Jh),Ne())},i(o){if(!r){for(let i=0;i<a.length;i+=1)$(e[i]);r=!0}},o(o){for(let i=0;i<e.length;i+=1)L(e[i]);r=!1},d(o){o&&d(l);for(let i=0;i<e.length;i+=1)e[i].d(o)}}}function yv(s,e,t){const l=ol();let{folderRegistry:r={}}=e,{folders:a={}}=e,{shiftKey:n=!1}=e,{onDelete:o=p=>{}}=e,i=[];const c=p=>{var k;p.originFolderId&&((k=r[p.originFolderId])==null||k.setFolderItems())};function m(p){r=p,t(0,r)}const h=p=>{l("import",p.detail)},_=p=>{l("update",p.detail)},w=p=>{l("change",p.detail)};return s.$$set=p=>{"folderRegistry"in p&&t(0,r=p.folderRegistry),"folders"in p&&t(1,a=p.folders),"shiftKey"in p&&t(2,n=p.shiftKey),"onDelete"in p&&t(3,o=p.onDelete)},s.$$.update=()=>{s.$$.dirty&2&&t(4,i=Object.keys(a).filter(p=>a[p].parent_id===null).sort((p,k)=>a[p].name.localeCompare(a[k].name,void 0,{numeric:!0,sensitivity:"base"})))},[r,a,n,o,i,l,c,m,h,_,w]}class Ev extends mt{constructor(e){super(),_t(this,e,yv,kv,pt,{folderRegistry:0,folders:1,shiftKey:2,onDelete:3})}}function Iv(s){let e=s[6].t("Create Channel")+"",t;return{c(){t=z(e)},l(l){t=F(l,e)},m(l,r){P(l,t,r)},p(l,r){r&64&&e!==(e=l[6].t("Create Channel")+"")&&Y(t,e)},d(l){l&&d(t)}}}function Dv(s){let e=s[6].t("Edit Channel")+"",t;return{c(){t=z(e)},l(l){t=F(l,e)},m(l,r){P(l,t,r)},p(l,r){r&64&&e!==(e=l[6].t("Edit Channel")+"")&&Y(t,e)},d(l){l&&d(t)}}}function Qh(s){let e,t=s[6].t("Delete")+"",l,r,a;return{c(){e=g("button"),l=z(t),this.h()},l(n){e=v(n,"BUTTON",{class:!0,type:!0});var o=b(e);l=F(o,t),o.forEach(d),this.h()},h(){f(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-black/90 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),f(e,"type","button")},m(n,o){P(n,e,o),u(e,l),r||(a=he(e,"click",s[16]),r=!0)},p(n,o){o&64&&t!==(t=n[6].t("Delete")+"")&&Y(l,t)},d(n){n&&d(e),r=!1,a()}}}function Cv(s){let e=s[6].t("Create")+"",t;return{c(){t=z(e)},l(l){t=F(l,e)},m(l,r){P(l,t,r)},p(l,r){r&64&&e!==(e=l[6].t("Create")+"")&&Y(t,e)},d(l){l&&d(t)}}}function $v(s){let e=s[6].t("Update")+"",t;return{c(){t=z(e)},l(l){t=F(l,e)},m(l,r){P(l,t,r)},p(l,r){r&64&&e!==(e=l[6].t("Update")+"")&&Y(t,e)},d(l){l&&d(t)}}}function xh(s){let e,t,l;return t=new pl({}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function Vv(s){let e,t,l,r,a,n,o,i,c,m,h,_,w=s[6].t("Channel Name")+"",p,k,E,y,I,D,O,V,C,A,H,B,W,U,K,G,M,R,N,j,te;function q(ne,me){return ne[1]?Dv:Iv}let Z=q(s),le=Z(s);n=new os({props:{className:"size-5"}});function ce(ne){s[15](ne)}let ae={accessRoles:["read","write"]};s[3]!==void 0&&(ae.accessControl=s[3]),H=new cp({props:ae}),ye.push(()=>Ie(H,"accessControl",ce));let ie=s[1]&&Qh(s);function oe(ne,me){return ne[1]?$v:Cv}let fe=oe(s),se=fe(s),re=s[4]&&xh();return{c(){e=g("div"),t=g("div"),l=g("div"),le.c(),r=S(),a=g("button"),X(n.$$.fragment),o=S(),i=g("div"),c=g("div"),m=g("form"),h=g("div"),_=g("div"),p=z(w),k=S(),E=g("div"),y=g("input"),D=S(),O=g("hr"),V=S(),C=g("div"),A=g("div"),X(H.$$.fragment),W=S(),U=g("div"),ie&&ie.c(),K=S(),G=g("button"),se.c(),M=S(),re&&re.c(),this.h()},l(ne){e=v(ne,"DIV",{});var me=b(e);t=v(me,"DIV",{class:!0});var _e=b(t);l=v(_e,"DIV",{class:!0});var pe=b(l);le.l(pe),pe.forEach(d),r=T(_e),a=v(_e,"BUTTON",{class:!0});var ve=b(a);ee(n.$$.fragment,ve),ve.forEach(d),_e.forEach(d),o=T(me),i=v(me,"DIV",{class:!0});var ge=b(i);c=v(ge,"DIV",{class:!0});var Ce=b(c);m=v(Ce,"FORM",{class:!0});var Le=b(m);h=v(Le,"DIV",{class:!0});var Oe=b(h);_=v(Oe,"DIV",{class:!0});var je=b(_);p=F(je,w),je.forEach(d),k=T(Oe),E=v(Oe,"DIV",{class:!0});var Ge=b(E);y=v(Ge,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ge.forEach(d),Oe.forEach(d),D=T(Le),O=v(Le,"HR",{class:!0}),V=T(Le),C=v(Le,"DIV",{class:!0});var et=b(C);A=v(et,"DIV",{class:!0});var He=b(A);ee(H.$$.fragment,He),He.forEach(d),et.forEach(d),W=T(Le),U=v(Le,"DIV",{class:!0});var Me=b(U);ie&&ie.l(Me),K=T(Me),G=v(Me,"BUTTON",{class:!0,type:!0});var $e=b(G);se.l($e),M=T($e),re&&re.l($e),$e.forEach(d),Me.forEach(d),Le.forEach(d),Ce.forEach(d),ge.forEach(d),me.forEach(d),this.h()},h(){f(l,"class","text-lg font-medium self-center"),f(a,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),f(_,"class","mb-1 text-xs text-gray-500"),f(y,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),f(y,"type","text"),f(y,"placeholder",I=s[6].t("new-channel")),f(y,"autocomplete","off"),f(E,"class","flex-1"),f(h,"class","flex flex-col w-full mt-2"),f(O,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),f(A,"class","px-4 py-3 bg-gray-50 dark:bg-gray-950 rounded-3xl"),f(C,"class","my-2 -mx-2"),f(G,"class",R="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[4]?" cursor-not-allowed":"")),f(G,"type","submit"),G.disabled=s[4],f(U,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),f(m,"class","flex flex-col w-full"),f(c,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(i,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(ne,me){P(ne,e,me),u(e,t),u(t,l),le.m(l,null),u(t,r),u(t,a),Q(n,a,null),u(e,o),u(e,i),u(i,c),u(c,m),u(m,h),u(h,_),u(_,p),u(h,k),u(h,E),u(E,y),Xe(y,s[2]),u(m,D),u(m,O),u(m,V),u(m,C),u(C,A),Q(H,A,null),u(m,W),u(m,U),ie&&ie.m(U,null),u(U,K),u(U,G),se.m(G,null),u(G,M),re&&re.m(G,null),N=!0,j||(te=[he(a,"click",s[13]),he(y,"input",s[14]),he(m,"submit",ws(s[17]))],j=!0)},p(ne,me){Z===(Z=q(ne))&&le?le.p(ne,me):(le.d(1),le=Z(ne),le&&(le.c(),le.m(l,null))),(!N||me&64)&&w!==(w=ne[6].t("Channel Name")+"")&&Y(p,w),(!N||me&64&&I!==(I=ne[6].t("new-channel")))&&f(y,"placeholder",I),me&4&&y.value!==ne[2]&&Xe(y,ne[2]);const _e={};!B&&me&8&&(B=!0,_e.accessControl=ne[3],De(()=>B=!1)),H.$set(_e),ne[1]?ie?ie.p(ne,me):(ie=Qh(ne),ie.c(),ie.m(U,K)):ie&&(ie.d(1),ie=null),fe===(fe=oe(ne))&&se?se.p(ne,me):(se.d(1),se=fe(ne),se&&(se.c(),se.m(G,M))),ne[4]?re?me&16&&$(re,1):(re=xh(),re.c(),$(re,1),re.m(G,null)):re&&(Ae(),L(re,1,1,()=>{re=null}),Ne()),(!N||me&16&&R!==(R="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(ne[4]?" cursor-not-allowed":"")))&&f(G,"class",R),(!N||me&16)&&(G.disabled=ne[4])},i(ne){N||($(n.$$.fragment,ne),$(H.$$.fragment,ne),$(re),N=!0)},o(ne){L(n.$$.fragment,ne),L(H.$$.fragment,ne),L(re),N=!1},d(ne){ne&&d(e),le.d(),x(n),x(H),ie&&ie.d(),se.d(),re&&re.d(),j=!1,Ct(te)}}}function Sv(s){let e,t,l,r,a,n;function o(h){s[18](h)}let i={size:"sm",$$slots:{default:[Vv]},$$scope:{ctx:s}};s[0]!==void 0&&(i.show=s[0]),e=new ys({props:i}),ye.push(()=>Ie(e,"show",o));function c(h){s[19](h)}let m={message:s[6].t("Are you sure you want to delete this channel?"),confirmLabel:s[6].t("Delete")};return s[5]!==void 0&&(m.show=s[5]),r=new La({props:m}),ye.push(()=>Ie(r,"show",c)),r.$on("confirm",s[20]),{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment)},l(h){ee(e.$$.fragment,h),l=T(h),ee(r.$$.fragment,h)},m(h,_){Q(e,h,_),P(h,l,_),Q(r,h,_),n=!0},p(h,[_]){const w={};_&16777343&&(w.$$scope={dirty:_,ctx:h}),!t&&_&1&&(t=!0,w.show=h[0],De(()=>t=!1)),e.$set(w);const p={};_&64&&(p.message=h[6].t("Are you sure you want to delete this channel?")),_&64&&(p.confirmLabel=h[6].t("Delete")),!a&&_&32&&(a=!0,p.show=h[5],De(()=>a=!1)),r.$set(p)},i(h){n||($(e.$$.fragment,h),$(r.$$.fragment,h),n=!0)},o(h){L(e.$$.fragment,h),L(r.$$.fragment,h),n=!1},d(h){h&&d(l),x(e,h),x(r,h)}}}function Tv(s,e,t){let l,r;Ee(s,Lu,U=>t(21,l=U));const a=Lt("i18n");Ee(s,a,U=>t(6,r=U));let{show:n=!1}=e,{onSubmit:o=()=>{}}=e,{onUpdate:i=()=>{}}=e,{channel:c=null}=e,{edit:m=!1}=e,h="",_={},w=!1;const p=async()=>{t(4,w=!0),await o({name:h.replace(/\s/g,"-"),access_control:_}),t(0,n=!1),t(4,w=!1)},k=()=>{t(2,h=c.name),t(3,_=c.access_control)};let E=!1;const y=async()=>{t(5,E=!1),await op(localStorage.token,c.id).catch(K=>{Ye.error(K.message)})&&(Ye.success(r.t("Channel deleted successfully")),i(),l.url.pathname===`/channels/${c.id}`&&nl("/")),t(0,n=!1)},I=()=>{t(2,h=""),t(3,_={}),t(4,w=!1)},D=()=>{t(0,n=!1)};function O(){h=this.value,t(2,h)}function V(U){_=U,t(3,_)}const C=()=>{t(5,E=!0)},A=()=>{p()};function H(U){n=U,t(0,n)}function B(U){E=U,t(5,E)}const W=()=>{y()};return s.$$set=U=>{"show"in U&&t(0,n=U.show),"onSubmit"in U&&t(10,o=U.onSubmit),"onUpdate"in U&&t(11,i=U.onUpdate),"channel"in U&&t(12,c=U.channel),"edit"in U&&t(1,m=U.edit)},s.$$.update=()=>{s.$$.dirty&4&&h&&t(2,h=h.replace(/\s/g,"-").toLocaleLowerCase()),s.$$.dirty&4097&&(n?c&&k():I())},[n,m,h,_,w,E,r,a,p,y,o,i,c,D,O,V,C,A,H,B,W]}class V0 extends mt{constructor(e){super(),_t(this,e,Tv,Sv,pt,{show:0,onSubmit:10,onUpdate:11,channel:12,edit:1})}}function Av(s){let e,t;return e=new pp({props:{className:"size-[15px]",strokeWidth:"2"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Nv(s){let e,t;return e=new gp({props:{className:"size-3",strokeWidth:"2.5"}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function e1(s){let e,t,l,r,a,n;return l=new w0({props:{className:"size-3.5"}}),{c(){e=g("button"),t=g("button"),X(l.$$.fragment),this.h()},l(o){e=v(o,"BUTTON",{class:!0});var i=b(e);t=v(i,"BUTTON",{class:!0});var c=b(t);ee(l.$$.fragment,c),c.forEach(d),i.forEach(d),this.h()},h(){f(t,"class","p-0.5 dark:hover:bg-gray-850 rounded-lg touch-auto"),f(e,"class","absolute z-10 right-2 invisible group-hover:visible self-center flex items-center dark:text-gray-300")},m(o,i){P(o,e,i),u(e,t),Q(l,t,null),r=!0,a||(n=[he(t,"click",Ov),he(e,"click",s[13])],a=!0)},p:Ze,i(o){r||($(l.$$.fragment,o),r=!0)},o(o){L(l.$$.fragment,o),r=!1},d(o){o&&d(e),x(l),a=!1,Ct(n)}}}function Lv(s){var W;let e,t,l,r,a,n,o,i,c,m,h,_=s[2].name+"",w,p,k,E,y,I,D;function O(U){s[11](U)}let V={channel:s[2],edit:!0,onUpdate:s[0],onSubmit:s[10]};s[3]!==void 0&&(V.show=s[3]),e=new V0({props:V}),ye.push(()=>Ie(e,"show",O));const C=[Nv,Av],A=[];function H(U,K){var G;return((G=U[2])==null?void 0:G.access_control)===null?0:1}i=H(s),c=A[i]=C[i](s);let B=((W=s[8])==null?void 0:W.role)==="admin"&&e1(s);return{c(){X(e.$$.fragment),l=S(),r=g("div"),a=g("a"),n=g("div"),o=g("div"),c.c(),m=S(),h=g("div"),w=z(_),k=S(),B&&B.c(),this.h()},l(U){ee(e.$$.fragment,U),l=T(U),r=v(U,"DIV",{id:!0,class:!0});var K=b(r);a=v(K,"A",{class:!0,href:!0,draggable:!0});var G=b(a);n=v(G,"DIV",{class:!0});var M=b(n);o=v(M,"DIV",{class:!0});var R=b(o);c.l(R),R.forEach(d),m=T(M),h=v(M,"DIV",{class:!0});var N=b(h);w=F(N,_),N.forEach(d),M.forEach(d),G.forEach(d),k=T(K),B&&B.l(K),K.forEach(d),this.h()},h(){f(o,"class","size-4 justify-center flex items-center"),f(h,"class","text-left self-center overflow-hidden w-full line-clamp-1 flex-1"),f(n,"class","flex items-center gap-1 shrink-0"),f(a,"class","w-full flex justify-between"),f(a,"href",p="/channels/"+s[2].id),f(a,"draggable","false"),f(r,"id","sidebar-channel-item"),f(r,"class",E="w-full "+s[1]+" rounded-xl flex relative group hover:bg-gray-100 dark:hover:bg-gray-900 "+(s[6].url.pathname===`/channels/${s[2].id}`?"bg-gray-100 dark:bg-gray-900 selected":"")+" px-2.5 py-1")},m(U,K){Q(e,U,K),P(U,l,K),P(U,r,K),u(r,a),u(a,n),u(n,o),A[i].m(o,null),u(n,m),u(n,h),u(h,w),u(r,k),B&&B.m(r,null),s[14](r),y=!0,I||(D=he(a,"click",s[12]),I=!0)},p(U,[K]){var R;const G={};K&4&&(G.channel=U[2]),K&1&&(G.onUpdate=U[0]),K&37&&(G.onSubmit=U[10]),!t&&K&8&&(t=!0,G.show=U[3],De(()=>t=!1)),e.$set(G);let M=i;i=H(U),i!==M&&(Ae(),L(A[M],1,1,()=>{A[M]=null}),Ne(),c=A[i],c||(c=A[i]=C[i](U),c.c()),$(c,1),c.m(o,null)),(!y||K&4)&&_!==(_=U[2].name+"")&&Y(w,_),(!y||K&4&&p!==(p="/channels/"+U[2].id))&&f(a,"href",p),((R=U[8])==null?void 0:R.role)==="admin"?B?(B.p(U,K),K&256&&$(B,1)):(B=e1(U),B.c(),$(B,1),B.m(r,null)):B&&(Ae(),L(B,1,1,()=>{B=null}),Ne()),(!y||K&70&&E!==(E="w-full "+U[1]+" rounded-xl flex relative group hover:bg-gray-100 dark:hover:bg-gray-900 "+(U[6].url.pathname===`/channels/${U[2].id}`?"bg-gray-100 dark:bg-gray-900 selected":"")+" px-2.5 py-1"))&&f(r,"class",E)},i(U){y||($(e.$$.fragment,U),$(c),$(B),y=!0)},o(U){L(e.$$.fragment,U),L(c),L(B),y=!1},d(U){U&&(d(l),d(r)),x(e,U),A[i].d(),B&&B.d(),s[14](null),I=!1,D()}}}const Ov=s=>{};function Mv(s,e,t){let l,r,a,n;Ee(s,Lu,I=>t(6,r=I)),Ee(s,Sa,I=>t(7,a=I)),Ee(s,Vl,I=>t(8,n=I));const o=Lt("i18n");Ee(s,o,I=>t(5,l=I));let{onUpdate:i=()=>{}}=e,{className:c=""}=e,{channel:m}=e,h=!1,_;const w=async({name:I,access_control:D})=>{await ip(localStorage.token,m.id,{name:I,access_control:D}).catch(V=>{Ye.error(V.message)})&&Ye.success(l.t("Channel updated successfully")),i()};function p(I){h=I,t(3,h)}const k=()=>{a&&el.set(!1)},E=I=>{I.stopPropagation(),t(3,h=!0)};function y(I){ye[I?"unshift":"push"](()=>{_=I,t(4,_)})}return s.$$set=I=>{"onUpdate"in I&&t(0,i=I.onUpdate),"className"in I&&t(1,c=I.className),"channel"in I&&t(2,m=I.channel)},[i,c,m,h,_,l,r,a,n,o,w,p,k,E,y]}class Bv extends mt{constructor(e){super(),_t(this,e,Mv,Lv,pt,{onUpdate:0,className:1,channel:2})}}function t1(s,e,t){const l=s.slice();return l[34]=e[t],l[36]=t,l}function l1(s,e,t){const l=s.slice();return l[31]=e[t],l[33]=t,l}function s1(s){let e,t,l,r,a,n;return l=new os({props:{className:"size-3",strokeWidth:"2"}}),{c(){e=g("div"),t=g("button"),X(l.$$.fragment),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=b(e);t=v(i,"BUTTON",{class:!0});var c=b(t);ee(l.$$.fragment,c),c.forEach(d),i.forEach(d),this.h()},h(){f(t,"class","p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),f(e,"class","self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent")},m(o,i){P(o,e,i),u(e,t),Q(l,t,null),r=!0,a||(n=he(t,"click",s[15]),a=!0)},p:Ze,i(o){r||($(l.$$.fragment,o),r=!0)},o(o){L(l.$$.fragment,o),r=!1},d(o){o&&d(e),x(l),a=!1,n()}}}function r1(s){let e,t,l,r,a;function n(c,m){if(c[10].length>0)return Uv;if(c[9].length>0)return Pv}let o=n(s),i=o&&o(s);return{c(){e=g("div"),t=g("div"),i&&i.c(),this.h()},l(c){e=v(c,"DIV",{class:!0,id:!0});var m=b(e);t=v(m,"DIV",{class:!0});var h=b(t);i&&i.l(h),h.forEach(d),m.forEach(d),this.h()},h(){f(t,"class","px-3 py-2.5 text-xs group"),f(e,"class","absolute top-0 mt-8 left-0 right-1 border border-gray-100 dark:border-gray-900 bg-gray-50 dark:bg-gray-950 rounded-2xl z-10 shadow-lg"),f(e,"id","search-options-container")},m(c,m){P(c,e,m),u(e,t),i&&i.m(t,null),r||(a=[he(e,"mouseenter",s[24]),he(e,"mouseleave",s[25])],r=!0)},p(c,m){o===(o=n(c))&&i?i.p(c,m):(i&&i.d(1),i=o&&o(c),i&&(i.c(),i.m(t,null)))},i(c){c&&(l||as(()=>{l=e0(e,l0,{duration:50}),l.start()}))},o:Ze,d(c){c&&d(e),i&&i.d(),r=!1,Ct(a)}}}function Pv(s){let e,t=s[11].t("Search options")+"",l,r,a,n=ht(s[9]),o=[];for(let i=0;i<n.length;i+=1)o[i]=a1(t1(s,n,i));return{c(){e=g("div"),l=z(t),r=S(),a=g("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);l=F(c,t),c.forEach(d),r=T(i),a=v(i,"DIV",{class:!0});var m=b(a);for(let h=0;h<o.length;h+=1)o[h].l(m);m.forEach(d),this.h()},h(){f(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1"),f(a,"class","max-h-60 overflow-auto")},m(i,c){P(i,e,c),u(e,l),P(i,r,c),P(i,a,c);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(a,null)},p(i,c){if(c[0]&2048&&t!==(t=i[11].t("Search options")+"")&&Y(l,t),c[0]&4705){n=ht(i[9]);let m;for(m=0;m<n.length;m+=1){const h=t1(i,n,m);o[m]?o[m].p(h,c):(o[m]=a1(h),o[m].c(),o[m].m(a,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=n.length}},d(i){i&&(d(e),d(r),d(a)),il(o,i)}}}function Uv(s){let e,t,l,r,a=ht(s[10]),n=[];for(let o=0;o<a.length;o+=1)n[o]=n1(l1(s,a,o));return{c(){e=g("div"),t=z(s[6]),l=S(),r=g("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=v(o,"DIV",{class:!0});var i=b(e);t=F(i,s[6]),i.forEach(d),l=T(o),r=v(o,"DIV",{class:!0});var c=b(r);for(let m=0;m<n.length;m+=1)n[m].l(c);c.forEach(d),this.h()},h(){f(e,"class","px-1 font-medium dark:text-gray-300 text-gray-700 mb-1 capitalize"),f(r,"class","max-h-60 overflow-auto")},m(o,i){P(o,e,i),u(e,t),P(o,l,i),P(o,r,i);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(r,null)},p(o,i){if(i[0]&64&&Y(t,o[6]),i[0]&5153){a=ht(o[10]);let c;for(c=0;c<a.length;c+=1){const m=l1(o,a,c);n[c]?n[c].p(m,i):(n[c]=n1(m),n[c].c(),n[c].m(r,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=a.length}},d(o){o&&(d(e),d(l),d(r)),il(n,o)}}}function a1(s){let e,t,l=s[34].name+"",r,a,n,o=s[34].description+"",i,c,m,h,_;function w(){return s[23](s[34])}return{c(){e=g("button"),t=g("div"),r=z(l),a=S(),n=g("div"),i=z(o),c=S(),this.h()},l(p){e=v(p,"BUTTON",{class:!0,id:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);r=F(E,l),E.forEach(d),a=T(k),n=v(k,"DIV",{class:!0});var y=b(n);i=F(y,o),y.forEach(d),c=T(k),k.forEach(d),this.h()},h(){f(t,"class","dark:text-gray-300 text-gray-700 font-medium"),f(n,"class","text-gray-500 line-clamp-1"),f(e,"class",m="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(s[5]===s[36]?"bg-gray-100 dark:bg-gray-900":"")),f(e,"id","search-option-"+s[36])},m(p,k){P(p,e,k),u(e,t),u(t,r),u(e,a),u(e,n),u(n,i),u(e,c),h||(_=he(e,"click",t0(w)),h=!0)},p(p,k){s=p,k[0]&512&&l!==(l=s[34].name+"")&&Y(r,l),k[0]&512&&o!==(o=s[34].description+"")&&Y(i,o),k[0]&32&&m!==(m="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(s[5]===s[36]?"bg-gray-100 dark:bg-gray-900":""))&&f(e,"class",m)},d(p){p&&d(e),h=!1,_()}}}function n1(s){let e,t,l=s[31].name+"",r,a,n,o=s[31].id+"",i,c,m,h,_,w;function p(){return s[22](s[31])}return{c(){e=g("button"),t=g("div"),r=z(l),a=S(),n=g("div"),i=z(o),c=S(),this.h()},l(k){e=v(k,"BUTTON",{class:!0,"data-selected":!0,id:!0});var E=b(e);t=v(E,"DIV",{class:!0});var y=b(t);r=F(y,l),y.forEach(d),a=T(E),n=v(E,"DIV",{class:!0});var I=b(n);i=F(I,o),I.forEach(d),c=T(E),E.forEach(d),this.h()},h(){f(t,"class","dark:text-gray-300 text-gray-700 font-medium line-clamp-1 shrink-0"),f(n,"class","text-gray-500 line-clamp-1"),f(e,"class",m="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(s[5]===s[33]?"bg-gray-100 dark:bg-gray-900":"")),f(e,"data-selected",h=s[5]===s[33]),f(e,"id","search-item-"+s[33])},m(k,E){P(k,e,E),u(e,t),u(t,r),u(e,a),u(e,n),u(n,i),u(e,c),_||(w=he(e,"click",t0(p)),_=!0)},p(k,E){s=k,E[0]&1024&&l!==(l=s[31].name+"")&&Y(r,l),E[0]&1024&&o!==(o=s[31].id+"")&&Y(i,o),E[0]&32&&m!==(m="px-1.5 py-0.5 flex gap-1 hover:bg-gray-100 dark:hover:bg-gray-900 w-full rounded "+(s[5]===s[33]?"bg-gray-100 dark:bg-gray-900":""))&&f(e,"class",m),E[0]&32&&h!==(h=s[5]===s[33])&&f(e,"data-selected",h)},d(k){k&&d(e),_=!1,w()}}}function jv(s){let e,t,l,r,a,n,o,i,c,m,h,_;r=new qi({});let w=s[2]&&s[0]&&s1(s),p=s[7]&&(s[9].length>0||s[10].length>0)&&r1(s);return{c(){e=g("div"),t=g("div"),l=g("div"),X(r.$$.fragment),a=S(),n=g("input"),i=S(),w&&w.c(),c=S(),p&&p.c(),this.h()},l(k){e=v(k,"DIV",{class:!0,id:!0});var E=b(e);t=v(E,"DIV",{class:!0,id:!0});var y=b(t);l=v(y,"DIV",{class:!0});var I=b(l);ee(r.$$.fragment,I),I.forEach(d),a=T(y),n=v(y,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),i=T(y),w&&w.l(y),y.forEach(d),c=T(E),p&&p.l(E),E.forEach(d),this.h()},h(){f(l,"class","self-center py-2 rounded-l-xl bg-transparent dark:text-gray-300"),f(n,"id","search-input"),f(n,"class","w-full rounded-r-xl py-1.5 pl-2.5 text-sm bg-transparent dark:text-gray-300 outline-hidden"),f(n,"placeholder",o=s[1]?s[1]:s[11].t("Search")),f(n,"autocomplete","off"),f(t,"class","flex w-full rounded-xl"),f(t,"id","chat-search"),f(e,"class","px-1 mb-1 flex justify-center space-x-2 relative z-10"),f(e,"id","search-container")},m(k,E){P(k,e,E),u(e,t),u(t,l),Q(r,l,null),u(t,a),u(t,n),Xe(n,s[0]),u(t,i),w&&w.m(t,null),u(e,c),p&&p.m(e,null),m=!0,h||(_=[he(n,"input",s[17]),he(n,"input",s[18]),he(n,"click",s[19]),he(n,"blur",s[20]),he(n,"keydown",s[21])],h=!0)},p(k,E){(!m||E[0]&2050&&o!==(o=k[1]?k[1]:k[11].t("Search")))&&f(n,"placeholder",o),E[0]&1&&n.value!==k[0]&&Xe(n,k[0]),k[2]&&k[0]?w?(w.p(k,E),E[0]&5&&$(w,1)):(w=s1(k),w.c(),$(w,1),w.m(t,null)):w&&(Ae(),L(w,1,1,()=>{w=null}),Ne()),k[7]&&(k[9].length>0||k[10].length>0)?p?(p.p(k,E),E[0]&1664&&$(p,1)):(p=r1(k),p.c(),$(p,1),p.m(e,null)):p&&(p.d(1),p=null)},i(k){m||($(r.$$.fragment,k),$(w),$(p),m=!0)},o(k){L(r.$$.fragment,k),L(w),m=!1},d(k){k&&d(e),x(r),w&&w.d(),p&&p.d(),h=!1,Ct(_)}}}function Rv(s,e,t){let l,r,a;Ee(s,Ou,j=>t(27,l=j)),Ee(s,Fi,j=>t(28,a=j));const n=ol(),o=Lt("i18n");Ee(s,o,j=>t(11,r=j));let{placeholder:i=""}=e,{value:c=""}=e,{showClearButton:m=!1}=e,{onFocus:h=()=>{}}=e,{onKeydown:_=j=>{}}=e,w=0,p=null,k="",E=[{name:"tag:",description:r.t("search for tags")},{name:"folder:",description:r.t("search for folders")},{name:"pinned:",description:r.t("search for pinned chats")},{name:"shared:",description:r.t("search for shared chats")},{name:"archived:",description:r.t("search for archived chats")}],y=!1,I=!1,D=E,O=[];const V=async()=>{await al(),k.startsWith("tag:")?t(10,O=[...a,{id:"none",name:r.t("Untagged")}].filter(j=>{const te=k.slice(4);if(te){const q=te.replace(" ","_").toLowerCase();return j.id!==q?j.id.startsWith(q):!1}else return!0}).map(j=>({id:j.id,name:j.name,type:"tag"}))):k.startsWith("folder:")?t(10,O=[...l].filter(j=>{const te=k.slice(7);if(te){const q=j.name.replace(" ","_").toLowerCase(),Z=te.replace(" ","_").toLowerCase();return q!==Z?q.startsWith(Z):!1}else return!0}).map(j=>({id:j.name.replace(" ","_").toLowerCase(),name:j.name,type:"folder"}))):k.startsWith("pinned:")?t(10,O=[{id:"true",name:"true",type:"pinned"},{id:"false",name:"false",type:"pinned"}].filter(j=>{const te=k.slice(7);return te?j.id.startsWith(te)&&j.id!==te:!0})):k.startsWith("shared:")?t(10,O=[{id:"true",name:"true",type:"shared"},{id:"false",name:"false",type:"shared"}].filter(j=>{const te=k.slice(7);return te?j.id.startsWith(te)&&j.id!==te:!0})):k.startsWith("archived:")?t(10,O=[{id:"true",name:"true",type:"archived"},{id:"false",name:"false",type:"archived"}].filter(j=>{const te=k.slice(9);return te?j.id.startsWith(te)&&j.id!==te:!0})):t(10,O=[])},C=async()=>{await Fi.set(await Bu(localStorage.token))},A=()=>{t(0,c=""),n("input")};function H(){c=this.value,t(0,c)}const B=()=>{n("input")},W=()=>{y||(h(),t(8,I=!1),t(7,y=!0),C())},U=()=>{I||t(7,y=!1)},K=j=>{if(j.key==="Enter"){if(O.length>0){document.getElementById(`search-item-${w}`).click();return}if(D.length>0){document.getElementById(`search-option-${w}`).click();return}}j.key==="ArrowUp"?(j.preventDefault(),t(5,w=Math.max(0,w-1))):j.key==="ArrowDown"?(j.preventDefault(),O.length>0?w===O.length-1?t(7,y=!1):t(5,w=Math.min(w+1,O.length-1)):w===D.length-1?t(7,y=!1):t(5,w=Math.min(w+1,D.length-1))):(y||(h(),t(8,I=!1),t(7,y=!0),C()),t(5,w=0));const te=document.querySelector('[data-selected="true"]');te==null||te.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"}),document.getElementById("search-options-container")||_(j)},G=async j=>{const te=c.split(" ");te.pop(),te.push(`${j.type}:${j.id} `),t(0,c=te.join(" ")),t(10,O=[]),n("input")},M=async j=>{const te=c.split(" ");te.pop(),te.push(`${j.name}`),t(6,p=j.name.replace(":","")),t(0,c=te.join(" ")),n("input")},R=()=>{t(8,I=!0),t(5,w=null)},N=()=>{t(8,I=!1),t(5,w=0)};return s.$$set=j=>{"placeholder"in j&&t(1,i=j.placeholder),"value"in j&&t(0,c=j.value),"showClearButton"in j&&t(2,m=j.showClearButton),"onFocus"in j&&t(3,h=j.onFocus),"onKeydown"in j&&t(4,_=j.onKeydown)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(16,k=c&&c.split(" ").at(-1)),s.$$.dirty[0]&65536&&t(9,D=E.filter(j=>j.name.startsWith(k))),s.$$.dirty[0]&65536&&k&&k!==null&&V()},[c,i,m,h,_,w,p,y,I,D,O,r,n,o,C,A,k,H,B,W,U,K,G,M,R,N]}class Hv extends mt{constructor(e){super(),_t(this,e,Rv,jv,pt,{placeholder:1,value:0,showClearButton:2,onFocus:3,onKeydown:4},null,[-1,-1])}}function o1(s,e,t){const l=s.slice();return l[33]=e[t],l[35]=t,l}function i1(s,e,t){const l=s.slice();return l[36]=e[t],l[35]=t,l}function f1(s,e){let t,l,r,a,n,o,i=e[12].t(e[36].label)+"",c,m,h,_,w,p;var k=e[36].icon;function E(D,O){return{}}k&&(r=_h(k,E()));function y(){return e[20](e[35])}function I(){return e[21](e[36])}return{key:s,first:null,c(){t=g("button"),l=g("div"),r&&X(r.$$.fragment),a=S(),n=g("div"),o=g("div"),c=z(i),this.h()},l(D){t=v(D,"BUTTON",{class:!0,"data-arrow-selected":!0,dragabble:!0});var O=b(t);l=v(O,"DIV",{class:!0});var V=b(l);r&&ee(r.$$.fragment,V),V.forEach(d),a=T(O),n=v(O,"DIV",{class:!0});var C=b(n);o=v(C,"DIV",{class:!0});var A=b(o);c=F(A,i),A.forEach(d),C.forEach(d),O.forEach(d),this.h()},h(){f(l,"class","pr-2"),f(o,"class","text-ellipsis line-clamp-1 w-full"),f(n,"class","flex-1 text-left"),f(t,"class",m="w-full flex items-center rounded-xl text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850 "+(e[4]===e[35]?"bg-gray-50 dark:bg-gray-850":"")),f(t,"data-arrow-selected",h=e[4]===e[35]?"true":void 0),f(t,"dragabble","false"),this.first=t},m(D,O){P(D,t,O),u(t,l),r&&Q(r,l,null),u(t,a),u(t,n),u(n,o),u(o,c),_=!0,w||(p=[he(t,"mouseenter",y),he(t,"click",I)],w=!0)},p(D,O){if(e=D,O[0]&32&&k!==(k=e[36].icon)){if(r){Ae();const V=r;L(V.$$.fragment,1,0,()=>{x(V,1)}),Ne()}k?(r=_h(k,E()),X(r.$$.fragment),$(r.$$.fragment,1),Q(r,l,null)):r=null}(!_||O[0]&4128)&&i!==(i=e[12].t(e[36].label)+"")&&Y(c,i),(!_||O[0]&48&&m!==(m="w-full flex items-center rounded-xl text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850 "+(e[4]===e[35]?"bg-gray-50 dark:bg-gray-850":"")))&&f(t,"class",m),(!_||O[0]&48&&h!==(h=e[4]===e[35]?"true":void 0))&&f(t,"data-arrow-selected",h)},i(D){_||(r&&$(r.$$.fragment,D),_=!0)},o(D){r&&L(r.$$.fragment,D),_=!1},d(D){D&&d(t),r&&x(r),w=!1,Ct(p)}}}function zv(s){let e,t,l;return t=new pl({props:{className:"size-5"}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","w-full h-full flex justify-center items-center")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},p:Ze,i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function Fv(s){let e,t,l,r=[],a=new Map,n,o,i,c=s[2].length===0&&u1(s),m=ht(s[2]);const h=w=>w[33].id;for(let w=0;w<m.length;w+=1){let p=o1(s,m,w),k=h(p);a.set(k,r[w]=d1(k,p))}let _=!s[7]&&h1(s);return{c(){e=g("hr"),t=S(),c&&c.c(),l=S();for(let w=0;w<r.length;w+=1)r[w].c();n=S(),_&&_.c(),o=at(),this.h()},l(w){e=v(w,"HR",{class:!0}),t=T(w),c&&c.l(w),l=T(w);for(let p=0;p<r.length;p+=1)r[p].l(w);n=T(w),_&&_.l(w),o=at(),this.h()},h(){f(e,"class","border-gray-50 dark:border-gray-850 my-3")},m(w,p){P(w,e,p),P(w,t,p),c&&c.m(w,p),P(w,l,p);for(let k=0;k<r.length;k+=1)r[k]&&r[k].m(w,p);P(w,n,p),_&&_.m(w,p),P(w,o,p),i=!0},p(w,p){w[2].length===0?c?c.p(w,p):(c=u1(w),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null),p[0]&4151&&(m=ht(w[2]),r=ks(r,p,h,1,w,m,a,n.parentNode,T_,d1,n,o1)),w[7]?_&&(Ae(),L(_,1,1,()=>{_=null}),Ne()):_?(_.p(w,p),p[0]&128&&$(_,1)):(_=h1(w),_.c(),$(_,1),_.m(o.parentNode,o))},i(w){i||($(_),i=!0)},o(w){L(_),i=!1},d(w){w&&(d(e),d(t),d(l),d(n),d(o)),c&&c.d(w);for(let p=0;p<r.length;p+=1)r[p].d(w);_&&_.d(w)}}}function u1(s){let e,t=s[12].t("No results found")+"",l;return{c(){e=g("div"),l=z(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","text-xs text-gray-500 dark:text-gray-400 text-center px-5 py-4")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&4096&&t!==(t=r[12].t("No results found")+"")&&Y(l,t)},d(r){r&&d(e)}}}function c1(s){let e,t=s[12].t(s[33].time_range)+"",l,r;return{c(){e=g("div"),l=z(t),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);l=F(n,t),n.forEach(d),this.h()},h(){f(e,"class",r="w-full text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[35]===0?"":"pt-5")+" pb-2 px-2")},m(a,n){P(a,e,n),u(e,l)},p(a,n){n[0]&4100&&t!==(t=a[12].t(a[33].time_range)+"")&&Y(l,t),n[0]&4&&r!==(r="w-full text-xs text-gray-500 dark:text-gray-500 font-medium "+(a[35]===0?"":"pt-5")+" pb-2 px-2")&&f(e,"class",r)},d(a){a&&d(e)}}}function d1(s,e){var V,C;let t,l,r,a,n,o=((V=e[33])==null?void 0:V.title)+"",i,c,m,h=Aa(((C=e[33])==null?void 0:C.updated_at)*1e3).calendar()+"",_,w,p,k,E,y,I=(e[35]===0||e[35]>0&&e[33].time_range!==e[2][e[35]-1].time_range)&&c1(e);function D(){return e[22](e[35])}function O(){return e[23](e[33])}return{key:s,first:null,c(){t=at(),I&&I.c(),l=S(),r=g("a"),a=g("div"),n=g("div"),i=z(o),c=S(),m=g("div"),_=z(h),this.h()},l(A){t=at(),I&&I.l(A),l=T(A),r=v(A,"A",{class:!0,href:!0,draggable:!0,"data-arrow-selected":!0});var H=b(r);a=v(H,"DIV",{class:!0});var B=b(a);n=v(B,"DIV",{class:!0});var W=b(n);i=F(W,o),W.forEach(d),B.forEach(d),c=T(H),m=v(H,"DIV",{class:!0});var U=b(m);_=F(U,h),U.forEach(d),H.forEach(d),this.h()},h(){f(n,"class","text-ellipsis line-clamp-1 w-full"),f(a,"class","flex-1"),f(m,"class","pl-3 shrink-0 text-gray-500 dark:text-gray-400 text-xs"),f(r,"class",w="w-full flex justify-between items-center rounded-xl text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850 "+(e[4]===e[35]+e[5].length?"bg-gray-50 dark:bg-gray-850":"")),f(r,"href",p="/c/"+e[33].id),f(r,"draggable","false"),f(r,"data-arrow-selected",k=e[4]===e[35]+e[5].length?"true":void 0),this.first=t},m(A,H){P(A,t,H),I&&I.m(A,H),P(A,l,H),P(A,r,H),u(r,a),u(a,n),u(n,i),u(r,c),u(r,m),u(m,_),E||(y=[he(r,"mouseenter",D),he(r,"click",O)],E=!0)},p(A,H){var B,W;e=A,e[35]===0||e[35]>0&&e[33].time_range!==e[2][e[35]-1].time_range?I?I.p(e,H):(I=c1(e),I.c(),I.m(l.parentNode,l)):I&&(I.d(1),I=null),H[0]&4&&o!==(o=((B=e[33])==null?void 0:B.title)+"")&&Y(i,o),H[0]&4&&h!==(h=Aa(((W=e[33])==null?void 0:W.updated_at)*1e3).calendar()+"")&&Y(_,h),H[0]&52&&w!==(w="w-full flex justify-between items-center rounded-xl text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850 "+(e[4]===e[35]+e[5].length?"bg-gray-50 dark:bg-gray-850":""))&&f(r,"class",w),H[0]&4&&p!==(p="/c/"+e[33].id)&&f(r,"href",p),H[0]&52&&k!==(k=e[4]===e[35]+e[5].length?"true":void 0)&&f(r,"data-arrow-selected",k)},d(A){A&&(d(t),d(l),d(r)),I&&I.d(A),E=!1,Ct(y)}}}function h1(s){let e,t;return e=new v0({props:{$$slots:{default:[Wv]},$$scope:{ctx:s}}}),e.$on("visible",s[24]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&4096|r[1]&128&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Wv(s){let e,t,l,r,a=s[12].t("Loading...")+"",n,o;return t=new pl({props:{className:" size-4"}}),{c(){e=g("div"),X(t.$$.fragment),l=S(),r=g("div"),n=z(a),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);ee(t.$$.fragment,c),l=T(c),r=v(c,"DIV",{class:!0});var m=b(r);n=F(m,a),m.forEach(d),c.forEach(d),this.h()},h(){f(r,"class",""),f(e,"class","w-full flex justify-center py-4 text-xs animate-pulse items-center gap-2")},m(i,c){P(i,e,c),Q(t,e,null),u(e,l),u(e,r),u(r,n),o=!0},p(i,c){(!o||c[0]&4096)&&a!==(a=i[12].t("Loading...")+"")&&Y(n,a)},i(i){o||($(t.$$.fragment,i),o=!0)},o(i){L(t.$$.fragment,i),o=!1},d(i){i&&d(e),x(t)}}}function Kv(s){var c;let e,t,l,r,a;function n(m){s[25](m)}function o(m){s[26](m)}let i={className:"h-full flex pt-4 pb-8 w-full",chatId:`chat-preview-${((c=s[8])==null?void 0:c.id)??""}`,user:s[13],readOnly:!0,selectedModels:s[9],autoScroll:!0,sendMessage:Zv,continueResponse:Jv,regenerateResponse:Xv};return s[10]!==void 0&&(i.history=s[10]),s[11]!==void 0&&(i.messages=s[11]),t=new g0({props:i}),ye.push(()=>Ie(t,"history",n)),ye.push(()=>Ie(t,"messages",o)),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(m){e=v(m,"DIV",{class:!0});var h=b(e);ee(t.$$.fragment,h),h.forEach(d),this.h()},h(){f(e,"class","w-full h-full flex flex-col")},m(m,h){P(m,e,h),Q(t,e,null),a=!0},p(m,h){var w;const _={};h[0]&256&&(_.chatId=`chat-preview-${((w=m[8])==null?void 0:w.id)??""}`),h[0]&8192&&(_.user=m[13]),h[0]&512&&(_.selectedModels=m[9]),!l&&h[0]&1024&&(l=!0,_.history=m[10],De(()=>l=!1)),!r&&h[0]&2048&&(r=!0,_.messages=m[11],De(()=>r=!1)),t.$set(_)},i(m){a||($(t.$$.fragment,m),a=!0)},o(m){L(t.$$.fragment,m),a=!1},d(m){m&&d(e),x(t)}}}function Gv(s){let e,t=s[12].t("Select a conversation to preview")+"",l;return{c(){e=g("div"),l=z(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","w-full h-full flex justify-center items-center text-gray-500 dark:text-gray-400 text-sm")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&4096&&t!==(t=r[12].t("Select a conversation to preview")+"")&&Y(l,t)},i:Ze,o:Ze,d(r){r&&d(e)}}}function Yv(s){let e,t,l,r,a,n,o,i,c=s[12].t("Actions")+"",m,h,_=[],w=new Map,p,k,E,y,I,D,O,V;function C(N){s[19](N)}let A={placeholder:s[12].t("Search"),showClearButton:!0,onFocus:s[17],onKeydown:s[18]};s[6]!==void 0&&(A.value=s[6]),l=new Hv({props:A}),ye.push(()=>Ie(l,"value",C)),l.$on("input",s[15]);let H=ht(s[5]);const B=N=>N[36].label;for(let N=0;N<H.length;N+=1){let j=i1(s,H,N),te=B(j);w.set(te,_[N]=f1(te,j))}const W=[Fv,zv],U=[];function K(N,j){return N[2]?0:1}k=K(s),E=U[k]=W[k](s);const G=[Gv,Kv],M=[];function R(N,j){return N[11]===null?0:1}return D=R(s),O=M[D]=G[D](s),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),a=S(),n=g("div"),o=g("div"),i=g("div"),m=z(c),h=S();for(let N=0;N<_.length;N+=1)_[N].c();p=S(),E.c(),y=S(),I=g("div"),O.c(),this.h()},l(N){e=v(N,"DIV",{class:!0});var j=b(e);t=v(j,"DIV",{class:!0});var te=b(t);ee(l.$$.fragment,te),te.forEach(d),a=T(j),n=v(j,"DIV",{class:!0});var q=b(n);o=v(q,"DIV",{class:!0});var Z=b(o);i=v(Z,"DIV",{class:!0});var le=b(i);m=F(le,c),le.forEach(d),h=T(Z);for(let ae=0;ae<_.length;ae+=1)_[ae].l(Z);p=T(Z),E.l(Z),Z.forEach(d),y=T(q),I=v(q,"DIV",{id:!0,class:!0});var ce=b(I);O.l(ce),ce.forEach(d),q.forEach(d),j.forEach(d),this.h()},h(){f(t,"class","px-4 pb-1.5"),f(i,"class","w-full text-xs text-gray-500 dark:text-gray-500 font-medium pb-2 px-2"),f(o,"class","flex flex-col overflow-y-auto h-96 md:h-[40rem] max-h-full scrollbar-hidden w-full flex-1 pr-2"),f(I,"id","chat-preview"),f(I,"class","hidden md:flex md:flex-1 w-full overflow-y-auto h-96 md:h-[40rem] scrollbar-hidden"),f(n,"class","flex px-4 pb-1"),f(e,"class","py-3 dark:text-gray-300 text-gray-700")},m(N,j){P(N,e,j),u(e,t),Q(l,t,null),u(e,a),u(e,n),u(n,o),u(o,i),u(i,m),u(o,h);for(let te=0;te<_.length;te+=1)_[te]&&_[te].m(o,null);u(o,p),U[k].m(o,null),u(n,y),u(n,I),M[D].m(I,null),V=!0},p(N,j){const te={};j[0]&4096&&(te.placeholder=N[12].t("Search")),j[0]&2064&&(te.onFocus=N[17]),j[0]&53&&(te.onKeydown=N[18]),!r&&j[0]&64&&(r=!0,te.value=N[6],De(()=>r=!1)),l.$set(te),(!V||j[0]&4096)&&c!==(c=N[12].t("Actions")+"")&&Y(m,c),j[0]&4144&&(H=ht(N[5]),Ae(),_=ks(_,j,B,1,N,H,w,o,xs,f1,p,i1),Ne());let q=k;k=K(N),k===q?U[k].p(N,j):(Ae(),L(U[q],1,1,()=>{U[q]=null}),Ne(),E=U[k],E?E.p(N,j):(E=U[k]=W[k](N),E.c()),$(E,1),E.m(o,null));let Z=D;D=R(N),D===Z?M[D].p(N,j):(Ae(),L(M[Z],1,1,()=>{M[Z]=null}),Ne(),O=M[D],O?O.p(N,j):(O=M[D]=G[D](N),O.c()),$(O,1),O.m(I,null))},i(N){if(!V){$(l.$$.fragment,N);for(let j=0;j<H.length;j+=1)$(_[j]);$(E),$(O),V=!0}},o(N){L(l.$$.fragment,N);for(let j=0;j<_.length;j+=1)L(_[j]);L(E),L(O),V=!1},d(N){N&&d(e),x(l);for(let j=0;j<_.length;j+=1)_[j].d();U[k].d(),M[D].d()}}}function qv(s){let e,t,l;function r(n){s[27](n)}let a={size:"xl",$$slots:{default:[Yv]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ys({props:a}),ye.push(()=>Ie(e,"show",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,o){const i={};o[0]&16383|o[1]&128&&(i.$$scope={dirty:o,ctx:n}),!t&&o[0]&1&&(t=!0,i.show=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}const Zv=()=>{},Jv=()=>{},Xv=()=>{};function Qv(s,e,t){let l,r,a;Ee(s,Vl,Z=>t(13,r=Z)),Ee(s,Dl,Z=>t(30,a=Z));const n=Lt("i18n");Ee(s,n,Z=>t(12,l=Z)),Aa.extend(vp);let{show:o=!1}=e,{onClose:i=()=>{}}=e,c=[{label:l.t("Start a new conversation"),onClick:async()=>{await nl(`/${m?`?q=${m}`:""}`),t(0,o=!1),i()},icon:Ru}],m="",h=1,_=null,w=!1,p=!1,k,E=null,y=null,I=[""],D=null,O=null;const V=async Z=>{var ie,oe,fe,se,re,ne,me,_e;if(!_||_.length===0||Z===null||_[Z]===void 0){t(8,y=null),t(11,O=null),t(10,D=null),t(9,I=[""]);return}const le=Z-c.length;if(le<0){t(8,y=null);return}const ce=_[le].id,ae=await vs(localStorage.token,ce).catch(async pe=>null);if(ae)if((ie=ae==null?void 0:ae.chat)!=null&&ie.history){t(9,I=(((oe=ae==null?void 0:ae.chat)==null?void 0:oe.models)??void 0)!==void 0?(fe=ae==null?void 0:ae.chat)==null?void 0:fe.models:[((se=ae==null?void 0:ae.chat)==null?void 0:se.models)??""]),t(10,D=(re=ae==null?void 0:ae.chat)==null?void 0:re.history),t(11,O=o0((ne=ae==null?void 0:ae.chat)==null?void 0:ne.history,(_e=(me=ae==null?void 0:ae.chat)==null?void 0:me.history)==null?void 0:_e.currentId)),await al();const pe=document.getElementById("chat-preview");pe&&(pe.scrollTop=pe.scrollHeight)}else t(11,O=[]);else{Ye.error(l.t("Failed to load chat preview")),t(8,y=null),t(11,O=null),t(10,D=null),t(9,I=[""]);return}},C=async()=>{o&&(k&&clearTimeout(k),h=1,t(2,_=null),m===""?t(2,_=await $l(localStorage.token,h)):k=setTimeout(async()=>{t(2,_=await Eh(localStorage.token,m,h)),(_??[]).length===0?t(7,p=!0):t(7,p=!1)},500),t(8,y=null),t(11,O=null),t(10,D=null),t(9,I=[""]),(_??[]).length===0?t(7,p=!0):t(7,p=!1))},A=async()=>{t(3,w=!0),h+=1;let Z=[];m?Z=await Eh(localStorage.token,m,h):Z=await $l(localStorage.token,h),t(7,p=Z.length===0),Z.length>0&&t(2,_=[..._,...Z]),t(3,w=!1)},H=Z=>{if(document.getElementById("search-options-container")||!o)return;if(Z.code==="Escape")t(0,o=!1),i();else if(Z.code==="Enter"){const ae=document.querySelector('[data-arrow-selected="true"]');ae&&(ae==null||ae.click(),t(0,o=!1));return}else if(Z.code==="ArrowDown"){const ae=document.getElementById("search-input");if(ae&&document.activeElement===ae){ae.blur(),t(4,E=0);return}t(4,E=Math.min(E+1,(_??[]).length-1+c.length))}else if(Z.code==="ArrowUp"){if(E===0){const ae=document.getElementById("search-input");if(ae&&document.activeElement!==ae){ae.focus(),t(4,E=0);return}}t(4,E=Math.max(E-1,0))}const ce=document.querySelector('[data-arrow-selected="true"]');ce==null||ce.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})};Gt(()=>{var Z,le,ce;t(5,c=[...c,...(((Z=a==null?void 0:a.features)==null?void 0:Z.enable_notes)??!1)&&((r==null?void 0:r.role)==="admin"||(((ce=(le=r==null?void 0:r.permissions)==null?void 0:le.features)==null?void 0:ce.notes)??!0))?[{label:l.t("Create a new note"),onClick:async()=>{await nl(`/notes${m?`?content=${m}`:""}`),t(0,o=!1),i()},icon:lp}]:[]]),document.addEventListener("keydown",H)}),Na(()=>{k&&clearTimeout(k),document.removeEventListener("keydown",H)});const B=()=>{t(4,E=null),t(11,O=null)},W=Z=>{if(Z.code==="Enter"&&(_??[]).length>0){const ce=document.querySelector('[data-arrow-selected="true"]');ce&&(ce==null||ce.click()),t(0,o=!1);return}else Z.code==="ArrowDown"?t(4,E=Math.min(E+1,(_??[]).length-1+c.length)):Z.code==="ArrowUp"?t(4,E=Math.max(E-1,0)):t(4,E=0);const le=document.querySelector('[data-arrow-selected="true"]');le==null||le.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})};function U(Z){m=Z,t(6,m)}const K=Z=>{t(4,E=Z)},G=async Z=>{await Z.onClick()},M=Z=>{t(4,E=Z+c.length)},R=async Z=>{await nl(`/c/${Z.id}`),t(0,o=!1),i()},N=Z=>{w||A()};function j(Z){D=Z,t(10,D)}function te(Z){O=Z,t(11,O)}function q(Z){o=Z,t(0,o)}return s.$$set=Z=>{"show"in Z&&t(0,o=Z.show),"onClose"in Z&&t(1,i=Z.onClose)},s.$$.update=()=>{s.$$.dirty[0]&28&&!w&&_&&V(E),s.$$.dirty[0]&1&&o&&C()},[o,i,_,w,E,c,m,p,y,I,D,O,l,r,n,C,A,B,W,U,K,G,M,R,N,j,te,q]}class xv extends mt{constructor(e){super(),_t(this,e,Qv,qv,pt,{show:0,onClose:1},null,[-1,-1])}}function e2(s){let e,t,l,r;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),this.h()},l(a){e=rt(a,"svg",{"stroke-width":!0,stroke:!0,class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,width:!0,height:!0,viewBox:!0});var n=b(e);t=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),r=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(r).forEach(d),n.forEach(d),this.h()},h(){f(t,"d","M9.5 14.5L3 21"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M7.67602 7.8896L6.69713 7.78823L5.00007 9.48528L14.1925 18.6777L15.8895 16.9806L15.7879 16M11.4847 7L15.1568 2.67141L21.0065 8.5211L16.6991 12.175"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(r,"d","M3 3L21 21"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 22 22")},m(a,n){P(a,e,n),u(e,t),u(e,l),u(e,r)},p(a,[n]){n&2&&f(e,"stroke-width",a[1]),n&1&&f(e,"class",a[0])},i:Ze,o:Ze,d(a){a&&d(e)}}}function t2(s,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class l2 extends mt{constructor(e){super(),_t(this,e,t2,e2,pt,{className:0,strokeWidth:1})}}function m1(s){var I;let e,t,l,r,a,n,o,i,c=(((I=s[0])==null?void 0:I.name)??s[0].id)+"",m,h,_,w,p,k,E,y=s[4]&&s[1]&&_1(s);return{c(){e=g("div"),t=g("a"),l=g("div"),r=g("img"),n=S(),o=g("div"),i=g("div"),m=z(c),_=S(),y&&y.c(),this.h()},l(D){e=v(D,"DIV",{class:!0,"data-id":!0});var O=b(e);t=v(O,"A",{class:!0,href:!0,draggable:!0});var V=b(t);l=v(V,"DIV",{class:!0});var C=b(l);r=v(C,"IMG",{crossorigin:!0,src:!0,class:!0,alt:!0}),C.forEach(d),n=T(V),o=v(V,"DIV",{class:!0});var A=b(o);i=v(A,"DIV",{class:!0});var H=b(i);m=F(H,c),H.forEach(d),A.forEach(d),V.forEach(d),_=T(O),y&&y.l(O),O.forEach(d),this.h()},h(){var D,O,V,C,A;f(r,"crossorigin","anonymous"),Gr(r.src,a=((V=(O=(D=s[0])==null?void 0:D.info)==null?void 0:O.meta)==null?void 0:V.profile_image_url)??`${Wi}/static/favicon.png`)||f(r,"src",a),f(r,"class","size-5 rounded-full -translate-x-[0.5px]"),f(r,"alt","logo"),f(l,"class","self-center shrink-0"),f(i,"class","self-center text-sm font-primary line-clamp-1"),f(o,"class","flex self-center translate-y-[0.5px]"),f(t,"class","grow flex items-center space-x-2.5 rounded-lg px-2 py-[7px] group-hover:bg-gray-100 dark:group-hover:bg-gray-900 transition"),f(t,"href",h="/?model="+((C=s[0])==null?void 0:C.id)),f(t,"draggable","false"),f(e,"class","px-[7px] flex justify-center text-gray-800 dark:text-gray-200 cursor-grab relative group"),f(e,"data-id",w=(A=s[0])==null?void 0:A.id)},m(D,O){P(D,e,O),u(e,t),u(t,l),u(l,r),u(t,n),u(t,o),u(o,i),u(i,m),u(e,_),y&&y.m(e,null),p=!0,k||(E=[he(t,"click",function(){u_(s[2])&&s[2].apply(this,arguments)}),he(e,"mouseenter",s[8]),he(e,"mouseleave",s[9])],k=!0)},p(D,O){var V,C,A,H,B,W;s=D,(!p||O&1&&!Gr(r.src,a=((A=(C=(V=s[0])==null?void 0:V.info)==null?void 0:C.meta)==null?void 0:A.profile_image_url)??`${Wi}/static/favicon.png`))&&f(r,"src",a),(!p||O&1)&&c!==(c=(((H=s[0])==null?void 0:H.name)??s[0].id)+"")&&Y(m,c),(!p||O&1&&h!==(h="/?model="+((B=s[0])==null?void 0:B.id)))&&f(t,"href",h),s[4]&&s[1]?y?(y.p(s,O),O&18&&$(y,1)):(y=_1(s),y.c(),$(y,1),y.m(e,null)):y&&(Ae(),L(y,1,1,()=>{y=null}),Ne()),(!p||O&1&&w!==(w=(W=s[0])==null?void 0:W.id))&&f(e,"data-id",w)},i(D){p||($(y),p=!0)},o(D){L(y),p=!1},d(D){D&&d(e),y&&y.d(),k=!1,Ct(E)}}}function _1(s){let e,t,l,r;return l=new Kt({props:{content:s[5].t("Unpin"),className:"flex items-center",$$slots:{default:[s2]},$$scope:{ctx:s}}}),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);t=v(n,"DIV",{class:!0});var o=b(t);ee(l.$$.fragment,o),o.forEach(d),n.forEach(d),this.h()},h(){f(t,"class","flex items-center self-center space-x-1.5"),f(e,"class","absolute right-5 top-2.5")},m(a,n){P(a,e,n),u(e,t),Q(l,t,null),r=!0},p(a,n){const o={};n&32&&(o.content=a[5].t("Unpin")),n&1032&&(o.$$scope={dirty:n,ctx:a}),l.$set(o)},i(a){r||($(l.$$.fragment,a),r=!0)},o(a){L(l.$$.fragment,a),r=!1},d(a){a&&d(e),x(l)}}}function s2(s){let e,t,l,r,a;return t=new l2({props:{className:"size-3.5",strokeWidth:"2"}}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0,type:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","self-center dark:hover:text-white transition"),f(e,"type","button")},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=he(e,"click",s[7]),r=!0)},p:Ze,i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,a()}}}function r2(s){let e,t,l=s[0]&&m1(s);return{c(){l&&l.c(),e=at()},l(r){l&&l.l(r),e=at()},m(r,a){l&&l.m(r,a),P(r,e,a),t=!0},p(r,[a]){r[0]?l?(l.p(r,a),a&1&&$(l,1)):(l=m1(r),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(Ae(),L(l,1,1,()=>{l=null}),Ne())},i(r){t||($(l),t=!0)},o(r){L(l),t=!1},d(r){r&&d(e),l&&l.d(r)}}}function a2(s,e,t){let l;const r=Lt("i18n");Ee(s,r,w=>t(5,l=w));let{model:a=null}=e,{shiftKey:n=!1}=e,{onClick:o=()=>{}}=e,{onUnpin:i=()=>{}}=e,c=!1;const m=()=>{i()},h=w=>{t(4,c=!0)},_=w=>{t(4,c=!1)};return s.$$set=w=>{"model"in w&&t(0,a=w.model),"shiftKey"in w&&t(1,n=w.shiftKey),"onClick"in w&&t(2,o=w.onClick),"onUnpin"in w&&t(3,i=w.onUnpin)},[a,n,o,i,c,l,r,m,h,_]}class n2 extends mt{constructor(e){super(),_t(this,e,a2,r2,pt,{model:0,shiftKey:1,onClick:2,onUnpin:3})}}function p1(s,e,t){const l=s.slice();l[9]=e[t];const r=l[4].find(function(...n){return s[7](l[9],...n)});return l[10]=r,l}function g1(s){let e,t;function l(){return s[6](s[9])}return e=new n2({props:{model:s[10],shiftKey:s[1],onClick:s[5],onUnpin:l}}),{c(){X(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){Q(e,r,a),t=!0},p(r,a){s=r;const n={};a&20&&(n.model=s[10]),a&2&&(n.shiftKey=s[1]),a&9&&(n.onClick=s[5]),a&4&&(n.onUnpin=l),e.$set(n)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){x(e,r)}}}function v1(s,e){let t,l,r,a=e[10]&&g1(e);return{key:s,first:null,c(){t=at(),a&&a.c(),l=at(),this.h()},l(n){t=at(),a&&a.l(n),l=at(),this.h()},h(){this.first=t},m(n,o){P(n,t,o),a&&a.m(n,o),P(n,l,o),r=!0},p(n,o){e=n,e[10]?a?(a.p(e,o),o&20&&$(a,1)):(a=g1(e),a.c(),$(a,1),a.m(l.parentNode,l)):a&&(Ae(),L(a,1,1,()=>{a=null}),Ne())},i(n){r||($(a),r=!0)},o(n){L(a),r=!1},d(n){n&&(d(t),d(l)),a&&a.d(n)}}}function o2(s){let e,t=[],l=new Map,r,a=ht(s[2].pinnedModels);const n=o=>o[9];for(let o=0;o<a.length;o+=1){let i=p1(s,a,o),c=n(i);l.set(c,t[o]=v1(c,i))}return{c(){e=g("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=v(o,"DIV",{class:!0,id:!0});var i=b(e);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(d),this.h()},h(){f(e,"class","mt-0.5 pb-1.5"),f(e,"id","pinned-models-list")},m(o,i){P(o,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r=!0},p(o,[i]){i&31&&(a=ht(o[2].pinnedModels),Ae(),t=ks(t,i,n,1,o,a,l,e,xs,v1,null,p1),Ne())},i(o){if(!r){for(let i=0;i<a.length;i+=1)$(t[i]);r=!0}},o(o){for(let i=0;i<t.length;i+=1)L(t[i]);r=!1},d(o){o&&d(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function i2(s,e,t){let l,r,a;Ee(s,tl,_=>t(2,l=_)),Ee(s,Sa,_=>t(3,r=_)),Ee(s,Yi,_=>t(4,a=_));let{selectedChatId:n=null}=e,{shiftKey:o=!1}=e;const i=()=>{const _=document.getElementById("pinned-models-list");_&&!r&&new bp(_,{animation:150,onUpdate:async w=>{const p=w.item.dataset.id,k=w.newIndex,E=l.pinnedModels,y=E.indexOf(p);E.splice(y,1),E.splice(k,0,p),tl.set({...l,pinnedModels:E}),await Ki(localStorage.token,{ui:l})}})};Gt(()=>{i()});const c=()=>{t(0,n=null),zi.set(""),r&&el.set(!1)},m=_=>{const w=l.pinnedModels.filter(p=>p!==_);tl.set({...l,pinnedModels:w}),Ki(localStorage.token,{ui:l})},h=(_,w)=>w.id===_;return s.$$set=_=>{"selectedChatId"in _&&t(0,n=_.selectedChatId),"shiftKey"in _&&t(1,o=_.shiftKey)},[n,o,l,r,a,c,m,h]}class f2 extends mt{constructor(e){super(),_t(this,e,i2,o2,pt,{selectedChatId:0,shiftKey:1})}}function u2(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,viewBox:!0});var r=b(e);t=rt(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"stroke","currentColor"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M10 3v4a1 1 0 0 1-1 1H5m4 8h6m-6-4h6m4-8v16a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7.914a1 1 0 0 1 .293-.707l3.914-3.914A1 1 0 0 1 9.914 3H18a1 1 0 0 1 1 1Z"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"viewBox","0 0 24 24")},m(l,r){P(l,e,r),u(e,t)},p(l,[r]){r&1&&f(e,"class",l[0]),r&2&&f(e,"stroke-width",l[1])},i:Ze,o:Ze,d(l){l&&d(e)}}}function c2(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class S0 extends mt{constructor(e){super(),_t(this,e,c2,u2,pt,{className:0,strokeWidth:1})}}function b1(s,e,t){const l=s.slice();return l[102]=e[t],l[104]=t,l}function w1(s,e,t){const l=s.slice();return l[102]=e[t],l[104]=t,l}function k1(s,e,t){const l=s.slice();return l[106]=e[t],l}function y1(s){let e,t,l,r;return{c(){e=g("div"),this.h()},l(a){e=v(a,"DIV",{class:!0}),b(e).forEach(d),this.h()},h(){f(e,"class",t=(s[18]?" ml-[4.5rem] md:ml-0":"")+" fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(a,n){P(a,e,n),l||(r=he(e,"mousedown",s[44]),l=!0)},p(a,n){n[0]&262144&&t!==(t=(a[18]?" ml-[4.5rem] md:ml-0":"")+" fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")&&f(e,"class",t)},d(a){a&&d(e),l=!1,r()}}}function E1(s){var H,B,W,U,K,G,M,R,N,j,te,q,Z,le,ce,ae,ie,oe,fe;let e,t,l,r,a,n,o,i,c,m,h,_,w,p,k,E,y,I,D,O;r=new Kt({props:{content:s[13]?s[14].t("Close Sidebar"):s[14].t("Open Sidebar"),placement:"right",$$slots:{default:[d2]},$$scope:{ctx:s}}}),i=new Kt({props:{content:s[14].t("New Chat"),placement:"right",$$slots:{default:[h2]},$$scope:{ctx:s}}}),h=new Kt({props:{content:s[14].t("Search"),placement:"right",$$slots:{default:[m2]},$$scope:{ctx:s}}});let V=(((B=(H=s[20])==null?void 0:H.features)==null?void 0:B.enable_notes)??!1)&&(((W=s[12])==null?void 0:W.role)==="admin"||(((G=(K=(U=s[12])==null?void 0:U.permissions)==null?void 0:K.features)==null?void 0:G.notes)??!0))&&I1(s),C=(((M=s[12])==null?void 0:M.role)==="admin"||((j=(N=(R=s[12])==null?void 0:R.permissions)==null?void 0:N.workspace)==null?void 0:j.models)||((Z=(q=(te=s[12])==null?void 0:te.permissions)==null?void 0:q.workspace)==null?void 0:Z.knowledge)||((ae=(ce=(le=s[12])==null?void 0:le.permissions)==null?void 0:ce.workspace)==null?void 0:ae.prompts)||((fe=(oe=(ie=s[12])==null?void 0:ie.permissions)==null?void 0:oe.workspace)==null?void 0:fe.tools))&&D1(s),A=s[12]!==void 0&&s[12]!==null&&C1(s);return{c(){e=g("div"),t=g("button"),l=g("div"),X(r.$$.fragment),a=S(),n=g("div"),o=g("div"),X(i.$$.fragment),c=S(),m=g("div"),X(h.$$.fragment),_=S(),V&&V.c(),w=S(),C&&C.c(),p=S(),k=g("div"),E=g("div"),y=g("div"),A&&A.c(),this.h()},l(se){e=v(se,"DIV",{class:!0,id:!0});var re=b(e);t=v(re,"BUTTON",{class:!0});var ne=b(t);l=v(ne,"DIV",{class:!0});var me=b(l);ee(r.$$.fragment,me),me.forEach(d),a=T(ne),n=v(ne,"DIV",{});var _e=b(n);o=v(_e,"DIV",{class:!0});var pe=b(o);ee(i.$$.fragment,pe),pe.forEach(d),c=T(_e),m=v(_e,"DIV",{class:!0});var ve=b(m);ee(h.$$.fragment,ve),ve.forEach(d),_=T(_e),V&&V.l(_e),w=T(_e),C&&C.l(_e),_e.forEach(d),ne.forEach(d),p=T(re),k=v(re,"DIV",{});var ge=b(k);E=v(ge,"DIV",{});var Ce=b(E);y=v(Ce,"DIV",{class:!0});var Le=b(y);A&&A.l(Le),Le.forEach(d),Ce.forEach(d),ge.forEach(d),re.forEach(d),this.h()},h(){f(l,"class","pb-1.5"),f(o,"class",""),f(m,"class",""),f(t,"class","flex flex-col flex-1 "+(s[37]?"cursor-pointer":"cursor-[e-resize]")),f(y,"class","py-0.5"),f(e,"class","py-2 px-1.5 flex flex-col justify-between text-black dark:text-white hover:bg-gray-50/50 dark:hover:bg-gray-950/50 h-full border-e border-gray-50 dark:border-gray-850 z-10 transition-all"),f(e,"id","sidebar")},m(se,re){P(se,e,re),u(e,t),u(t,l),Q(r,l,null),u(t,a),u(t,n),u(n,o),Q(i,o,null),u(n,c),u(n,m),Q(h,m,null),u(n,_),V&&V.m(n,null),u(n,w),C&&C.m(n,null),u(e,p),u(e,k),u(k,E),u(E,y),A&&A.m(y,null),I=!0,D||(O=he(t,"click",s[52]),D=!0)},p(se,re){var pe,ve,ge,Ce,Le,Oe,je,Ge,et,He,Me,$e,Re,Se,ze,gt,ft,de,tt;const ne={};re[0]&24576&&(ne.content=se[13]?se[14].t("Close Sidebar"):se[14].t("Open Sidebar")),re[0]&24576|re[3]&65536&&(ne.$$scope={dirty:re,ctx:se}),r.$set(ne);const me={};re[0]&16384&&(me.content=se[14].t("New Chat")),re[0]&16384|re[3]&65536&&(me.$$scope={dirty:re,ctx:se}),i.$set(me);const _e={};re[0]&16384&&(_e.content=se[14].t("Search")),re[0]&16384|re[3]&65536&&(_e.$$scope={dirty:re,ctx:se}),h.$set(_e),(((ve=(pe=se[20])==null?void 0:pe.features)==null?void 0:ve.enable_notes)??!1)&&(((ge=se[12])==null?void 0:ge.role)==="admin"||(((Oe=(Le=(Ce=se[12])==null?void 0:Ce.permissions)==null?void 0:Le.features)==null?void 0:Oe.notes)??!0))?V?(V.p(se,re),re[0]&1052672&&$(V,1)):(V=I1(se),V.c(),$(V,1),V.m(n,w)):V&&(Ae(),L(V,1,1,()=>{V=null}),Ne()),((je=se[12])==null?void 0:je.role)==="admin"||(He=(et=(Ge=se[12])==null?void 0:Ge.permissions)==null?void 0:et.workspace)!=null&&He.models||(Re=($e=(Me=se[12])==null?void 0:Me.permissions)==null?void 0:$e.workspace)!=null&&Re.knowledge||(gt=(ze=(Se=se[12])==null?void 0:Se.permissions)==null?void 0:ze.workspace)!=null&&gt.prompts||(tt=(de=(ft=se[12])==null?void 0:ft.permissions)==null?void 0:de.workspace)!=null&&tt.tools?C?(C.p(se,re),re[0]&4096&&$(C,1)):(C=D1(se),C.c(),$(C,1),C.m(n,null)):C&&(Ae(),L(C,1,1,()=>{C=null}),Ne()),se[12]!==void 0&&se[12]!==null?A?(A.p(se,re),re[0]&4096&&$(A,1)):(A=C1(se),A.c(),$(A,1),A.m(y,null)):A&&(Ae(),L(A,1,1,()=>{A=null}),Ne())},i(se){I||($(r.$$.fragment,se),$(i.$$.fragment,se),$(h.$$.fragment,se),$(V),$(C),$(A),I=!0)},o(se){L(r.$$.fragment,se),L(i.$$.fragment,se),L(h.$$.fragment,se),L(V),L(C),L(A),I=!1},d(se){se&&d(e),x(r),x(i),x(h),V&&V.d(),C&&C.d(),A&&A.d(),D=!1,O()}}}function d2(s){let e,t,l,r,a,n,o,i;return n=new y0({props:{className:"size-5 hidden group-hover:flex"}}),{c(){e=g("button"),t=g("div"),l=g("img"),a=S(),X(n.$$.fragment),this.h()},l(c){e=v(c,"BUTTON",{class:!0,"aria-label":!0});var m=b(e);t=v(m,"DIV",{class:!0});var h=b(t);l=v(h,"IMG",{crossorigin:!0,src:!0,class:!0,alt:!0}),a=T(h),ee(n.$$.fragment,h),h.forEach(d),m.forEach(d),this.h()},h(){f(l,"crossorigin","anonymous"),Gr(l.src,r=Wi+"/static/favicon.png")||f(l,"src",r),f(l,"class","sidebar-new-chat-icon size-6 rounded-full group-hover:hidden"),f(l,"alt",""),f(t,"class","self-center flex items-center justify-center size-9"),f(e,"class","flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition group "+(s[37]?"cursor-pointer":"cursor-[e-resize]")),f(e,"aria-label",o=s[13]?s[14].t("Close Sidebar"):s[14].t("Open Sidebar"))},m(c,m){P(c,e,m),u(e,t),u(t,l),u(t,a),Q(n,t,null),i=!0},p(c,m){(!i||m[0]&24576&&o!==(o=c[13]?c[14].t("Close Sidebar"):c[14].t("Open Sidebar")))&&f(e,"aria-label",o)},i(c){i||($(n.$$.fragment,c),i=!0)},o(c){L(n.$$.fragment,c),i=!1},d(c){c&&d(e),x(n)}}}function h2(s){let e,t,l,r,a,n,o;return l=new Ru({props:{className:"size-4.5"}}),{c(){e=g("a"),t=g("div"),X(l.$$.fragment),this.h()},l(i){e=v(i,"A",{class:!0,href:!0,draggable:!0,"aria-label":!0});var c=b(e);t=v(c,"DIV",{class:!0});var m=b(t);ee(l.$$.fragment,m),m.forEach(d),c.forEach(d),this.h()},h(){f(t,"class","self-center flex items-center justify-center size-9"),f(e,"class","cursor-pointer flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition group"),f(e,"href","/"),f(e,"draggable","false"),f(e,"aria-label",r=s[14].t("New Chat"))},m(i,c){P(i,e,c),u(e,t),Q(l,t,null),a=!0,n||(o=he(e,"click",s[48]),n=!0)},p(i,c){(!a||c[0]&16384&&r!==(r=i[14].t("New Chat")))&&f(e,"aria-label",r)},i(i){a||($(l.$$.fragment,i),a=!0)},o(i){L(l.$$.fragment,i),a=!1},d(i){i&&d(e),x(l),n=!1,o()}}}function m2(s){let e,t,l,r,a,n,o;return l=new qi({props:{className:"size-4.5"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),this.h()},l(i){e=v(i,"BUTTON",{class:!0,draggable:!0,"aria-label":!0});var c=b(e);t=v(c,"DIV",{class:!0});var m=b(t);ee(l.$$.fragment,m),m.forEach(d),c.forEach(d),this.h()},h(){f(t,"class","self-center flex items-center justify-center size-9"),f(e,"class","cursor-pointer flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition group"),f(e,"draggable","false"),f(e,"aria-label",r=s[14].t("Search"))},m(i,c){P(i,e,c),u(e,t),Q(l,t,null),a=!0,n||(o=he(e,"click",s[49]),n=!0)},p(i,c){(!a||c[0]&16384&&r!==(r=i[14].t("Search")))&&f(e,"aria-label",r)},i(i){a||($(l.$$.fragment,i),a=!0)},o(i){L(l.$$.fragment,i),a=!1},d(i){i&&d(e),x(l),n=!1,o()}}}function I1(s){let e,t,l;return t=new Kt({props:{content:s[14].t("Notes"),placement:"right",$$slots:{default:[_2]},$$scope:{ctx:s}}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},p(r,a){const n={};a[0]&16384&&(n.content=r[14].t("Notes")),a[0]&16384|a[3]&65536&&(n.$$scope={dirty:a,ctx:r}),t.$set(n)},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function _2(s){let e,t,l,r,a,n,o;return l=new S0({props:{className:"size-4.5"}}),{c(){e=g("a"),t=g("div"),X(l.$$.fragment),this.h()},l(i){e=v(i,"A",{class:!0,href:!0,draggable:!0,"aria-label":!0});var c=b(e);t=v(c,"DIV",{class:!0});var m=b(t);ee(l.$$.fragment,m),m.forEach(d),c.forEach(d),this.h()},h(){f(t,"class","self-center flex items-center justify-center size-9"),f(e,"class","cursor-pointer flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition group"),f(e,"href","/notes"),f(e,"draggable","false"),f(e,"aria-label",r=s[14].t("Notes"))},m(i,c){P(i,e,c),u(e,t),Q(l,t,null),a=!0,n||(o=he(e,"click",s[50]),n=!0)},p(i,c){(!a||c[0]&16384&&r!==(r=i[14].t("Notes")))&&f(e,"aria-label",r)},i(i){a||($(l.$$.fragment,i),a=!0)},o(i){L(l.$$.fragment,i),a=!1},d(i){i&&d(e),x(l),n=!1,o()}}}function D1(s){let e,t,l;return t=new Kt({props:{content:s[14].t("Workspace"),placement:"right",$$slots:{default:[p2]},$$scope:{ctx:s}}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},p(r,a){const n={};a[0]&16384&&(n.content=r[14].t("Workspace")),a[0]&16384|a[3]&65536&&(n.$$scope={dirty:a,ctx:r}),t.$set(n)},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function p2(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4.5"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',r,a,n;return{c(){e=g("a"),t=g("div"),t.innerHTML=l,this.h()},l(o){e=v(o,"A",{class:!0,href:!0,"aria-label":!0,draggable:!0});var i=b(e);t=v(i,"DIV",{class:!0,"data-svelte-h":!0}),jt(t)!=="svelte-1fat3kp"&&(t.innerHTML=l),i.forEach(d),this.h()},h(){f(t,"class","self-center flex items-center justify-center size-9"),f(e,"class","cursor-pointer flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition group"),f(e,"href","/workspace"),f(e,"aria-label",r=s[14].t("Workspace")),f(e,"draggable","false")},m(o,i){P(o,e,i),u(e,t),a||(n=he(e,"click",s[51]),a=!0)},p(o,i){i[0]&16384&&r!==(r=o[14].t("Workspace"))&&f(e,"aria-label",r)},d(o){o&&d(e),a=!1,n()}}}function C1(s){var l;let e,t;return e=new c0({props:{role:(l=s[12])==null?void 0:l.role,$$slots:{default:[g2]},$$scope:{ctx:s}}}),e.$on("show",s[53]),{c(){X(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){Q(e,r,a),t=!0},p(r,a){var o;const n={};a[0]&4096&&(n.role=(o=r[12])==null?void 0:o.role),a[0]&20480|a[3]&65536&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){x(e,r)}}}function g2(s){let e,t,l,r,a,n;return{c(){e=g("div"),t=g("div"),l=g("img"),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=b(e);t=v(i,"DIV",{class:!0});var c=b(t);l=v(c,"IMG",{src:!0,class:!0,alt:!0,"aria-label":!0}),c.forEach(d),i.forEach(d),this.h()},h(){var o;Gr(l.src,r=(o=s[12])==null?void 0:o.profile_image_url)||f(l,"src",r),f(l,"class","size-6 object-cover rounded-full"),f(l,"alt",a=s[14].t("Open User Profile Menu")),f(l,"aria-label",n=s[14].t("Open User Profile Menu")),f(t,"class","self-center flex items-center justify-center size-9"),f(e,"class","cursor-pointer flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition group")},m(o,i){P(o,e,i),u(e,t),u(t,l)},p(o,i){var c;i[0]&4096&&!Gr(l.src,r=(c=o[12])==null?void 0:c.profile_image_url)&&f(l,"src",r),i[0]&16384&&a!==(a=o[14].t("Open User Profile Menu"))&&f(l,"alt",a),i[0]&16384&&n!==(n=o[14].t("Open User Profile Menu"))&&f(l,"aria-label",n)},d(o){o&&d(e)}}}function $1(s){var gt,ft,de,tt,ut,be,Fe,Qe,Ke,nt,Rt,At,It,Je,ct,Ot,zt,ll,Ft,kt,Be,We,dt;let e,t,l,r,a=`<img crossorigin="anonymous" src="${Wi}/static/favicon.png" class="sidebar-new-chat-icon size-6 rounded-full" alt=""/>`,n,o,i,c,m,h,_,w,p,k,E,y,I,D,O,V,C,A,H,B=s[14].t("New Chat")+"",W,U,K,G,M,R,N,j,te,q,Z=s[14].t("Search")+"",le,ce,ae,ie,oe,fe,se,re,ne,me,_e,pe,ve,ge,Ce,Le,Oe,je,Ge,et;h=new Kt({props:{content:s[13]?s[14].t("Close Sidebar"):s[14].t("Open Sidebar"),placement:"bottom",$$slots:{default:[v2]},$$scope:{ctx:s}}}),V=new Ru({props:{className:" size-4.5",strokeWidth:"2"}}),N=new qi({props:{strokeWidth:"2",className:"size-4.5"}});let He=(((ft=(gt=s[20])==null?void 0:gt.features)==null?void 0:ft.enable_notes)??!1)&&(((de=s[12])==null?void 0:de.role)==="admin"||(((be=(ut=(tt=s[12])==null?void 0:tt.permissions)==null?void 0:ut.features)==null?void 0:be.notes)??!0))&&V1(s),Me=(((Fe=s[12])==null?void 0:Fe.role)==="admin"||((nt=(Ke=(Qe=s[12])==null?void 0:Qe.permissions)==null?void 0:Ke.workspace)==null?void 0:nt.models)||((It=(At=(Rt=s[12])==null?void 0:Rt.permissions)==null?void 0:At.workspace)==null?void 0:It.knowledge)||((Ot=(ct=(Je=s[12])==null?void 0:Je.permissions)==null?void 0:ct.workspace)==null?void 0:Ot.prompts)||((Ft=(ll=(zt=s[12])==null?void 0:zt.permissions)==null?void 0:ll.workspace)==null?void 0:Ft.tools))&&S1(s),$e=(s[22]??[]).length>0&&(((kt=s[23])==null?void 0:kt.pinnedModels)??[]).length>0&&T1(s),Re=((We=(Be=s[20])==null?void 0:Be.features)==null?void 0:We.enable_channels)&&(((dt=s[12])==null?void 0:dt.role)==="admin"||s[24].length>0)&&A1(s),Se=s[9]&&L1(s);ne=new Zi({props:{className:"px-2 mt-0.5",name:s[14].t("Chats"),chevron:!1,$$slots:{default:[D2]},$$scope:{ctx:s}}}),ne.$on("change",s[79]),ne.$on("import",s[80]),ne.$on("drop",s[81]);let ze=s[12]!==void 0&&s[12]!==null&&j1(s);return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("a"),r.innerHTML=a,n=S(),o=g("a"),i=g("div"),c=z(s[21]),m=S(),X(h.$$.fragment),_=S(),w=g("div"),k=S(),E=g("div"),y=g("div"),I=g("div"),D=g("a"),O=g("div"),X(V.$$.fragment),C=S(),A=g("div"),H=g("div"),W=z(B),K=S(),G=g("div"),M=g("button"),R=g("div"),X(N.$$.fragment),j=S(),te=g("div"),q=g("div"),le=z(Z),ae=S(),He&&He.c(),ie=S(),Me&&Me.c(),oe=S(),$e&&$e.c(),fe=S(),Re&&Re.c(),se=S(),Se&&Se.c(),re=S(),X(ne.$$.fragment),me=S(),_e=g("div"),pe=g("div"),ve=S(),ge=g("div"),ze&&ze.c(),this.h()},l(Te){e=v(Te,"DIV",{id:!0,class:!0,"data-state":!0});var ot=b(e);t=v(ot,"DIV",{class:!0});var $t=b(t);l=v($t,"DIV",{class:!0});var Vt=b(l);r=v(Vt,"A",{class:!0,href:!0,draggable:!0,"data-svelte-h":!0}),jt(r)!=="svelte-1c9e0tz"&&(r.innerHTML=a),n=T(Vt),o=v(Vt,"A",{href:!0,class:!0});var Pt=b(o);i=v(Pt,"DIV",{class:!0});var Dt=b(i);c=F(Dt,s[21]),Dt.forEach(d),Pt.forEach(d),m=T(Vt),ee(h.$$.fragment,Vt),_=T(Vt),w=v(Vt,"DIV",{class:!0}),b(w).forEach(d),Vt.forEach(d),k=T($t),E=v($t,"DIV",{class:!0});var Pe=b(E);y=v(Pe,"DIV",{class:!0});var lt=b(y);I=v(lt,"DIV",{class:!0});var yt=b(I);D=v(yt,"A",{id:!0,class:!0,href:!0,draggable:!0,"aria-label":!0});var Et=b(D);O=v(Et,"DIV",{class:!0});var vt=b(O);ee(V.$$.fragment,vt),vt.forEach(d),C=T(Et),A=v(Et,"DIV",{class:!0});var St=b(A);H=v(St,"DIV",{class:!0});var Ut=b(H);W=F(Ut,B),Ut.forEach(d),St.forEach(d),Et.forEach(d),yt.forEach(d),K=T(lt),G=v(lt,"DIV",{class:!0});var Bt=b(G);M=v(Bt,"BUTTON",{id:!0,class:!0,draggable:!0,"aria-label":!0});var Wt=b(M);R=v(Wt,"DIV",{class:!0});var Nt=b(R);ee(N.$$.fragment,Nt),Nt.forEach(d),j=T(Wt),te=v(Wt,"DIV",{class:!0});var Ht=b(te);q=v(Ht,"DIV",{class:!0});var ue=b(q);le=F(ue,Z),ue.forEach(d),Ht.forEach(d),Wt.forEach(d),Bt.forEach(d),ae=T(lt),He&&He.l(lt),ie=T(lt),Me&&Me.l(lt),lt.forEach(d),oe=T(Pe),$e&&$e.l(Pe),fe=T(Pe),Re&&Re.l(Pe),se=T(Pe),Se&&Se.l(Pe),re=T(Pe),ee(ne.$$.fragment,Pe),Pe.forEach(d),me=T($t),_e=v($t,"DIV",{class:!0});var Ue=b(_e);pe=v(Ue,"DIV",{class:!0}),b(pe).forEach(d),ve=T(Ue),ge=v(Ue,"DIV",{class:!0});var xe=b(ge);ze&&ze.l(xe),xe.forEach(d),Ue.forEach(d),$t.forEach(d),ot.forEach(d),this.h()},h(){f(r,"class","flex items-center rounded-xl size-8.5 h-full justify-center hover:bg-gray-100/50 dark:hover:bg-gray-850/50 transition no-drag-region"),f(r,"href","/"),f(r,"draggable","false"),f(i,"class","self-center font-medium text-gray-850 dark:text-white font-primary"),f(o,"href","/"),f(o,"class","flex flex-1 px-1.5"),f(w,"class",p=(s[0]>0?"visible":"invisible")+" sidebar-bg-gradient-to-b bg-linear-to-b from-gray-50 dark:from-gray-950 to-transparent from-50% pointer-events-none absolute inset-0 -z-10 -mb-6"),f(l,"class","sidebar px-2 pt-2 pb-1.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400 sticky top-0 z-10 -mb-3"),f(O,"class","self-center"),f(H,"class","self-center text-sm font-primary"),f(A,"class","flex self-center translate-y-[0.5px]"),f(D,"id","sidebar-new-chat-button"),f(D,"class","grow flex items-center space-x-3 rounded-2xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition outline-none"),f(D,"href","/"),f(D,"draggable","false"),f(D,"aria-label",U=s[14].t("New Chat")),f(I,"class","px-[7px] flex justify-center text-gray-800 dark:text-gray-200"),f(R,"class","self-center"),f(q,"class","self-center text-sm font-primary"),f(te,"class","flex self-center translate-y-[0.5px]"),f(M,"id","sidebar-search-button"),f(M,"class","grow flex items-center space-x-3 rounded-2xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition outline-none"),f(M,"draggable","false"),f(M,"aria-label",ce=s[14].t("Search")),f(G,"class","px-[7px] flex justify-center text-gray-800 dark:text-gray-200"),f(y,"class","pb-1.5"),f(E,"class","relative flex flex-col flex-1 overflow-y-auto scrollbar-hidden pt-3 pb-3"),f(pe,"class","sidebar-bg-gradient-to-t bg-linear-to-t from-gray-50 dark:from-gray-950 to-transparent from-50% pointer-events-none absolute inset-0 -z-10 -mt-6"),f(ge,"class","flex flex-col font-primary"),f(_e,"class","px-1.5 pt-1.5 pb-2 sticky bottom-0 z-10 -mt-3 sidebar"),f(t,"class",Ce="my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden scrollbar-hidden z-50 "+(s[13]?"":"invisible")),f(e,"id","sidebar"),f(e,"class",Le="h-screen max-h-[100dvh] min-h-screen select-none "+(s[13]?"bg-gray-50 dark:bg-gray-950 z-50":" bg-transparent z-0 ")+" "+(s[18]?"ml-[4.5rem] md:ml-0 ":" transition-all duration-300 ")+" shrink-0 text-gray-900 dark:text-gray-200 text-sm fixed top-0 left-0 overflow-x-hidden"),f(e,"data-state",s[13])},m(Te,ot){P(Te,e,ot),u(e,t),u(t,l),u(l,r),u(l,n),u(l,o),u(o,i),u(i,c),u(l,m),Q(h,l,null),u(l,_),u(l,w),u(t,k),u(t,E),u(E,y),u(y,I),u(I,D),u(D,O),Q(V,O,null),u(D,C),u(D,A),u(A,H),u(H,W),u(y,K),u(y,G),u(G,M),u(M,R),Q(N,R,null),u(M,j),u(M,te),u(te,q),u(q,le),u(y,ae),He&&He.m(y,null),u(y,ie),Me&&Me.m(y,null),u(E,oe),$e&&$e.m(E,null),u(E,fe),Re&&Re.m(E,null),u(E,se),Se&&Se.m(E,null),u(E,re),Q(ne,E,null),u(t,me),u(t,_e),u(_e,pe),u(_e,ve),u(_e,ge),ze&&ze.m(ge,null),s[84](e),je=!0,Ge||(et=[he(r,"click",s[35]),he(o,"click",s[35]),he(D,"click",s[35]),he(M,"click",s[55]),he(E,"scroll",s[82])],Ge=!0)},p(Te,ot){var Pt,Dt,Pe,lt,yt,Et,vt,St,Ut,Bt,Wt,Nt,Ht,ue,Ue,xe,qe,Tt,bt,Yt,gl,ul,ml;(!je||ot[0]&2097152)&&Y(c,Te[21]);const $t={};ot[0]&24576&&($t.content=Te[13]?Te[14].t("Close Sidebar"):Te[14].t("Open Sidebar")),ot[0]&24576|ot[3]&65536&&($t.$$scope={dirty:ot,ctx:Te}),h.$set($t),(!je||ot[0]&1&&p!==(p=(Te[0]>0?"visible":"invisible")+" sidebar-bg-gradient-to-b bg-linear-to-b from-gray-50 dark:from-gray-950 to-transparent from-50% pointer-events-none absolute inset-0 -z-10 -mb-6"))&&f(w,"class",p),(!je||ot[0]&16384)&&B!==(B=Te[14].t("New Chat")+"")&&Y(W,B),(!je||ot[0]&16384&&U!==(U=Te[14].t("New Chat")))&&f(D,"aria-label",U),(!je||ot[0]&16384)&&Z!==(Z=Te[14].t("Search")+"")&&Y(le,Z),(!je||ot[0]&16384&&ce!==(ce=Te[14].t("Search")))&&f(M,"aria-label",ce),(((Dt=(Pt=Te[20])==null?void 0:Pt.features)==null?void 0:Dt.enable_notes)??!1)&&(((Pe=Te[12])==null?void 0:Pe.role)==="admin"||(((Et=(yt=(lt=Te[12])==null?void 0:lt.permissions)==null?void 0:yt.features)==null?void 0:Et.notes)??!0))?He?(He.p(Te,ot),ot[0]&1052672&&$(He,1)):(He=V1(Te),He.c(),$(He,1),He.m(y,ie)):He&&(Ae(),L(He,1,1,()=>{He=null}),Ne()),((vt=Te[12])==null?void 0:vt.role)==="admin"||(Bt=(Ut=(St=Te[12])==null?void 0:St.permissions)==null?void 0:Ut.workspace)!=null&&Bt.models||(Ht=(Nt=(Wt=Te[12])==null?void 0:Wt.permissions)==null?void 0:Nt.workspace)!=null&&Ht.knowledge||(xe=(Ue=(ue=Te[12])==null?void 0:ue.permissions)==null?void 0:Ue.workspace)!=null&&xe.prompts||(bt=(Tt=(qe=Te[12])==null?void 0:qe.permissions)==null?void 0:Tt.workspace)!=null&&bt.tools?Me?Me.p(Te,ot):(Me=S1(Te),Me.c(),Me.m(y,null)):Me&&(Me.d(1),Me=null),(Te[22]??[]).length>0&&(((Yt=Te[23])==null?void 0:Yt.pinnedModels)??[]).length>0?$e?($e.p(Te,ot),ot[0]&12582912&&$($e,1)):($e=T1(Te),$e.c(),$($e,1),$e.m(E,fe)):$e&&(Ae(),L($e,1,1,()=>{$e=null}),Ne()),(ul=(gl=Te[20])==null?void 0:gl.features)!=null&&ul.enable_channels&&(((ml=Te[12])==null?void 0:ml.role)==="admin"||Te[24].length>0)?Re?(Re.p(Te,ot),ot[0]&17829888&&$(Re,1)):(Re=A1(Te),Re.c(),$(Re,1),Re.m(E,se)):Re&&(Ae(),L(Re,1,1,()=>{Re=null}),Ne()),Te[9]?Se?(Se.p(Te,ot),ot[0]&512&&$(Se,1)):(Se=L1(Te),Se.c(),$(Se,1),Se.m(E,re)):Se&&(Ae(),L(Se,1,1,()=>{Se=null}),Ne());const Vt={};ot[0]&16384&&(Vt.name=Te[14].t("Chats")),ot[0]&100712668|ot[3]&65536&&(Vt.$$scope={dirty:ot,ctx:Te}),ne.$set(Vt),Te[12]!==void 0&&Te[12]!==null?ze?(ze.p(Te,ot),ot[0]&4096&&$(ze,1)):(ze=j1(Te),ze.c(),$(ze,1),ze.m(ge,null)):ze&&(Ae(),L(ze,1,1,()=>{ze=null}),Ne()),(!je||ot[0]&8192&&Ce!==(Ce="my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] overflow-x-hidden scrollbar-hidden z-50 "+(Te[13]?"":"invisible")))&&f(t,"class",Ce),(!je||ot[0]&270336&&Le!==(Le="h-screen max-h-[100dvh] min-h-screen select-none "+(Te[13]?"bg-gray-50 dark:bg-gray-950 z-50":" bg-transparent z-0 ")+" "+(Te[18]?"ml-[4.5rem] md:ml-0 ":" transition-all duration-300 ")+" shrink-0 text-gray-900 dark:text-gray-200 text-sm fixed top-0 left-0 overflow-x-hidden"))&&f(e,"class",Le),(!je||ot[0]&8192)&&f(e,"data-state",Te[13])},i(Te){je||($(h.$$.fragment,Te),$(V.$$.fragment,Te),$(N.$$.fragment,Te),$(He),$($e),$(Re),$(Se),$(ne.$$.fragment,Te),$(ze),Te&&as(()=>{je&&(Oe||(Oe=ph(e,gh,{duration:250,axis:"x"},!0)),Oe.run(1))}),je=!0)},o(Te){L(h.$$.fragment,Te),L(V.$$.fragment,Te),L(N.$$.fragment,Te),L(He),L($e),L(Re),L(Se),L(ne.$$.fragment,Te),L(ze),Te&&(Oe||(Oe=ph(e,gh,{duration:250,axis:"x"},!1)),Oe.run(0)),je=!1},d(Te){Te&&d(e),x(h),x(V),x(N),He&&He.d(),Me&&Me.d(),$e&&$e.d(),Re&&Re.d(),Se&&Se.d(),x(ne),ze&&ze.d(),s[84](null),Te&&Oe&&Oe.end(),Ge=!1,Ct(et)}}}function v2(s){let e,t,l,r,a,n,o;return l=new y0({}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),this.h()},l(i){e=v(i,"BUTTON",{class:!0,"aria-label":!0});var c=b(e);t=v(c,"DIV",{class:!0});var m=b(t);ee(l.$$.fragment,m),m.forEach(d),c.forEach(d),this.h()},h(){f(t,"class","self-center p-1.5"),f(e,"class","flex rounded-xl size-8.5 justify-center items-center hover:bg-gray-100/50 dark:hover:bg-gray-850/50 transition "+(s[37]?"cursor-pointer":"cursor-[w-resize]")),f(e,"aria-label",r=s[13]?s[14].t("Close Sidebar"):s[14].t("Open Sidebar"))},m(i,c){P(i,e,c),u(e,t),Q(l,t,null),a=!0,n||(o=he(e,"click",s[54]),n=!0)},p(i,c){(!a||c[0]&24576&&r!==(r=i[13]?i[14].t("Close Sidebar"):i[14].t("Open Sidebar")))&&f(e,"aria-label",r)},i(i){a||($(l.$$.fragment,i),a=!0)},o(i){L(l.$$.fragment,i),a=!1},d(i){i&&d(e),x(l),n=!1,o()}}}function V1(s){let e,t,l,r,a,n,o,i=s[14].t("Notes")+"",c,m,h,_,w;return r=new S0({props:{className:"size-4.5",strokeWidth:"2"}}),{c(){e=g("div"),t=g("a"),l=g("div"),X(r.$$.fragment),a=S(),n=g("div"),o=g("div"),c=z(i),this.h()},l(p){e=v(p,"DIV",{class:!0});var k=b(e);t=v(k,"A",{id:!0,class:!0,href:!0,draggable:!0,"aria-label":!0});var E=b(t);l=v(E,"DIV",{class:!0});var y=b(l);ee(r.$$.fragment,y),y.forEach(d),a=T(E),n=v(E,"DIV",{class:!0});var I=b(n);o=v(I,"DIV",{class:!0});var D=b(o);c=F(D,i),D.forEach(d),I.forEach(d),E.forEach(d),k.forEach(d),this.h()},h(){f(l,"class","self-center"),f(o,"class","self-center text-sm font-primary"),f(n,"class","flex self-center translate-y-[0.5px]"),f(t,"id","sidebar-notes-button"),f(t,"class","grow flex items-center space-x-3 rounded-2xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),f(t,"href","/notes"),f(t,"draggable","false"),f(t,"aria-label",m=s[14].t("Notes")),f(e,"class","px-[7px] flex justify-center text-gray-800 dark:text-gray-200")},m(p,k){P(p,e,k),u(e,t),u(t,l),Q(r,l,null),u(t,a),u(t,n),u(n,o),u(o,c),h=!0,_||(w=he(t,"click",s[36]),_=!0)},p(p,k){(!h||k[0]&16384)&&i!==(i=p[14].t("Notes")+"")&&Y(c,i),(!h||k[0]&16384&&m!==(m=p[14].t("Notes")))&&f(t,"aria-label",m)},i(p){h||($(r.$$.fragment,p),h=!0)},o(p){L(r.$$.fragment,p),h=!1},d(p){p&&d(e),x(r),_=!1,w()}}}function S1(s){let e,t,l,r='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4.5"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',a,n,o,i=s[14].t("Workspace")+"",c,m,h,_;return{c(){e=g("div"),t=g("a"),l=g("div"),l.innerHTML=r,a=S(),n=g("div"),o=g("div"),c=z(i),this.h()},l(w){e=v(w,"DIV",{class:!0});var p=b(e);t=v(p,"A",{id:!0,class:!0,href:!0,draggable:!0,"aria-label":!0});var k=b(t);l=v(k,"DIV",{class:!0,"data-svelte-h":!0}),jt(l)!=="svelte-rr3yvl"&&(l.innerHTML=r),a=T(k),n=v(k,"DIV",{class:!0});var E=b(n);o=v(E,"DIV",{class:!0});var y=b(o);c=F(y,i),y.forEach(d),E.forEach(d),k.forEach(d),p.forEach(d),this.h()},h(){f(l,"class","self-center"),f(o,"class","self-center text-sm font-primary"),f(n,"class","flex self-center translate-y-[0.5px]"),f(t,"id","sidebar-workspace-button"),f(t,"class","grow flex items-center space-x-3 rounded-2xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),f(t,"href","/workspace"),f(t,"draggable","false"),f(t,"aria-label",m=s[14].t("Workspace")),f(e,"class","px-[7px] flex justify-center text-gray-800 dark:text-gray-200")},m(w,p){P(w,e,p),u(e,t),u(t,l),u(t,a),u(t,n),u(n,o),u(o,c),h||(_=he(t,"click",s[36]),h=!0)},p(w,p){p[0]&16384&&i!==(i=w[14].t("Workspace")+"")&&Y(c,i),p[0]&16384&&m!==(m=w[14].t("Workspace"))&&f(t,"aria-label",m)},d(w){w&&d(e),h=!1,_()}}}function T1(s){let e,t,l;function r(n){s[56](n)}let a={shiftKey:s[2]};return s[3]!==void 0&&(a.selectedChatId=s[3]),e=new f2({props:a}),ye.push(()=>Ie(e,"selectedChatId",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,o){const i={};o[0]&4&&(i.shiftKey=n[2]),!t&&o[0]&8&&(t=!0,i.selectedChatId=n[3],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function A1(s){let e,t;return e=new Zi({props:{className:"px-2 mt-0.5",name:s[14].t("Channels"),chevron:!1,dragAndDrop:!1,onAdd:s[58],onAddLabel:s[14].t("Create Channel"),$$slots:{default:[b2]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&16384&&(a.name=l[14].t("Channels")),r[0]&4128&&(a.onAdd=l[58]),r[0]&16384&&(a.onAddLabel=l[14].t("Create Channel")),r[0]&16777216|r[3]&65536&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function N1(s){let e,t;return e=new Bv({props:{channel:s[106],onUpdate:s[57]}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&16777216&&(a.channel=l[106]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function b2(s){let e,t,l=ht(s[24]),r=[];for(let n=0;n<l.length;n+=1)r[n]=N1(k1(s,l,n));const a=n=>L(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=at()},l(n){for(let o=0;o<r.length;o+=1)r[o].l(n);e=at()},m(n,o){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(n,o);P(n,e,o),t=!0},p(n,o){if(o[0]&1090519040){l=ht(n[24]);let i;for(i=0;i<l.length;i+=1){const c=k1(n,l,i);r[i]?(r[i].p(c,o),$(r[i],1)):(r[i]=N1(c),r[i].c(),$(r[i],1),r[i].m(e.parentNode,e))}for(Ae(),i=l.length;i<r.length;i+=1)a(i);Ne()}},i(n){if(!t){for(let o=0;o<l.length;o+=1)$(r[o]);t=!0}},o(n){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)L(r[o]);t=!1},d(n){n&&d(e),il(r,n)}}}function L1(s){let e,t;return e=new Zi({props:{className:"px-2 mt-0.5",name:s[14].t("Folders"),chevron:!1,onAdd:s[64],onAddLabel:s[14].t("New Folder"),$$slots:{default:[w2]},$$scope:{ctx:s}}}),e.$on("drop",s[65]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&16384&&(a.name=l[14].t("Folders")),r[0]&256&&(a.onAdd=l[64]),r[0]&16384&&(a.onAddLabel=l[14].t("New Folder")),r[0]&1540|r[3]&65536&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function w2(s){let e,t,l;function r(n){s[60](n)}let a={folders:s[9],shiftKey:s[2],onDelete:s[59]};return s[10]!==void 0&&(a.folderRegistry=s[10]),e=new Ev({props:a}),ye.push(()=>Ie(e,"folderRegistry",r)),e.$on("update",s[61]),e.$on("import",s[62]),e.$on("change",s[63]),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,o){const i={};o[0]&512&&(i.folders=n[9]),o[0]&4&&(i.shiftKey=n[2]),!t&&o[0]&1024&&(t=!0,i.folderRegistry=n[10],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function O1(s){let e,t,l,r,a;function n(i){s[70](i)}let o={buttonClassName:" text-gray-500",name:s[14].t("Pinned"),$$slots:{default:[k2]},$$scope:{ctx:s}};return s[4]!==void 0&&(o.open=s[4]),l=new Zi({props:o}),ye.push(()=>Ie(l,"open",n)),l.$on("change",s[71]),l.$on("import",s[72]),l.$on("drop",s[73]),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);t=v(c,"DIV",{class:!0});var m=b(t);ee(l.$$.fragment,m),m.forEach(d),c.forEach(d),this.h()},h(){f(t,"class","flex flex-col space-y-1 rounded-xl"),f(e,"class","mb-1")},m(i,c){P(i,e,c),u(e,t),Q(l,t,null),a=!0},p(i,c){const m={};c[0]&16384&&(m.name=i[14].t("Pinned")),c[0]&33554444|c[3]&65536&&(m.$$scope={dirty:c,ctx:i}),!r&&c[0]&16&&(r=!0,m.open=i[4],De(()=>r=!1)),l.$set(m)},i(i){a||($(l.$$.fragment,i),a=!0)},o(i){L(l.$$.fragment,i),a=!1},d(i){i&&d(e),x(l)}}}function M1(s,e){let t,l,r;function a(){return e[66](e[102])}function n(...o){return e[69](e[102],...o)}return l=new Fu({props:{className:"",id:e[102].id,title:e[102].title,shiftKey:e[2],selected:e[3]===e[102].id}}),l.$on("select",a),l.$on("unselect",e[67]),l.$on("change",e[68]),l.$on("tag",n),{key:s,first:null,c(){t=at(),X(l.$$.fragment),this.h()},l(o){t=at(),ee(l.$$.fragment,o),this.h()},h(){this.first=t},m(o,i){P(o,t,i),Q(l,o,i),r=!0},p(o,i){e=o;const c={};i[0]&33554432&&(c.id=e[102].id),i[0]&33554432&&(c.title=e[102].title),i[0]&4&&(c.shiftKey=e[2]),i[0]&33554440&&(c.selected=e[3]===e[102].id),l.$set(c)},i(o){r||($(l.$$.fragment,o),r=!0)},o(o){L(l.$$.fragment,o),r=!1},d(o){o&&d(t),x(l,o)}}}function k2(s){let e,t=[],l=new Map,r,a=ht(s[25]);const n=o=>{var i;return`pinned-chat-${((i=o[102])==null?void 0:i.id)??o[104]}`};for(let o=0;o<a.length;o+=1){let i=w1(s,a,o),c=n(i);l.set(c,t[o]=M1(c,i))}return{c(){e=g("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=v(o,"DIV",{class:!0});var i=b(e);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(d),this.h()},h(){f(e,"class","ml-3 pl-1 mt-[1px] flex flex-col overflow-y-auto scrollbar-hidden border-s border-gray-100 dark:border-gray-900 text-gray-900 dark:text-gray-200")},m(o,i){P(o,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r=!0},p(o,i){i[0]&33554444|i[1]&9&&(a=ht(o[25]),Ae(),t=ks(t,i,n,1,o,a,l,e,xs,M1,null,w1),Ne())},i(o){if(!r){for(let i=0;i<a.length;i+=1)$(t[i]);r=!0}},o(o){for(let i=0;i<t.length;i+=1)L(t[i]);r=!1},d(o){o&&d(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function y2(s){let e,t,l,r,a=s[14].t("Loading...")+"",n,o;return t=new pl({props:{className:" size-4"}}),{c(){e=g("div"),X(t.$$.fragment),l=S(),r=g("div"),n=z(a),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);ee(t.$$.fragment,c),l=T(c),r=v(c,"DIV",{class:!0});var m=b(r);n=F(m,a),m.forEach(d),c.forEach(d),this.h()},h(){f(r,"class",""),f(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(i,c){P(i,e,c),Q(t,e,null),u(e,l),u(e,r),u(r,n),o=!0},p(i,c){(!o||c[0]&16384)&&a!==(a=i[14].t("Loading...")+"")&&Y(n,a)},i(i){o||($(t.$$.fragment,i),o=!0)},o(i){L(t.$$.fragment,i),o=!1},d(i){i&&d(e),x(t)}}}function E2(s){let e=[],t=new Map,l,r,a,n=ht(s[15]);const o=c=>{var m;return`chat-${((m=c[102])==null?void 0:m.id)??c[104]}`};for(let c=0;c<n.length;c+=1){let m=b1(s,n,c),h=o(m);t.set(h,e[c]=P1(h,m))}let i=s[26]&&!s[7]&&U1(s);return{c(){for(let c=0;c<e.length;c+=1)e[c].c();l=S(),i&&i.c(),r=at()},l(c){for(let m=0;m<e.length;m+=1)e[m].l(c);l=T(c),i&&i.l(c),r=at()},m(c,m){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(c,m);P(c,l,m),i&&i.m(c,m),P(c,r,m),a=!0},p(c,m){m[0]&49164|m[1]&9&&(n=ht(c[15]),Ae(),e=ks(e,m,o,1,c,n,t,l.parentNode,xs,P1,l,b1),Ne()),c[26]&&!c[7]?i?(i.p(c,m),m[0]&67108992&&$(i,1)):(i=U1(c),i.c(),$(i,1),i.m(r.parentNode,r)):i&&(Ae(),L(i,1,1,()=>{i=null}),Ne())},i(c){if(!a){for(let m=0;m<n.length;m+=1)$(e[m]);$(i),a=!0}},o(c){for(let m=0;m<e.length;m+=1)L(e[m]);L(i),a=!1},d(c){c&&(d(l),d(r));for(let m=0;m<e.length;m+=1)e[m].d(c);i&&i.d(c)}}}function B1(s){let e,t=s[14].t(s[102].time_range)+"",l,r;return{c(){e=g("div"),l=z(t),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);l=F(n,t),n.forEach(d),this.h()},h(){f(e,"class",r="w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[104]===0?"":"pt-5")+" pb-1.5")},m(a,n){P(a,e,n),u(e,l)},p(a,n){n[0]&49152&&t!==(t=a[14].t(a[102].time_range)+"")&&Y(l,t),n[0]&32768&&r!==(r="w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(a[104]===0?"":"pt-5")+" pb-1.5")&&f(e,"class",r)},d(a){a&&d(e)}}}function P1(s,e){let t,l,r,a,n=(e[104]===0||e[104]>0&&e[102].time_range!==e[15][e[104]-1].time_range)&&B1(e);function o(){return e[74](e[102])}function i(...c){return e[77](e[102],...c)}return r=new Fu({props:{className:"",id:e[102].id,title:e[102].title,shiftKey:e[2],selected:e[3]===e[102].id}}),r.$on("select",o),r.$on("unselect",e[75]),r.$on("change",e[76]),r.$on("tag",i),{key:s,first:null,c(){t=at(),n&&n.c(),l=S(),X(r.$$.fragment),this.h()},l(c){t=at(),n&&n.l(c),l=T(c),ee(r.$$.fragment,c),this.h()},h(){this.first=t},m(c,m){P(c,t,m),n&&n.m(c,m),P(c,l,m),Q(r,c,m),a=!0},p(c,m){e=c,e[104]===0||e[104]>0&&e[102].time_range!==e[15][e[104]-1].time_range?n?n.p(e,m):(n=B1(e),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null);const h={};m[0]&32768&&(h.id=e[102].id),m[0]&32768&&(h.title=e[102].title),m[0]&4&&(h.shiftKey=e[2]),m[0]&32776&&(h.selected=e[3]===e[102].id),r.$set(h)},i(c){a||($(r.$$.fragment,c),a=!0)},o(c){L(r.$$.fragment,c),a=!1},d(c){c&&(d(t),d(l)),n&&n.d(c),x(r,c)}}}function U1(s){let e,t;return e=new v0({props:{$$slots:{default:[I2]},$$scope:{ctx:s}}}),e.$on("visible",s[78]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&16384|r[3]&65536&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function I2(s){let e,t,l,r,a=s[14].t("Loading...")+"",n,o;return t=new pl({props:{className:" size-4"}}),{c(){e=g("div"),X(t.$$.fragment),l=S(),r=g("div"),n=z(a),this.h()},l(i){e=v(i,"DIV",{class:!0});var c=b(e);ee(t.$$.fragment,c),l=T(c),r=v(c,"DIV",{class:!0});var m=b(r);n=F(m,a),m.forEach(d),c.forEach(d),this.h()},h(){f(r,"class",""),f(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(i,c){P(i,e,c),Q(t,e,null),u(e,l),u(e,r),u(r,n),o=!0},p(i,c){(!o||c[0]&16384)&&a!==(a=i[14].t("Loading...")+"")&&Y(n,a)},i(i){o||($(t.$$.fragment,i),o=!0)},o(i){L(t.$$.fragment,i),o=!1},d(i){i&&d(e),x(t)}}}function D2(s){let e,t,l,r,a,n,o=s[25].length>0&&O1(s);const i=[E2,y2],c=[];function m(h,_){return h[15]?0:1}return r=m(s),a=c[r]=i[r](s),{c(){o&&o.c(),e=S(),t=g("div"),l=g("div"),a.c(),this.h()},l(h){o&&o.l(h),e=T(h),t=v(h,"DIV",{class:!0});var _=b(t);l=v(_,"DIV",{class:!0});var w=b(l);a.l(w),w.forEach(d),_.forEach(d),this.h()},h(){f(l,"class","pt-1.5"),f(t,"class","flex-1 flex flex-col overflow-y-auto scrollbar-hidden")},m(h,_){o&&o.m(h,_),P(h,e,_),P(h,t,_),u(t,l),c[r].m(l,null),n=!0},p(h,_){h[25].length>0?o?(o.p(h,_),_[0]&33554432&&$(o,1)):(o=O1(h),o.c(),$(o,1),o.m(e.parentNode,e)):o&&(Ae(),L(o,1,1,()=>{o=null}),Ne());let w=r;r=m(h),r===w?c[r].p(h,_):(Ae(),L(c[w],1,1,()=>{c[w]=null}),Ne(),a=c[r],a?a.p(h,_):(a=c[r]=i[r](h),a.c()),$(a,1),a.m(l,null))},i(h){n||($(o),$(a),n=!0)},o(h){L(o),L(a),n=!1},d(h){h&&(d(e),d(t)),o&&o.d(h),c[r].d()}}}function j1(s){var l;let e,t;return e=new c0({props:{role:(l=s[12])==null?void 0:l.role,$$slots:{default:[C2]},$$scope:{ctx:s}}}),e.$on("show",s[83]),{c(){X(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){Q(e,r,a),t=!0},p(r,a){var o;const n={};a[0]&4096&&(n.role=(o=r[12])==null?void 0:o.role),a[0]&20480|a[3]&65536&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){x(e,r)}}}function C2(s){var h;let e,t,l,r,a,n,o,i,c=((h=s[12])==null?void 0:h.name)+"",m;return{c(){e=g("div"),t=g("div"),l=g("img"),o=S(),i=g("div"),m=z(c),this.h()},l(_){e=v(_,"DIV",{class:!0});var w=b(e);t=v(w,"DIV",{class:!0});var p=b(t);l=v(p,"IMG",{src:!0,class:!0,alt:!0,"aria-label":!0}),p.forEach(d),o=T(w),i=v(w,"DIV",{class:!0});var k=b(i);m=F(k,c),k.forEach(d),w.forEach(d),this.h()},h(){var _;Gr(l.src,r=(_=s[12])==null?void 0:_.profile_image_url)||f(l,"src",r),f(l,"class","size-6 object-cover rounded-full"),f(l,"alt",a=s[14].t("Open User Profile Menu")),f(l,"aria-label",n=s[14].t("Open User Profile Menu")),f(t,"class","self-center mr-3"),f(i,"class","self-center font-medium"),f(e,"class","flex items-center rounded-2xl py-2 px-1.5 w-full hover:bg-gray-100/50 dark:hover:bg-gray-900/50 transition")},m(_,w){P(_,e,w),u(e,t),u(t,l),u(e,o),u(e,i),u(i,m)},p(_,w){var p,k;w[0]&4096&&!Gr(l.src,r=(p=_[12])==null?void 0:p.profile_image_url)&&f(l,"src",r),w[0]&16384&&a!==(a=_[14].t("Open User Profile Menu"))&&f(l,"alt",a),w[0]&16384&&n!==(n=_[14].t("Open User Profile Menu"))&&f(l,"aria-label",n),w[0]&4096&&c!==(c=((k=_[12])==null?void 0:k.name)+"")&&Y(m,c)},d(_){_&&d(e)}}}function $2(s){let e,t,l,r,a,n,o,i,c,m,h,_,w,p,k,E,y,I,D,O;function V(N){s[39](N)}let C={onUpdate:s[38]};s[16]!==void 0&&(C.show=s[16]),e=new D0({props:C}),ye.push(()=>Ie(e,"show",V));function A(N){s[41](N)}let H={onSubmit:s[40]};s[5]!==void 0&&(H.show=s[5]),r=new V0({props:H}),ye.push(()=>Ie(r,"show",A));function B(N){s[43](N)}let W={onSubmit:s[42]};s[8]!==void 0&&(W.show=s[8]),o=new f0({props:W}),ye.push(()=>Ie(o,"show",B));let U=s[13]&&y1(s);function K(N){s[46](N)}let G={onClose:s[45]};s[19]!==void 0&&(G.show=s[19]),h=new xv({props:G}),ye.push(()=>Ie(h,"show",K));let M=!s[11]&&!s[13]&&E1(s),R=s[13]&&$1(s);return{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment),n=S(),X(o.$$.fragment),c=S(),U&&U.c(),m=S(),X(h.$$.fragment),w=S(),p=g("button"),k=S(),M&&M.c(),E=S(),R&&R.c(),y=at(),this.h()},l(N){ee(e.$$.fragment,N),l=T(N),ee(r.$$.fragment,N),n=T(N),ee(o.$$.fragment,N),c=T(N),U&&U.l(N),m=T(N),ee(h.$$.fragment,N),w=T(N),p=v(N,"BUTTON",{id:!0,class:!0}),b(p).forEach(d),k=T(N),M&&M.l(N),E=T(N),R&&R.l(N),y=at(),this.h()},h(){f(p,"id","sidebar-new-chat-button"),f(p,"class","hidden")},m(N,j){Q(e,N,j),P(N,l,j),Q(r,N,j),P(N,n,j),Q(o,N,j),P(N,c,j),U&&U.m(N,j),P(N,m,j),Q(h,N,j),P(N,w,j),P(N,p,j),P(N,k,j),M&&M.m(N,j),P(N,E,j),R&&R.m(N,j),P(N,y,j),I=!0,D||(O=he(p,"click",s[47]),D=!0)},p(N,j){const te={};!t&&j[0]&65536&&(t=!0,te.show=N[16],De(()=>t=!1)),e.$set(te);const q={};j[0]&135200&&(q.onSubmit=N[40]),!a&&j[0]&32&&(a=!0,q.show=N[5],De(()=>a=!1)),r.$set(q);const Z={};j[0]&256&&(Z.onSubmit=N[42]),!i&&j[0]&256&&(i=!0,Z.show=N[8],De(()=>i=!1)),o.$set(Z),N[13]?U?U.p(N,j):(U=y1(N),U.c(),U.m(m.parentNode,m)):U&&(U.d(1),U=null);const le={};j[0]&2048&&(le.onClose=N[45]),!_&&j[0]&524288&&(_=!0,le.show=N[19],De(()=>_=!1)),h.$set(le),!N[11]&&!N[13]?M?(M.p(N,j),j[0]&10240&&$(M,1)):(M=E1(N),M.c(),$(M,1),M.m(E.parentNode,E)):M&&(Ae(),L(M,1,1,()=>{M=null}),Ne()),N[13]?R?(R.p(N,j),j[0]&8192&&$(R,1)):(R=$1(N),R.c(),$(R,1),R.m(y.parentNode,y)):R&&(Ae(),L(R,1,1,()=>{R=null}),Ne())},i(N){I||($(e.$$.fragment,N),$(r.$$.fragment,N),$(o.$$.fragment,N),$(h.$$.fragment,N),$(M),$(R),I=!0)},o(N){L(e.$$.fragment,N),L(r.$$.fragment,N),L(o.$$.fragment,N),L(h.$$.fragment,N),L(M),L(R),I=!1},d(N){N&&(d(l),d(n),d(c),d(m),d(w),d(p),d(k),d(E),d(y)),x(e,N),x(r,N),x(o,N),U&&U.d(N),x(h,N),M&&M.d(N),R&&R.d(N),D=!1,O()}}}function V2(s,e,t){let l,r,a,n,o,i,c,m,h,_,w,p,k,E,y,I,D;Ee(s,Sa,ue=>t(11,l=ue)),Ee(s,Vl,ue=>t(12,r=ue)),Ee(s,el,ue=>t(13,a=ue)),Ee(s,rs,ue=>t(15,o=ue)),Ee(s,Il,ue=>t(90,i=ue)),Ee(s,ji,ue=>t(16,c=ue)),Ee(s,h_,ue=>t(17,m=ue)),Ee(s,m_,ue=>t(18,h=ue)),Ee(s,Da,ue=>t(19,_=ue)),Ee(s,Dl,ue=>t(20,w=ue)),Ee(s,Mu,ue=>t(21,p=ue)),Ee(s,Yi,ue=>t(22,k=ue)),Ee(s,tl,ue=>t(23,E=ue)),Ee(s,vh,ue=>t(24,y=ue)),Ee(s,Kr,ue=>t(25,I=ue)),Ee(s,Ca,ue=>t(26,D=ue));const O=Lt("i18n");Ee(s,O,ue=>t(14,n=ue));let V=0,C,A=!1,H=null,B=!0,W=!1,U=!1,K=!1,G=!1,M={},R={};const N=async()=>{const ue=await Y_(localStorage.token).catch(Ue=>(Ye.error(`${Ue}`),[]));Ou.set(ue.sort((Ue,xe)=>xe.updated_at-Ue.updated_at)),t(9,M={});for(const Ue of ue)t(9,M[Ue.id]={...M[Ue.id]||{},...Ue},M);for(const Ue of ue)Ue.parent_id&&(M[Ue.parent_id]||t(9,M[Ue.parent_id]={},M),t(9,M[Ue.parent_id].childrenIds=M[Ue.parent_id].childrenIds?[...M[Ue.parent_id].childrenIds,Ue.id]:[Ue.id],M),M[Ue.parent_id].childrenIds.sort((xe,qe)=>M[qe].updated_at-M[xe].updated_at))},j=async({name:ue,data:Ue})=>{if(ue===""){Ye.error(n.t("Folder name cannot be empty."));return}const xe=Object.values(M).filter(bt=>bt.parent_id===null);if(xe.find(bt=>bt.name.toLowerCase()===ue.toLowerCase())){let bt=1;for(;xe.find(Yt=>Yt.name.toLowerCase()===`${ue} ${bt}`.toLowerCase());)bt++;ue=`${ue} ${bt}`}const qe=k_();t(9,M={...M,tempId:{id:qe,name:ue,created_at:Date.now(),updated_at:Date.now()}}),await q_(localStorage.token,{name:ue,data:Ue}).catch(bt=>(Ye.error(`${bt}`),null))&&await N()},te=async()=>{await vh.set(await fp(localStorage.token))},q=async()=>{Il.set(1),t(7,K=!1),N(),await Promise.all([await(async()=>{const ue=await Bu(localStorage.token);Fi.set(ue)})(),await(async()=>{const ue=await bo(localStorage.token);Kr.set(ue)})(),await(async()=>{const ue=await $l(localStorage.token,i);await rs.set(ue)})()]),Ca.set(!0)},Z=async()=>{t(6,U=!0),Il.set(i+1);let ue=[];ue=await $l(localStorage.token,i),t(7,K=ue.length===0),await rs.set([...o||[],...ue]),t(6,U=!1)},le=async(ue,Ue=!1,xe=null)=>{for(const qe of ue)qe.chat&&await $a(localStorage.token,qe.chat,(qe==null?void 0:qe.meta)??{},Ue,xe,(qe==null?void 0:qe.created_at)??null,(qe==null?void 0:qe.updated_at)??null);q()},ce=async ue=>{for(const Ue of ue){const xe=new FileReader;xe.onload=async qe=>{const Tt=qe.target.result;try{const bt=JSON.parse(Tt);le(bt)}catch{Ye.error(n.t("Invalid file format."))}},xe.readAsText(Ue)}},ae=async(ue,Ue,xe)=>{(ue==="delete"||ue==="add")&&q()},ie=ue=>{var Ue,xe;ue.preventDefault(),(xe=(Ue=ue.dataTransfer)==null?void 0:Ue.types)!=null&&xe.includes("Files")},oe=()=>{},fe=async ue=>{var Ue,xe;if(ue.preventDefault(),(Ue=ue.dataTransfer)!=null&&Ue.files){const qe=Array.from((xe=ue.dataTransfer)==null?void 0:xe.files);qe&&qe.length>0&&ce(qe)}};let se,re;function ne(){const ue=window.innerWidth,Ue=Math.abs(re.screenX-se.screenX);se.clientX<40&&Ue>=ue/8&&(re.screenX<se.screenX&&el.set(!1),re.screenX>se.screenX&&el.set(!0))}const me=ue=>{se=ue.changedTouches[0],se.clientX},_e=ue=>{re=ue.changedTouches[0],ne()},pe=ue=>{ue.key==="Shift"&&t(2,A=!0)},ve=ue=>{ue.key==="Shift"&&t(2,A=!1)},ge=()=>{},Ce=()=>{t(2,A=!1),t(3,H=null)};let Le=[];Gt(async()=>{t(4,B=localStorage!=null&&localStorage.showPinnedChat?localStorage.showPinnedChat==="true":!0),await el.set(l?!1:localStorage.sidebar==="true"),Le=[Sa.subscribe(Ue=>{if(a&&Ue&&el.set(!1),a&&!Ue){const xe=document.getElementsByTagName("nav")[0];xe&&(xe.style["-webkit-app-region"]="drag")}!a&&!Ue&&el.set(!0)}),el.subscribe(async Ue=>{localStorage.sidebar=Ue;const xe=document.getElementsByTagName("nav")[0];xe&&(l&&Ue?xe.style["-webkit-app-region"]="no-drag":xe.style["-webkit-app-region"]="drag"),Ue&&(await te(),await q())})],window.addEventListener("keydown",pe),window.addEventListener("keyup",ve),window.addEventListener("touchstart",me),window.addEventListener("touchend",_e),window.addEventListener("focus",ge),window.addEventListener("blur",Ce);const ue=document.getElementById("sidebar");ue==null||ue.addEventListener("dragover",ie),ue==null||ue.addEventListener("drop",fe),ue==null||ue.addEventListener("dragleave",oe)}),Na(()=>{Le&&Le.length>0&&Le.forEach(Ue=>{Ue&&Ue()}),window.removeEventListener("keydown",pe),window.removeEventListener("keyup",ve),window.removeEventListener("touchstart",me),window.removeEventListener("touchend",_e),window.removeEventListener("focus",ge),window.removeEventListener("blur",Ce);const ue=document.getElementById("sidebar");ue==null||ue.removeEventListener("dragover",ie),ue==null||ue.removeEventListener("drop",fe),ue==null||ue.removeEventListener("dragleave",oe)});const Oe=async()=>{var ue,Ue;t(3,H=null),gs.set(null),(r==null?void 0:r.role)!=="admin"&&((Ue=(ue=r==null?void 0:r.permissions)==null?void 0:ue.chat)!=null&&Ue.temporary_enforced)?await Fr.set(!0):await Fr.set(!1),setTimeout(()=>{l&&el.set(!1)},0)},je=async()=>{t(3,H=null),zi.set(""),l&&el.set(!1),await al()},Ge=/Windows/i.test(navigator.userAgent),et=async()=>{await q()};function He(ue){c=ue,ji.set(c)}const Me=async({name:ue,access_control:Ue})=>{await up(localStorage.token,{name:ue,access_control:Ue}).catch(qe=>(Ye.error(`${qe}`),null))&&(m.emit("join-channels",{auth:{token:r==null?void 0:r.token}}),await te(),t(5,W=!1))};function $e(ue){W=ue,t(5,W)}const Re=async ue=>{await j(ue),t(8,G=!1)};function Se(ue){G=ue,t(8,G)}const ze=()=>{el.set(!a)},gt=()=>{l&&el.set(!1)};function ft(ue){_=ue,Da.set(_)}const de=()=>{nl("/"),Oe()},tt=async ue=>{ue.stopImmediatePropagation(),ue.preventDefault(),nl("/"),Oe()},ut=ue=>{ue.stopImmediatePropagation(),ue.preventDefault(),Da.set(!0)},be=async ue=>{ue.stopImmediatePropagation(),ue.preventDefault(),nl("/notes"),je()},Fe=async ue=>{ue.stopImmediatePropagation(),ue.preventDefault(),nl("/workspace"),je()},Qe=async()=>{el.set(!a)},Ke=ue=>{ue.detail==="archived-chat"&&ji.set(!0)},nt=()=>{el.set(!a)},Rt=()=>{Da.set(!0)};function At(ue){H=ue,t(3,H)}const It=async()=>{await te()},Je=async()=>{(r==null?void 0:r.role)==="admin"&&(await al(),setTimeout(()=>{t(5,W=!0)},0))},ct=ue=>{gs.set(null),q()};function Ot(ue){R=ue,t(10,R)}const zt=()=>{q()},ll=ue=>{const{folderId:Ue,items:xe}=ue.detail;le(xe,!1,Ue)},Ft=async()=>{q()},kt=()=>{t(8,G=!0)},Be=async ue=>{const{type:Ue,id:xe,item:qe}=ue.detail;if(Ue==="folder"){if(M[xe].parent_id===null)return;await $u(localStorage.token,xe,null).catch(bt=>(Ye.error(`${bt}`),null))&&await N()}},We=ue=>{t(3,H=ue.id)},dt=()=>{t(3,H=null)},Te=async()=>{q()},ot=(ue,Ue)=>{const{type:xe,name:qe}=Ue.detail;ae(xe,qe,ue.id)};function $t(ue){B=ue,t(4,B)}const Vt=ue=>{localStorage.setItem("showPinnedChat",ue.detail),ue.detail},Pt=ue=>{le(ue.detail,!0)},Dt=async ue=>{const{type:Ue,id:xe,item:qe}=ue.detail;if(Ue==="chat"){let Tt=await vs(localStorage.token,xe).catch(bt=>null);!Tt&&qe&&(Tt=await $a(localStorage.token,qe.chat,(qe==null?void 0:qe.meta)??{},!1,null,(qe==null?void 0:qe.created_at)??null,(qe==null?void 0:qe.updated_at)??null)),Tt&&(Tt.folder_id&&await Gi(localStorage.token,Tt.id,null).catch(bt=>(Ye.error(`${bt}`),null)),Tt.pinned||await Cu(localStorage.token,Tt.id),q())}},Pe=ue=>{t(3,H=ue.id)},lt=()=>{t(3,H=null)},yt=async()=>{q()},Et=(ue,Ue)=>{const{type:xe,name:qe}=Ue.detail;ae(xe,qe,ue.id)},vt=ue=>{U||Z()},St=async ue=>{gs.set(null)},Ut=ue=>{le(ue.detail)},Bt=async ue=>{var Tt;const{type:Ue,id:xe,item:qe}=ue.detail;if(Ue==="chat"){let bt=await vs(localStorage.token,xe).catch(Yt=>null);!bt&&qe&&(bt=await $a(localStorage.token,qe.chat,(qe==null?void 0:qe.meta)??{},!1,null,(qe==null?void 0:qe.created_at)??null,(qe==null?void 0:qe.updated_at)??null)),bt&&(bt.folder_id&&(await Gi(localStorage.token,bt.id,null).catch(Yt=>(Ye.error(`${Yt}`),null)),(Tt=R[bt.folder_id])==null||Tt.setFolderItems()),bt.pinned&&await Cu(localStorage.token,bt.id),q())}else if(Ue==="folder"){if(M[xe].parent_id===null)return;await $u(localStorage.token,xe,null).catch(Yt=>(Ye.error(`${Yt}`),null))&&await N()}},Wt=ue=>{ue.target.scrollTop===0?t(0,V=0):t(0,V=ue.target.scrollTop)},Nt=ue=>{ue.detail==="archived-chat"&&ji.set(!0)};function Ht(ue){ye[ue?"unshift":"push"](()=>{C=ue,t(1,C)})}return[V,C,A,H,B,W,U,K,G,M,R,l,r,a,n,o,c,m,h,_,w,p,k,E,y,I,D,O,N,j,te,q,Z,le,ae,Oe,je,Ge,et,He,Me,$e,Re,Se,ze,gt,ft,de,tt,ut,be,Fe,Qe,Ke,nt,Rt,At,It,Je,ct,Ot,zt,ll,Ft,kt,Be,We,dt,Te,ot,$t,Vt,Pt,Dt,Pe,lt,yt,Et,vt,St,Ut,Bt,Wt,Nt,Ht]}class S2 extends mt{constructor(e){super(),_t(this,e,V2,$2,pt,{},null,[-1,-1,-1,-1])}}function R1(s){let e,t,l,r=s[4].t("Current Password")+"",a,n,o,i,c,m,h,_,w=s[4].t("New Password")+"",p,k,E,y,I,D,O,V,C=s[4].t("Confirm Password")+"",A,H,B,W,U,K,G,M,R=s[4].t("Update password")+"",N,j;function te(ie){s[8](ie)}let q={class:"w-full bg-transparent text-sm dark:text-gray-300 outline-hidden placeholder:opacity-30",type:"password",placeholder:s[4].t("Enter your current password"),autocomplete:"current-password",required:!0};s[1]!==void 0&&(q.value=s[1]),i=new wo({props:q}),ye.push(()=>Ie(i,"value",te));function Z(ie){s[9](ie)}let le={class:"w-full bg-transparent text-sm dark:text-gray-300 outline-hidden placeholder:opacity-30",type:"password",placeholder:s[4].t("Enter your new password"),autocomplete:"new-password",required:!0};s[2]!==void 0&&(le.value=s[2]),y=new wo({props:le}),ye.push(()=>Ie(y,"value",Z));function ce(ie){s[10](ie)}let ae={class:"w-full bg-transparent text-sm dark:text-gray-300 outline-hidden placeholder:opacity-30",type:"password",placeholder:s[4].t("Confirm your new password"),autocomplete:"off",required:!0};return s[3]!==void 0&&(ae.value=s[3]),W=new wo({props:ae}),ye.push(()=>Ie(W,"value",ce)),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),m=S(),h=g("div"),_=g("div"),p=z(w),k=S(),E=g("div"),X(y.$$.fragment),D=S(),O=g("div"),V=g("div"),A=z(C),H=S(),B=g("div"),X(W.$$.fragment),K=S(),G=g("div"),M=g("button"),N=z(R),this.h()},l(ie){e=v(ie,"DIV",{class:!0});var oe=b(e);t=v(oe,"DIV",{class:!0});var fe=b(t);l=v(fe,"DIV",{class:!0});var se=b(l);a=F(se,r),se.forEach(d),n=T(fe),o=v(fe,"DIV",{class:!0});var re=b(o);ee(i.$$.fragment,re),re.forEach(d),fe.forEach(d),m=T(oe),h=v(oe,"DIV",{class:!0});var ne=b(h);_=v(ne,"DIV",{class:!0});var me=b(_);p=F(me,w),me.forEach(d),k=T(ne),E=v(ne,"DIV",{class:!0});var _e=b(E);ee(y.$$.fragment,_e),_e.forEach(d),ne.forEach(d),D=T(oe),O=v(oe,"DIV",{class:!0});var pe=b(O);V=v(pe,"DIV",{class:!0});var ve=b(V);A=F(ve,C),ve.forEach(d),H=T(pe),B=v(pe,"DIV",{class:!0});var ge=b(B);ee(W.$$.fragment,ge),ge.forEach(d),pe.forEach(d),oe.forEach(d),K=T(ie),G=v(ie,"DIV",{class:!0});var Ce=b(G);M=v(Ce,"BUTTON",{class:!0});var Le=b(M);N=F(Le,R),Le.forEach(d),Ce.forEach(d),this.h()},h(){f(l,"class","mb-1 text-xs text-gray-500"),f(o,"class","flex-1"),f(t,"class","flex flex-col w-full"),f(_,"class","mb-1 text-xs text-gray-500"),f(E,"class","flex-1"),f(h,"class","flex flex-col w-full"),f(V,"class","mb-1 text-xs text-gray-500"),f(B,"class","flex-1"),f(O,"class","flex flex-col w-full"),f(e,"class","py-2.5 space-y-1.5"),f(M,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(G,"class","mt-3 flex justify-end")},m(ie,oe){P(ie,e,oe),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),u(e,m),u(e,h),u(h,_),u(_,p),u(h,k),u(h,E),Q(y,E,null),u(e,D),u(e,O),u(O,V),u(V,A),u(O,H),u(O,B),Q(W,B,null),P(ie,K,oe),P(ie,G,oe),u(G,M),u(M,N),j=!0},p(ie,oe){(!j||oe&16)&&r!==(r=ie[4].t("Current Password")+"")&&Y(a,r);const fe={};oe&16&&(fe.placeholder=ie[4].t("Enter your current password")),!c&&oe&2&&(c=!0,fe.value=ie[1],De(()=>c=!1)),i.$set(fe),(!j||oe&16)&&w!==(w=ie[4].t("New Password")+"")&&Y(p,w);const se={};oe&16&&(se.placeholder=ie[4].t("Enter your new password")),!I&&oe&4&&(I=!0,se.value=ie[2],De(()=>I=!1)),y.$set(se),(!j||oe&16)&&C!==(C=ie[4].t("Confirm Password")+"")&&Y(A,C);const re={};oe&16&&(re.placeholder=ie[4].t("Confirm your new password")),!U&&oe&8&&(U=!0,re.value=ie[3],De(()=>U=!1)),W.$set(re),(!j||oe&16)&&R!==(R=ie[4].t("Update password")+"")&&Y(N,R)},i(ie){j||($(i.$$.fragment,ie),$(y.$$.fragment,ie),$(W.$$.fragment,ie),j=!0)},o(ie){L(i.$$.fragment,ie),L(y.$$.fragment,ie),L(W.$$.fragment,ie),j=!1},d(ie){ie&&(d(e),d(K),d(G)),x(i),x(y),x(W)}}}function T2(s){let e,t,l,r=s[4].t("Change Password")+"",a,n,o,i=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",c,m,h,_,w,p=s[0]&&R1(s);return{c(){e=g("form"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("button"),c=z(i),m=S(),p&&p.c(),this.h()},l(k){e=v(k,"FORM",{class:!0});var E=b(e);t=v(E,"DIV",{class:!0});var y=b(t);l=v(y,"DIV",{class:!0});var I=b(l);a=F(I,r),I.forEach(d),n=T(y),o=v(y,"BUTTON",{class:!0,type:!0});var D=b(o);c=F(D,i),D.forEach(d),y.forEach(d),m=T(E),p&&p.l(E),E.forEach(d),this.h()},h(){f(l,"class","font-medium"),f(o,"class","text-xs font-medium text-gray-500"),f(o,"type","button"),f(t,"class","flex justify-between items-center text-sm"),f(e,"class","flex flex-col text-sm")},m(k,E){P(k,e,E),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),u(o,c),u(e,m),p&&p.m(e,null),h=!0,_||(w=[he(o,"click",s[7]),he(e,"submit",ws(s[11]))],_=!0)},p(k,[E]){(!h||E&16)&&r!==(r=k[4].t("Change Password")+"")&&Y(a,r),(!h||E&17)&&i!==(i=(k[0]?k[4].t("Hide"):k[4].t("Show"))+"")&&Y(c,i),k[0]?p?(p.p(k,E),E&1&&$(p,1)):(p=R1(k),p.c(),$(p,1),p.m(e,null)):p&&(Ae(),L(p,1,1,()=>{p=null}),Ne())},i(k){h||($(p),h=!0)},o(k){L(p),h=!1},d(k){k&&d(e),p&&p.d(),_=!1,Ct(w)}}}function A2(s,e,t){let l;const r=Lt("i18n");Ee(s,r,k=>t(4,l=k));let a=!1,n="",o="",i="";const c=async()=>{o===i?(await wp(localStorage.token,n,o).catch(E=>(Ye.error(`${E}`),null))&&Ye.success(l.t("Successfully updated.")),t(1,n=""),t(2,o=""),t(3,i="")):(Ye.error(l.t("The passwords you entered don't quite match. Please double-check and try again.")),t(2,o=""),t(3,i=""))},m=()=>{t(0,a=!a)};function h(k){n=k,t(1,n)}function _(k){o=k,t(2,o)}function w(k){i=k,t(3,i)}return[a,n,o,i,l,r,c,m,h,_,w,()=>{c()}]}class N2 extends mt{constructor(e){super(),_t(this,e,A2,T2,pt,{})}}function H1(s){let e,t,l,r;return{c(){e=g("input"),this.h()},l(a){e=v(a,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){f(e,"class","w-full text-sm dark:text-gray-300 bg-transparent outline-hidden mt-1"),f(e,"type","text"),e.required=!0,f(e,"placeholder",t=s[12].t("Enter your gender"))},m(a,n){P(a,e,n),Xe(e,s[5]),l||(r=he(e,"input",s[24]),l=!0)},p(a,n){n[0]&4096&&t!==(t=a[12].t("Enter your gender"))&&f(e,"placeholder",t),n[0]&32&&e.value!==a[5]&&Xe(e,a[5])},d(a){a&&d(e),l=!1,r()}}}function z1(s){let e,t,l,r=s[12].t("Notification Webhook")+"",a,n,o,i,c,m,h;return{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),i=g("input"),this.h()},l(_){e=v(_,"DIV",{class:!0});var w=b(e);t=v(w,"DIV",{class:!0});var p=b(t);l=v(p,"DIV",{class:!0});var k=b(l);a=F(k,r),k.forEach(d),n=T(p),o=v(p,"DIV",{class:!0});var E=b(o);i=v(E,"INPUT",{class:!0,type:!0,placeholder:!0}),E.forEach(d),p.forEach(d),w.forEach(d),this.h()},h(){f(l,"class","mb-1 text-xs font-medium"),f(i,"class","w-full text-sm outline-hidden"),f(i,"type","url"),f(i,"placeholder",c=s[12].t("Enter your webhook URL")),i.required=!0,f(o,"class","flex-1"),f(t,"class","flex flex-col w-full"),f(e,"class","mt-2")},m(_,w){P(_,e,w),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),u(o,i),Xe(i,s[7]),m||(h=he(i,"input",s[26]),m=!0)},p(_,w){w[0]&4096&&r!==(r=_[12].t("Notification Webhook")+"")&&Y(a,r),w[0]&4096&&c!==(c=_[12].t("Enter your webhook URL"))&&f(i,"placeholder",c),w[0]&128&&i.value!==_[7]&&Xe(i,_[7])},d(_){_&&d(e),m=!1,h()}}}function F1(s){let e,t,l;return t=new N2({}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","mt-2")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function W1(s){let e,t,l=s[12].t("API keys")+"",r,a,n,o=(s[8]?s[12].t("Hide"):s[12].t("Show"))+"",i,c,m,h,_,w,p=s[8]&&K1(s);return{c(){e=g("div"),t=g("div"),r=z(l),a=S(),n=g("button"),i=z(o),c=S(),p&&p.c(),m=at(),this.h()},l(k){e=v(k,"DIV",{class:!0});var E=b(e);t=v(E,"DIV",{class:!0});var y=b(t);r=F(y,l),y.forEach(d),a=T(E),n=v(E,"BUTTON",{class:!0,type:!0});var I=b(n);i=F(I,o),I.forEach(d),E.forEach(d),c=T(k),p&&p.l(k),m=at(),this.h()},h(){f(t,"class","font-medium"),f(n,"class","text-xs font-medium text-gray-500"),f(n,"type","button"),f(e,"class","flex justify-between items-center text-sm mt-2")},m(k,E){P(k,e,E),u(e,t),u(t,r),u(e,a),u(e,n),u(n,i),P(k,c,E),p&&p.m(k,E),P(k,m,E),h=!0,_||(w=he(n,"click",s[27]),_=!0)},p(k,E){(!h||E[0]&4096)&&l!==(l=k[12].t("API keys")+"")&&Y(r,l),(!h||E[0]&4352)&&o!==(o=(k[8]?k[12].t("Hide"):k[12].t("Show"))+"")&&Y(i,o),k[8]?p?(p.p(k,E),E[0]&256&&$(p,1)):(p=K1(k),p.c(),$(p,1),p.m(m.parentNode,m)):p&&(Ae(),L(p,1,1,()=>{p=null}),Ne())},i(k){h||($(p),h=!0)},o(k){L(p),h=!1},d(k){k&&(d(e),d(c),d(m)),p&&p.d(k),_=!1,w()}}}function K1(s){var n,o,i;let e,t,l,r=((n=s[13])==null?void 0:n.role)==="admin"&&G1(s),a=(((i=(o=s[14])==null?void 0:o.features)==null?void 0:i.enable_api_key)??!0)&&Y1(s);return{c(){e=g("div"),r&&r.c(),t=S(),a&&a.c(),this.h()},l(c){e=v(c,"DIV",{class:!0});var m=b(e);r&&r.l(m),t=T(m),a&&a.l(m),m.forEach(d),this.h()},h(){f(e,"class","flex flex-col py-2.5")},m(c,m){P(c,e,m),r&&r.m(e,null),u(e,t),a&&a.m(e,null),l=!0},p(c,m){var h,_,w;((h=c[13])==null?void 0:h.role)==="admin"?r?(r.p(c,m),m[0]&8192&&$(r,1)):(r=G1(c),r.c(),$(r,1),r.m(e,t)):r&&(Ae(),L(r,1,1,()=>{r=null}),Ne()),((w=(_=c[14])==null?void 0:_.features)==null?void 0:w.enable_api_key)??!0?a?(a.p(c,m),m[0]&16384&&$(a,1)):(a=Y1(c),a.c(),$(a,1),a.m(e,null)):a&&(Ae(),L(a,1,1,()=>{a=null}),Ne())},i(c){l||($(r),$(a),l=!0)},o(c){L(r),L(a),l=!1},d(c){c&&d(e),r&&r.d(),a&&a.d()}}}function G1(s){let e,t,l,r=s[12].t("JWT Token")+"",a,n,o,i,c,m,h,_,w;i=new wo({props:{value:localStorage.token,readOnly:!0}});function p(y,I){return y[9]?O2:L2}let k=p(s),E=k(s);return{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),c=S(),m=g("button"),E.c(),this.h()},l(y){e=v(y,"DIV",{class:!0});var I=b(e);t=v(I,"DIV",{class:!0});var D=b(t);l=v(D,"DIV",{class:!0});var O=b(l);a=F(O,r),O.forEach(d),D.forEach(d),n=T(I),o=v(I,"DIV",{class:!0});var V=b(o);ee(i.$$.fragment,V),c=T(V),m=v(V,"BUTTON",{class:!0});var C=b(m);E.l(C),C.forEach(d),V.forEach(d),I.forEach(d),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(t,"class","flex justify-between w-full"),f(m,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),f(o,"class","flex"),f(e,"class","justify-between w-full")},m(y,I){P(y,e,I),u(e,t),u(t,l),u(l,a),u(e,n),u(e,o),Q(i,o,null),u(o,c),u(o,m),E.m(m,null),h=!0,_||(w=he(m,"click",s[28]),_=!0)},p(y,I){(!h||I[0]&4096)&&r!==(r=y[12].t("JWT Token")+"")&&Y(a,r),k!==(k=p(y))&&(E.d(1),E=k(y),E&&(E.c(),E.m(m,null)))},i(y){h||($(i.$$.fragment,y),h=!0)},o(y){L(i.$$.fragment,y),h=!1},d(y){y&&d(e),x(i),E.d(),_=!1,w()}}}function L2(s){let e,t,l;return{c(){e=st("svg"),t=st("path"),l=st("path"),this.h()},l(r){e=rt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=b(e);t=rt(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(t).forEach(d),l=rt(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(l).forEach(d),a.forEach(d),this.h()},h(){f(t,"fill-rule","evenodd"),f(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),f(t,"clip-rule","evenodd"),f(l,"fill-rule","evenodd"),f(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),f(l,"clip-rule","evenodd"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,a){P(r,e,a),u(e,t),u(e,l)},d(r){r&&d(e)}}}function O2(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=b(e);t=rt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"fill-rule","evenodd"),f(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),f(t,"clip-rule","evenodd"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 20 20"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(l,r){P(l,e,r),u(e,t)},d(l){l&&d(e)}}}function Y1(s){var h;let e,t,l,r,a,n,o=((h=s[13])==null?void 0:h.role)==="admin"&&q1(s);const i=[B2,M2],c=[];function m(_,w){return _[10]?0:1}return r=m(s),a=c[r]=i[r](s),{c(){e=g("div"),o&&o.c(),t=S(),l=g("div"),a.c(),this.h()},l(_){e=v(_,"DIV",{class:!0});var w=b(e);o&&o.l(w),t=T(w),l=v(w,"DIV",{class:!0});var p=b(l);a.l(p),p.forEach(d),w.forEach(d),this.h()},h(){f(l,"class","flex"),f(e,"class","justify-between w-full mt-2")},m(_,w){P(_,e,w),o&&o.m(e,null),u(e,t),u(e,l),c[r].m(l,null),n=!0},p(_,w){var k;((k=_[13])==null?void 0:k.role)==="admin"?o?o.p(_,w):(o=q1(_),o.c(),o.m(e,t)):o&&(o.d(1),o=null);let p=r;r=m(_),r===p?c[r].p(_,w):(Ae(),L(c[p],1,1,()=>{c[p]=null}),Ne(),a=c[r],a?a.p(_,w):(a=c[r]=i[r](_),a.c()),$(a,1),a.m(l,null))},i(_){n||($(a),n=!0)},o(_){L(a),n=!1},d(_){_&&d(e),o&&o.d(),c[r].d()}}}function q1(s){let e,t,l=s[12].t("API Key")+"",r;return{c(){e=g("div"),t=g("div"),r=z(l),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);t=v(n,"DIV",{class:!0});var o=b(t);r=F(o,l),o.forEach(d),n.forEach(d),this.h()},h(){f(t,"class","self-center text-xs font-medium mb-1"),f(e,"class","flex justify-between w-full")},m(a,n){P(a,e,n),u(e,t),u(t,r)},p(a,n){n[0]&4096&&l!==(l=a[12].t("API Key")+"")&&Y(r,l)},d(a){a&&d(e)}}}function M2(s){let e,t,l,r=s[12].t("Create new secret key")+"",a,n,o,i;return t=new $o({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=g("button"),X(t.$$.fragment),l=S(),a=z(r),this.h()},l(c){e=v(c,"BUTTON",{class:!0});var m=b(e);ee(t.$$.fragment,m),l=T(m),a=F(m,r),m.forEach(d),this.h()},h(){f(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(c,m){P(c,e,m),Q(t,e,null),u(e,l),u(e,a),n=!0,o||(i=he(e,"click",s[31]),o=!0)},p(c,m){(!n||m[0]&4096)&&r!==(r=c[12].t("Create new secret key")+"")&&Y(a,r)},i(c){n||($(t.$$.fragment,c),n=!0)},o(c){L(t.$$.fragment,c),n=!1},d(c){c&&d(e),x(t),o=!1,i()}}}function B2(s){let e,t,l,r,a,n,o,i;e=new wo({props:{value:s[10],readOnly:!0}});function c(_,w){return _[11]?U2:P2}let m=c(s),h=m(s);return a=new Kt({props:{content:s[12].t("Create new key"),$$slots:{default:[j2]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment),t=S(),l=g("button"),h.c(),r=S(),X(a.$$.fragment),this.h()},l(_){ee(e.$$.fragment,_),t=T(_),l=v(_,"BUTTON",{class:!0});var w=b(l);h.l(w),w.forEach(d),r=T(_),ee(a.$$.fragment,_),this.h()},h(){f(l,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(_,w){Q(e,_,w),P(_,t,w),P(_,l,w),h.m(l,null),P(_,r,w),Q(a,_,w),n=!0,o||(i=he(l,"click",s[29]),o=!0)},p(_,w){const p={};w[0]&1024&&(p.value=_[10]),e.$set(p),m!==(m=c(_))&&(h.d(1),h=m(_),h&&(h.c(),h.m(l,null)));const k={};w[0]&4096&&(k.content=_[12].t("Create new key")),w[1]&32&&(k.$$scope={dirty:w,ctx:_}),a.$set(k)},i(_){n||($(e.$$.fragment,_),$(a.$$.fragment,_),n=!0)},o(_){L(e.$$.fragment,_),L(a.$$.fragment,_),n=!1},d(_){_&&(d(t),d(l),d(r)),x(e,_),h.d(),x(a,_),o=!1,i()}}}function P2(s){let e,t,l;return{c(){e=st("svg"),t=st("path"),l=st("path"),this.h()},l(r){e=rt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=b(e);t=rt(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(t).forEach(d),l=rt(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(l).forEach(d),a.forEach(d),this.h()},h(){f(t,"fill-rule","evenodd"),f(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),f(t,"clip-rule","evenodd"),f(l,"fill-rule","evenodd"),f(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),f(l,"clip-rule","evenodd"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,a){P(r,e,a),u(e,t),u(e,l)},d(r){r&&d(e)}}}function U2(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=b(e);t=rt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(t).forEach(d),r.forEach(d),this.h()},h(){f(t,"fill-rule","evenodd"),f(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),f(t,"clip-rule","evenodd"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 20 20"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(l,r){P(l,e,r),u(e,t)},d(l){l&&d(e)}}}function j2(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,r;return{c(){e=g("button"),e.innerHTML=t,this.h()},l(a){e=v(a,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(e)!=="svelte-1vyew2c"&&(e.innerHTML=t),this.h()},h(){f(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(a,n){P(a,e,n),l||(r=he(e,"click",s[30]),l=!0)},p:Ze,d(a){a&&d(e),l=!1,r()}}}function R2(s){var Te,ot,$t,Vt,Pt,Dt;let e,t,l,r,a,n=s[12].t("Your Account")+"",o,i,c,m=s[12].t("Manage your account information.")+"",h,_,w,p,k,E,y,I,D,O,V=s[12].t("Name")+"",C,A,H,B,W,U,K,G,M=s[12].t("Bio")+"",R,N,j,te,q,Z,le,ce,ae=s[12].t("Gender")+"",ie,oe,fe,se,re,ne=s[12].t("Prefer not to say")+"",me,_e,pe=s[12].t("Male")+"",ve,ge,Ce=s[12].t("Female")+"",Le,Oe,je=s[12].t("Custom")+"",Ge,et,He,Me,$e,Re=s[12].t("Birth Date")+"",Se,ze,gt,ft,de,tt,ut,be,Fe,Qe,Ke,nt,Rt=s[12].t("Save")+"",At,It,Je,ct;function Ot(Pe){s[19](Pe)}let zt={user:s[13]};s[1]!==void 0&&(zt.profileImageUrl=s[1]),p=new J_({props:zt}),ye.push(()=>Ie(p,"profileImageUrl",Ot));function ll(Pe){s[21](Pe)}let Ft={className:"w-full text-sm dark:text-gray-300 bg-transparent outline-hidden",minSize:60,placeholder:s[12].t("Share your background and interests")};s[3]!==void 0&&(Ft.value=s[3]),te=new Hu({props:Ft}),ye.push(()=>Ie(te,"value",ll));let kt=s[4]==="custom"&&H1(s),Be=((ot=(Te=s[14])==null?void 0:Te.features)==null?void 0:ot.enable_user_webhooks)&&z1(s),We=(($t=s[14])==null?void 0:$t.features.enable_login_form)&&F1(),dt=((((Pt=(Vt=s[14])==null?void 0:Vt.features)==null?void 0:Pt.enable_api_key)??!0)||((Dt=s[13])==null?void 0:Dt.role)==="admin")&&W1(s);return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("div"),a=g("div"),o=z(n),i=S(),c=g("div"),h=z(m),_=S(),w=g("div"),X(p.$$.fragment),E=S(),y=g("div"),I=g("div"),D=g("div"),O=g("div"),C=z(V),A=S(),H=g("div"),B=g("input"),U=S(),K=g("div"),G=g("div"),R=z(M),N=S(),j=g("div"),X(te.$$.fragment),Z=S(),le=g("div"),ce=g("div"),ie=z(ae),oe=S(),fe=g("div"),se=g("select"),re=g("option"),me=z(ne),_e=g("option"),ve=z(pe),ge=g("option"),Le=z(Ce),Oe=g("option"),Ge=z(je),et=S(),kt&&kt.c(),He=S(),Me=g("div"),$e=g("div"),Se=z(Re),ze=S(),gt=g("div"),ft=g("input"),de=S(),Be&&Be.c(),tt=S(),ut=g("hr"),be=S(),We&&We.c(),Fe=S(),dt&&dt.c(),Qe=S(),Ke=g("div"),nt=g("button"),At=z(Rt),this.h()},l(Pe){e=v(Pe,"DIV",{id:!0,class:!0});var lt=b(e);t=v(lt,"DIV",{class:!0});var yt=b(t);l=v(yt,"DIV",{class:!0});var Et=b(l);r=v(Et,"DIV",{});var vt=b(r);a=v(vt,"DIV",{class:!0});var St=b(a);o=F(St,n),St.forEach(d),i=T(vt),c=v(vt,"DIV",{class:!0});var Ut=b(c);h=F(Ut,m),Ut.forEach(d),vt.forEach(d),_=T(Et),w=v(Et,"DIV",{class:!0});var Bt=b(w);ee(p.$$.fragment,Bt),E=T(Bt),y=v(Bt,"DIV",{class:!0});var Wt=b(y);I=v(Wt,"DIV",{class:!0});var Nt=b(I);D=v(Nt,"DIV",{class:!0});var Ht=b(D);O=v(Ht,"DIV",{class:!0});var ue=b(O);C=F(ue,V),ue.forEach(d),A=T(Ht),H=v(Ht,"DIV",{class:!0});var Ue=b(H);B=v(Ue,"INPUT",{class:!0,type:!0,placeholder:!0}),Ue.forEach(d),Ht.forEach(d),U=T(Nt),K=v(Nt,"DIV",{class:!0});var xe=b(K);G=v(xe,"DIV",{class:!0});var qe=b(G);R=F(qe,M),qe.forEach(d),N=T(xe),j=v(xe,"DIV",{class:!0});var Tt=b(j);ee(te.$$.fragment,Tt),Tt.forEach(d),xe.forEach(d),Z=T(Nt),le=v(Nt,"DIV",{class:!0});var bt=b(le);ce=v(bt,"DIV",{class:!0});var Yt=b(ce);ie=F(Yt,ae),Yt.forEach(d),oe=T(bt),fe=v(bt,"DIV",{class:!0});var gl=b(fe);se=v(gl,"SELECT",{class:!0});var ul=b(se);re=v(ul,"OPTION",{});var ml=b(re);me=F(ml,ne),ml.forEach(d),_e=v(ul,"OPTION",{});var _l=b(_e);ve=F(_l,pe),_l.forEach(d),ge=v(ul,"OPTION",{});var vl=b(ge);Le=F(vl,Ce),vl.forEach(d),Oe=v(ul,"OPTION",{});var Sl=b(Oe);Ge=F(Sl,je),Sl.forEach(d),ul.forEach(d),gl.forEach(d),et=T(bt),kt&&kt.l(bt),bt.forEach(d),He=T(Nt),Me=v(Nt,"DIV",{class:!0});var Cl=b(Me);$e=v(Cl,"DIV",{class:!0});var Es=b($e);Se=F(Es,Re),Es.forEach(d),ze=T(Cl),gt=v(Cl,"DIV",{class:!0});var cl=b(gt);ft=v(cl,"INPUT",{class:!0,type:!0}),cl.forEach(d),Cl.forEach(d),Nt.forEach(d),Wt.forEach(d),Bt.forEach(d),Et.forEach(d),de=T(yt),Be&&Be.l(yt),tt=T(yt),ut=v(yt,"HR",{class:!0}),be=T(yt),We&&We.l(yt),Fe=T(yt),dt&&dt.l(yt),yt.forEach(d),Qe=T(lt),Ke=v(lt,"DIV",{class:!0});var bl=b(Ke);nt=v(bl,"BUTTON",{class:!0});var Tl=b(nt);At=F(Tl,Rt),Tl.forEach(d),bl.forEach(d),lt.forEach(d),this.h()},h(){f(a,"class","text-base font-medium"),f(c,"class","text-xs text-gray-500 mt-0.5"),f(O,"class","mb-1 text-xs font-medium"),f(B,"class","w-full text-sm dark:text-gray-300 bg-transparent outline-hidden"),f(B,"type","text"),B.required=!0,f(B,"placeholder",W=s[12].t("Enter your name")),f(H,"class","flex-1"),f(D,"class","flex flex-col w-full"),f(G,"class","mb-1 text-xs font-medium"),f(j,"class","flex-1"),f(K,"class","flex flex-col w-full mt-2"),f(ce,"class","mb-1 text-xs font-medium"),re.__value="",Xe(re,re.__value),re.selected=!0,_e.__value="male",Xe(_e,_e.__value),ge.__value="female",Xe(ge,ge.__value),Oe.__value="custom",Xe(Oe,Oe.__value),f(se,"class","w-full text-sm dark:text-gray-300 bg-transparent outline-hidden"),s[4]===void 0&&as(()=>s[22].call(se)),f(fe,"class","flex-1"),f(le,"class","flex flex-col w-full mt-2"),f($e,"class","mb-1 text-xs font-medium"),f(ft,"class","w-full text-sm dark:text-gray-300 dark:placeholder:text-gray-300 bg-transparent outline-hidden"),f(ft,"type","date"),ft.required=!0,f(gt,"class","flex-1"),f(Me,"class","flex flex-col w-full mt-2"),f(I,"class","flex-1"),f(y,"class","flex flex-1 flex-col"),f(w,"class","flex space-x-5 my-4"),f(l,"class","space-y-1"),f(ut,"class","border-gray-50 dark:border-gray-850 my-4"),f(t,"class","overflow-y-scroll max-h-[28rem] md:max-h-full"),f(nt,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(Ke,"class","flex justify-end pt-3 text-sm font-medium"),f(e,"id","tab-account"),f(e,"class","flex flex-col h-full justify-between text-sm")},m(Pe,lt){P(Pe,e,lt),u(e,t),u(t,l),u(l,r),u(r,a),u(a,o),u(r,i),u(r,c),u(c,h),u(l,_),u(l,w),Q(p,w,null),u(w,E),u(w,y),u(y,I),u(I,D),u(D,O),u(O,C),u(D,A),u(D,H),u(H,B),Xe(B,s[2]),u(I,U),u(I,K),u(K,G),u(G,R),u(K,N),u(K,j),Q(te,j,null),u(I,Z),u(I,le),u(le,ce),u(ce,ie),u(le,oe),u(le,fe),u(fe,se),u(se,re),u(re,me),u(se,_e),u(_e,ve),u(se,ge),u(ge,Le),u(se,Oe),u(Oe,Ge),hl(se,s[4],!0),u(le,et),kt&&kt.m(le,null),u(I,He),u(I,Me),u(Me,$e),u($e,Se),u(Me,ze),u(Me,gt),u(gt,ft),Xe(ft,s[6]),u(t,de),Be&&Be.m(t,null),u(t,tt),u(t,ut),u(t,be),We&&We.m(t,null),u(t,Fe),dt&&dt.m(t,null),u(e,Qe),u(e,Ke),u(Ke,nt),u(nt,At),It=!0,Je||(ct=[he(B,"input",s[20]),he(se,"change",s[22]),he(se,"change",s[23]),he(ft,"input",s[25]),he(nt,"click",s[32])],Je=!0)},p(Pe,lt){var vt,St,Ut,Bt,Wt,Nt;(!It||lt[0]&4096)&&n!==(n=Pe[12].t("Your Account")+"")&&Y(o,n),(!It||lt[0]&4096)&&m!==(m=Pe[12].t("Manage your account information.")+"")&&Y(h,m);const yt={};lt[0]&8192&&(yt.user=Pe[13]),!k&&lt[0]&2&&(k=!0,yt.profileImageUrl=Pe[1],De(()=>k=!1)),p.$set(yt),(!It||lt[0]&4096)&&V!==(V=Pe[12].t("Name")+"")&&Y(C,V),(!It||lt[0]&4096&&W!==(W=Pe[12].t("Enter your name")))&&f(B,"placeholder",W),lt[0]&4&&B.value!==Pe[2]&&Xe(B,Pe[2]),(!It||lt[0]&4096)&&M!==(M=Pe[12].t("Bio")+"")&&Y(R,M);const Et={};lt[0]&4096&&(Et.placeholder=Pe[12].t("Share your background and interests")),!q&&lt[0]&8&&(q=!0,Et.value=Pe[3],De(()=>q=!1)),te.$set(Et),(!It||lt[0]&4096)&&ae!==(ae=Pe[12].t("Gender")+"")&&Y(ie,ae),(!It||lt[0]&4096)&&ne!==(ne=Pe[12].t("Prefer not to say")+"")&&Y(me,ne),(!It||lt[0]&4096)&&pe!==(pe=Pe[12].t("Male")+"")&&Y(ve,pe),(!It||lt[0]&4096)&&Ce!==(Ce=Pe[12].t("Female")+"")&&Y(Le,Ce),(!It||lt[0]&4096)&&je!==(je=Pe[12].t("Custom")+"")&&Y(Ge,je),lt[0]&16&&hl(se,Pe[4]),Pe[4]==="custom"?kt?kt.p(Pe,lt):(kt=H1(Pe),kt.c(),kt.m(le,null)):kt&&(kt.d(1),kt=null),(!It||lt[0]&4096)&&Re!==(Re=Pe[12].t("Birth Date")+"")&&Y(Se,Re),lt[0]&64&&Xe(ft,Pe[6]),(St=(vt=Pe[14])==null?void 0:vt.features)!=null&&St.enable_user_webhooks?Be?Be.p(Pe,lt):(Be=z1(Pe),Be.c(),Be.m(t,tt)):Be&&(Be.d(1),Be=null),(Ut=Pe[14])!=null&&Ut.features.enable_login_form?We?lt[0]&16384&&$(We,1):(We=F1(),We.c(),$(We,1),We.m(t,Fe)):We&&(Ae(),L(We,1,1,()=>{We=null}),Ne()),(((Wt=(Bt=Pe[14])==null?void 0:Bt.features)==null?void 0:Wt.enable_api_key)??!0)||((Nt=Pe[13])==null?void 0:Nt.role)==="admin"?dt?(dt.p(Pe,lt),lt[0]&24576&&$(dt,1)):(dt=W1(Pe),dt.c(),$(dt,1),dt.m(t,null)):dt&&(Ae(),L(dt,1,1,()=>{dt=null}),Ne()),(!It||lt[0]&4096)&&Rt!==(Rt=Pe[12].t("Save")+"")&&Y(At,Rt)},i(Pe){It||($(p.$$.fragment,Pe),$(te.$$.fragment,Pe),$(We),$(dt),It=!0)},o(Pe){L(p.$$.fragment,Pe),L(te.$$.fragment,Pe),L(We),L(dt),It=!1},d(Pe){Pe&&d(e),x(p),x(te),kt&&kt.d(),Be&&Be.d(),We&&We.d(),dt&&dt.d(),Je=!1,Ct(ct)}}}function H2(s,e,t){let l,r,a,n;Ee(s,tl,le=>t(34,l=le)),Ee(s,Vl,le=>t(13,a=le)),Ee(s,Dl,le=>t(14,n=le));const o=Lt("i18n");Ee(s,o,le=>t(12,r=le));let{saveHandler:i}=e,{saveSettings:c}=e,m="",h="",_="",w="",p="",k="",E="",y=!1,I=!1,D="",O=!1;const V=async()=>{var ce;if(h!==(a==null?void 0:a.name)&&(m===wh(a==null?void 0:a.name)||m==="")&&t(1,m=wh(h)),E!==((ce=l==null?void 0:l.notifications)==null?void 0:ce.webhook_url)&&c({notifications:{...l.notifications,webhook_url:E}}),await yp(localStorage.token,{name:h,profile_image_url:m,bio:_||null,gender:p||null,date_of_birth:k||null}).catch(ae=>{Ye.error(`${ae}`)})){const ae=await Ih(localStorage.token).catch(ie=>(Ye.error(`${ie}`),null));return await Vl.set(ae),!0}return!1},C=async()=>{t(10,D=await Ep(localStorage.token)),D?Ye.success(r.t("API Key created.")):Ye.error(r.t("Failed to create API Key."))};Gt(async()=>{var ce;const le=await Ih(localStorage.token).catch(ae=>(Ye.error(`${ae}`),null));le&&(t(2,h=(le==null?void 0:le.name)??""),t(1,m=(le==null?void 0:le.profile_image_url)??""),t(3,_=(le==null?void 0:le.bio)??""),t(4,w=(le==null?void 0:le.gender)??""),t(5,p=w),t(6,k=(le==null?void 0:le.date_of_birth)??"")),t(7,E=((ce=l==null?void 0:l.notifications)==null?void 0:ce.webhook_url)??""),t(10,D=await kp(localStorage.token).catch(ae=>""))});function A(le){m=le,t(1,m)}function H(){h=this.value,t(2,h)}function B(le){_=le,t(3,_)}function W(){w=Wr(this),t(4,w)}const U=le=>{w==="custom"?t(5,p=""):t(5,p=w)};function K(){p=this.value,t(5,p)}function G(){k=this.value,t(6,k)}function M(){E=this.value,t(7,E)}const R=()=>{t(8,y=!y)},N=()=>{kh(localStorage.token),t(9,I=!0),setTimeout(()=>{t(9,I=!1)},2e3)},j=()=>{kh(D),t(11,O=!0),setTimeout(()=>{t(11,O=!1)},2e3)},te=()=>{C()},q=()=>{C()},Z=async()=>{await V()&&i()};return s.$$set=le=>{"saveHandler"in le&&t(0,i=le.saveHandler),"saveSettings"in le&&t(18,c=le.saveSettings)},[i,m,h,_,w,p,k,E,y,I,D,O,r,a,n,o,V,C,c,A,H,B,W,U,K,G,M,R,N,j,te,q,Z]}class z2 extends mt{constructor(e){super(),_t(this,e,H2,R2,pt,{saveHandler:0,saveSettings:18},null,[-1,-1])}}function F2(s){let e,t;return{c(){e=z("v"),t=z(ns)},l(l){e=F(l,"v"),t=F(l,ns)},m(l,r){P(l,e,r),P(l,t,r)},p:Ze,d(l){l&&(d(e),d(t))}}}function Z1(s){let e,t=(s[1]===null?s[5].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[5].t("available!")})`:s[5].t("(latest)"))+"",l,r;return{c(){e=g("a"),l=z(t),this.h()},l(a){e=v(a,"A",{href:!0,target:!0});var n=b(e);l=F(n,t),n.forEach(d),this.h()},h(){f(e,"href",r="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),f(e,"target","_blank")},m(a,n){P(a,e,n),u(e,l)},p(a,n){n&38&&t!==(t=(a[1]===null?a[5].t("Checking for updates..."):a[1]?`(v${a[2].latest} ${a[5].t("available!")})`:a[5].t("(latest)"))+"")&&Y(l,t),n&4&&r!==(r="https://github.com/open-webui/open-webui/releases/tag/v"+a[2].latest)&&f(e,"href",r)},d(a){a&&d(e)}}}function J1(s){let e,t=s[5].t("Check for updates")+"",l,r,a;return{c(){e=g("button"),l=z(t),this.h()},l(n){e=v(n,"BUTTON",{class:!0});var o=b(e);l=F(o,t),o.forEach(d),this.h()},h(){f(e,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium")},m(n,o){P(n,e,o),u(e,l),r||(a=he(e,"click",s[9]),r=!0)},p(n,o){o&32&&t!==(t=n[5].t("Check for updates")+"")&&Y(l,t)},d(n){n&&d(e),r=!1,a()}}}function X1(s){let e,t,l,r,a=s[5].t("Ollama Version")+"",n,o,i,c,m=(s[0]??"N/A")+"",h;return{c(){e=g("hr"),t=S(),l=g("div"),r=g("div"),n=z(a),o=S(),i=g("div"),c=g("div"),h=z(m),this.h()},l(_){e=v(_,"HR",{class:!0}),t=T(_),l=v(_,"DIV",{});var w=b(l);r=v(w,"DIV",{class:!0});var p=b(r);n=F(p,a),p.forEach(d),o=T(w),i=v(w,"DIV",{class:!0});var k=b(i);c=v(k,"DIV",{class:!0});var E=b(c);h=F(E,m),E.forEach(d),k.forEach(d),w.forEach(d),this.h()},h(){f(e,"class","border-gray-100 dark:border-gray-850"),f(r,"class","mb-2.5 text-sm font-medium"),f(c,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),f(i,"class","flex w-full")},m(_,w){P(_,e,w),P(_,t,w),P(_,l,w),u(l,r),u(r,n),u(l,o),u(l,i),u(i,c),u(c,h)},p(_,w){w&32&&a!==(a=_[5].t("Ollama Version")+"")&&Y(n,a),w&1&&m!==(m=(_[0]??"N/A")+"")&&Y(h,m)},d(_){_&&(d(e),d(t),d(l))}}}function W2(s){let e,t='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),jt(e)!=="svelte-1ythp9v"&&(e.innerHTML=t),this.h()},h(){f(e,"class","flex space-x-1")},m(l,r){P(l,e,r)},p:Ze,d(l){l&&d(e)}}}function K2(s){var _,w,p,k;let e,t=!s[4].includes("Open WebUI"),l,r,a=((w=(_=s[3])==null?void 0:_.license_metadata)==null?void 0:w.type)+"",n,o,i,c=((k=(p=s[3])==null?void 0:p.license_metadata)==null?void 0:k.organization_name)+"",m,h=t&&Q1(s);return{c(){e=g("div"),h&&h.c(),l=S(),r=g("span"),n=z(a),o=z(` license purchased by
				`),i=g("span"),m=z(c),this.h()},l(E){e=v(E,"DIV",{class:!0});var y=b(e);h&&h.l(y),l=T(y),r=v(y,"SPAN",{class:!0});var I=b(r);n=F(I,a),I.forEach(d),o=F(y,` license purchased by
				`),i=v(y,"SPAN",{class:!0});var D=b(i);m=F(D,c),D.forEach(d),y.forEach(d),this.h()},h(){f(r,"class","capitalize"),f(i,"class","capitalize"),f(e,"class","mb-2 text-xs")},m(E,y){P(E,e,y),h&&h.m(e,null),u(e,l),u(e,r),u(r,n),u(e,o),u(e,i),u(i,m)},p(E,y){var I,D,O,V;y&16&&(t=!E[4].includes("Open WebUI")),t?h?h.p(E,y):(h=Q1(E),h.c(),h.m(e,l)):h&&(h.d(1),h=null),y&8&&a!==(a=((D=(I=E[3])==null?void 0:I.license_metadata)==null?void 0:D.type)+"")&&Y(n,a),y&8&&c!==(c=((V=(O=E[3])==null?void 0:O.license_metadata)==null?void 0:V.organization_name)+"")&&Y(m,c)},d(E){E&&d(e),h&&h.d()}}}function Q1(s){let e,t,l;return{c(){e=g("span"),t=z(s[4]),l=z(" -"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);t=F(a,s[4]),a.forEach(d),l=F(r," -"),this.h()},h(){f(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(r,a){P(r,e,a),u(e,t),P(r,l,a)},p(r,a){a&16&&Y(t,r[4])},d(r){r&&(d(e),d(l))}}}function G2(s){var Ge,et,He,Me;let e,t,l,r,a,n,o,i=s[5].t("Version")+"",c,m,h,_,w,p,k,E,y,I,D=s[5].t("See what's new")+"",O,V,C,A,H,B,W,U,K=`Emoji graphics provided by
			<a href="https://github.com/jdecked/twemoji" target="_blank">Twemoji</a>, licensed under
			<a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY 4.0</a>.`,G,M,R,N,j=new Date().getFullYear()+"",te,q,Z,le="Open WebUI (Timothy Jaeryang Baek)",ce,ae,ie,oe=s[5].t("Created by")+"",fe,se,re,ne="Timothy J. Baek",me,_e,pe;p=new Kt({props:{content:__,$$slots:{default:[F2]},$$scope:{ctx:s}}});let ve=((et=(Ge=s[3])==null?void 0:Ge.features)==null?void 0:et.enable_version_update_check)&&Z1(s),ge=((Me=(He=s[3])==null?void 0:He.features)==null?void 0:Me.enable_version_update_check)&&J1(s),Ce=s[0]&&X1(s);function Le($e,Re){var Se;return(Se=$e[3])!=null&&Se.license_metadata?K2:W2}let Oe=Le(s),je=Oe(s);return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("div"),a=g("div"),n=z(s[4]),o=S(),c=z(i),m=S(),h=g("div"),_=g("div"),w=g("div"),X(p.$$.fragment),k=S(),ve&&ve.c(),E=S(),y=g("button"),I=g("div"),O=z(D),V=S(),ge&&ge.c(),C=S(),Ce&&Ce.c(),A=S(),H=g("hr"),B=S(),je.c(),W=S(),U=g("div"),U.innerHTML=K,G=S(),M=g("div"),R=g("pre"),N=z("Copyright (c) "),te=z(j),q=z(" "),Z=g("a"),Z.textContent=le,ce=z(`
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
	list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
	this list of conditions and the following disclaimer in the documentation
	and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
	contributors may be used to endorse or promote products derived from
	this software without specific prior written permission.

4. Notwithstanding any other provision of this License, and as a material condition of the rights granted herein, licensees are strictly prohibited from altering, removing, obscuring, or replacing any "Open WebUI" branding, including but not limited to the name, logo, or any visual, textual, or symbolic identifiers that distinguish the software and its interfaces, in any deployment or distribution, regardless of the number of users, except as explicitly set forth in Clauses 5 and 6 below.

5. The branding restriction enumerated in Clause 4 shall not apply in the following limited circumstances: (i) deployments or distributions where the total number of end users (defined as individual natural persons with direct access to the application) does not exceed fifty (50) within any rolling thirty (30) day period; (ii) cases in which the licensee is an official contributor to the codebasewith a substantive code change successfully merged into the main branch of the official codebase maintained by the copyright holderwho has obtained specific prior written permission for branding adjustment from the copyright holder; or (iii) where the licensee has obtained a duly executed enterprise license expressly permitting such modification. For all other cases, any removal or alteration of the "Open WebUI" branding shall constitute a material breach of license.

6. All code, modifications, or derivative works incorporated into this project prior to the incorporation of this branding clause remain licensed under the BSD 3-Clause License, and prior contributors retain all BSD-3 rights therein; if any such contributor requests the removal of their BSD-3-licensed code, the copyright holder will do so, and any replacement code will be licensed under the project's primary license then in effect. By contributing after this clause's adoption, you agree to the project's Contributor License Agreement (CLA) and to these updated terms for all new contributions.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`),ae=S(),ie=g("div"),fe=z(oe),se=S(),re=g("a"),re.textContent=ne,this.h()},l($e){e=v($e,"DIV",{id:!0,class:!0});var Re=b(e);t=v(Re,"DIV",{class:!0});var Se=b(t);l=v(Se,"DIV",{});var ze=b(l);r=v(ze,"DIV",{class:!0});var gt=b(r);a=v(gt,"DIV",{});var ft=b(a);n=F(ft,s[4]),o=T(ft),c=F(ft,i),ft.forEach(d),gt.forEach(d),m=T(ze),h=v(ze,"DIV",{class:!0});var de=b(h);_=v(de,"DIV",{class:!0});var tt=b(_);w=v(tt,"DIV",{class:!0});var ut=b(w);ee(p.$$.fragment,ut),k=T(ut),ve&&ve.l(ut),ut.forEach(d),E=T(tt),y=v(tt,"BUTTON",{class:!0});var be=b(y);I=v(be,"DIV",{});var Fe=b(I);O=F(Fe,D),Fe.forEach(d),be.forEach(d),tt.forEach(d),V=T(de),ge&&ge.l(de),de.forEach(d),ze.forEach(d),C=T(Se),Ce&&Ce.l(Se),A=T(Se),H=v(Se,"HR",{class:!0}),B=T(Se),je.l(Se),W=T(Se),U=v(Se,"DIV",{class:!0,"data-svelte-h":!0}),jt(U)!=="svelte-1w5x546"&&(U.innerHTML=K),G=T(Se),M=v(Se,"DIV",{});var Qe=b(M);R=v(Qe,"PRE",{class:!0});var Ke=b(R);N=F(Ke,"Copyright (c) "),te=F(Ke,j),q=F(Ke," "),Z=v(Ke,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),jt(Z)!=="svelte-dl88be"&&(Z.textContent=le),ce=F(Ke,`
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
	list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
	this list of conditions and the following disclaimer in the documentation
	and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
	contributors may be used to endorse or promote products derived from
	this software without specific prior written permission.

4. Notwithstanding any other provision of this License, and as a material condition of the rights granted herein, licensees are strictly prohibited from altering, removing, obscuring, or replacing any "Open WebUI" branding, including but not limited to the name, logo, or any visual, textual, or symbolic identifiers that distinguish the software and its interfaces, in any deployment or distribution, regardless of the number of users, except as explicitly set forth in Clauses 5 and 6 below.

5. The branding restriction enumerated in Clause 4 shall not apply in the following limited circumstances: (i) deployments or distributions where the total number of end users (defined as individual natural persons with direct access to the application) does not exceed fifty (50) within any rolling thirty (30) day period; (ii) cases in which the licensee is an official contributor to the codebasewith a substantive code change successfully merged into the main branch of the official codebase maintained by the copyright holderwho has obtained specific prior written permission for branding adjustment from the copyright holder; or (iii) where the licensee has obtained a duly executed enterprise license expressly permitting such modification. For all other cases, any removal or alteration of the "Open WebUI" branding shall constitute a material breach of license.

6. All code, modifications, or derivative works incorporated into this project prior to the incorporation of this branding clause remain licensed under the BSD 3-Clause License, and prior contributors retain all BSD-3 rights therein; if any such contributor requests the removal of their BSD-3-licensed code, the copyright holder will do so, and any replacement code will be licensed under the project's primary license then in effect. By contributing after this clause's adoption, you agree to the project's Contributor License Agreement (CLA) and to these updated terms for all new contributions.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`),Ke.forEach(d),Qe.forEach(d),ae=T(Se),ie=v(Se,"DIV",{class:!0});var nt=b(ie);fe=F(nt,oe),se=T(nt),re=v(nt,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),jt(re)!=="svelte-1tvrifl"&&(re.textContent=ne),nt.forEach(d),Se.forEach(d),Re.forEach(d),this.h()},h(){f(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),f(w,"class","flex gap-1"),f(y,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),f(_,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),f(h,"class","flex w-full justify-between items-center"),f(H,"class","border-gray-100 dark:border-gray-850"),f(U,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),f(Z,"href","https://openwebui.com"),f(Z,"target","_blank"),f(Z,"class","underline"),f(R,"class","text-xs text-gray-400 dark:text-gray-500"),f(re,"class","text-gray-500 dark:text-gray-300 font-medium"),f(re,"href","https://github.com/tjbck"),f(re,"target","_blank"),f(ie,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),f(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] md:max-h-full"),f(e,"id","tab-about"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m($e,Re){P($e,e,Re),u(e,t),u(t,l),u(l,r),u(r,a),u(a,n),u(a,o),u(a,c),u(l,m),u(l,h),u(h,_),u(_,w),Q(p,w,null),u(w,k),ve&&ve.m(w,null),u(_,E),u(_,y),u(y,I),u(I,O),u(h,V),ge&&ge.m(h,null),u(t,C),Ce&&Ce.m(t,null),u(t,A),u(t,H),u(t,B),je.m(t,null),u(t,W),u(t,U),u(t,G),u(t,M),u(M,R),u(R,N),u(R,te),u(R,q),u(R,Z),u(R,ce),u(t,ae),u(t,ie),u(ie,fe),u(ie,se),u(ie,re),me=!0,_e||(pe=he(y,"click",s[8]),_e=!0)},p($e,[Re]){var ze,gt,ft,de;(!me||Re&16)&&Y(n,$e[4]),(!me||Re&32)&&i!==(i=$e[5].t("Version")+"")&&Y(c,i);const Se={};Re&1024&&(Se.$$scope={dirty:Re,ctx:$e}),p.$set(Se),(gt=(ze=$e[3])==null?void 0:ze.features)!=null&&gt.enable_version_update_check?ve?ve.p($e,Re):(ve=Z1($e),ve.c(),ve.m(w,null)):ve&&(ve.d(1),ve=null),(!me||Re&32)&&D!==(D=$e[5].t("See what's new")+"")&&Y(O,D),(de=(ft=$e[3])==null?void 0:ft.features)!=null&&de.enable_version_update_check?ge?ge.p($e,Re):(ge=J1($e),ge.c(),ge.m(h,null)):ge&&(ge.d(1),ge=null),$e[0]?Ce?Ce.p($e,Re):(Ce=X1($e),Ce.c(),Ce.m(t,A)):Ce&&(Ce.d(1),Ce=null),Oe===(Oe=Le($e))&&je?je.p($e,Re):(je.d(1),je=Oe($e),je&&(je.c(),je.m(t,W))),(!me||Re&32)&&oe!==(oe=$e[5].t("Created by")+"")&&Y(fe,oe)},i($e){me||($(p.$$.fragment,$e),me=!0)},o($e){L(p.$$.fragment,$e),me=!1},d($e){$e&&d(e),x(p),ve&&ve.d(),ge&&ge.d(),Ce&&Ce.d(),je.d(),_e=!1,pe()}}}function Y2(s,e,t){let l,r,a;Ee(s,Dl,w=>t(3,l=w)),Ee(s,Mu,w=>t(4,r=w));const n=Lt("i18n");Ee(s,n,w=>t(5,a=w));let o="",i=null,c={current:"",latest:""};const m=async()=>{t(1,i=null),t(2,c=await r0(localStorage.token).catch(w=>({current:ns,latest:ns}))),t(1,i=Du(c.latest,c.current))};return Gt(async()=>{var w;t(0,o=await Dp(localStorage.token).catch(p=>"")),(w=l==null?void 0:l.features)!=null&&w.enable_version_update_check&&m()}),[o,i,c,l,r,a,n,m,()=>{Hi.set(!0)},()=>{m()}]}class q2 extends mt{constructor(e){super(),_t(this,e,Y2,G2,pt,{})}}function x1(s,e,t){const l=s.slice();return l[29]=e[t],l}function em(s){let e,t=s[29].title+"",l,r;return{c(){e=g("option"),l=z(t),this.h()},l(a){e=v(a,"OPTION",{});var n=b(e);l=F(n,t),n.forEach(d),this.h()},h(){e.__value=r=s[29].code,Xe(e,e.__value)},m(a,n){P(a,e,n),u(e,l)},p(a,n){n[0]&2&&t!==(t=a[29].title+"")&&Y(l,t),n[0]&2&&r!==(r=a[29].code)&&(e.__value=r,Xe(e,e.__value))},d(a){a&&d(e)}}}function tm(s){let e,t,l,r,a,n;return{c(){e=g("div"),t=z(`Couldn't find your language?
					`),l=g("a"),r=z("Help us translate Open WebUI!"),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=b(e);t=F(i,`Couldn't find your language?
					`),l=v(i,"A",{class:!0,href:!0,target:!0});var c=b(l);r=F(c,"Help us translate Open WebUI!"),c.forEach(d),i.forEach(d),this.h()},h(){var o,i;f(l,"class",a="font-medium underline "+(((o=s[7])==null?void 0:o.highContrastMode)??!1?"text-gray-700 dark:text-gray-200":"text-gray-300")),f(l,"href","https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization"),f(l,"target","_blank"),f(e,"class",n="mb-2 text-xs "+(((i=s[7])==null?void 0:i.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-400 dark:text-gray-500"))},m(o,i){P(o,e,i),u(e,t),u(e,l),u(l,r)},p(o,i){var c,m;i[0]&128&&a!==(a="font-medium underline "+(((c=o[7])==null?void 0:c.highContrastMode)??!1?"text-gray-700 dark:text-gray-200":"text-gray-300"))&&f(l,"class",a),i[0]&128&&n!==(n="mb-2 text-xs "+(((m=o[7])==null?void 0:m.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-400 dark:text-gray-500"))&&f(e,"class",n)},d(o){o&&d(e)}}}function Z2(s){let e,t=s[8].t("Off")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&256&&t!==(t=r[8].t("Off")+"")&&Y(l,t)},d(r){r&&d(e)}}}function J2(s){let e,t=s[8].t("On")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&256&&t!==(t=r[8].t("On")+"")&&Y(l,t)},d(r){r&&d(e)}}}function lm(s){let e,t,l,r,a=s[8].t("System Prompt")+"",n,o,i,c,m;function h(w){s[22](w)}let _={className:"w-full text-sm outline-hidden resize-vertical"+(s[7].highContrastMode?" p-2.5 border-2 border-gray-300 dark:border-gray-700 rounded-lg bg-transparent text-gray-900 dark:text-gray-100 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 overflow-y-hidden":"  dark:text-gray-300 "),rows:"4",placeholder:s[8].t("Enter system prompt here")};return s[4]!==void 0&&(_.value=s[4]),i=new Hu({props:_}),ye.push(()=>Ie(i,"value",h)),{c(){e=g("hr"),t=S(),l=g("div"),r=g("div"),n=z(a),o=S(),X(i.$$.fragment),this.h()},l(w){e=v(w,"HR",{class:!0}),t=T(w),l=v(w,"DIV",{});var p=b(l);r=v(p,"DIV",{class:!0});var k=b(r);n=F(k,a),k.forEach(d),o=T(p),ee(i.$$.fragment,p),p.forEach(d),this.h()},h(){f(e,"class","border-gray-100/50 dark:border-gray-850 my-3"),f(r,"class","my-2.5 text-sm font-medium")},m(w,p){P(w,e,p),P(w,t,p),P(w,l,p),u(l,r),u(r,n),u(l,o),Q(i,l,null),m=!0},p(w,p){(!m||p[0]&256)&&a!==(a=w[8].t("System Prompt")+"")&&Y(n,a);const k={};p[0]&128&&(k.className="w-full text-sm outline-hidden resize-vertical"+(w[7].highContrastMode?" p-2.5 border-2 border-gray-300 dark:border-gray-700 rounded-lg bg-transparent text-gray-900 dark:text-gray-100 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 overflow-y-hidden":"  dark:text-gray-300 ")),p[0]&256&&(k.placeholder=w[8].t("Enter system prompt here")),!c&&p[0]&16&&(c=!0,k.value=w[4],De(()=>c=!1)),i.$set(k)},i(w){m||($(i.$$.fragment,w),m=!0)},o(w){L(i.$$.fragment,w),m=!1},d(w){w&&(d(e),d(t),d(l)),x(i)}}}function sm(s){let e,t,l,r=s[8].t("Advanced Parameters")+"",a,n,o,i=(s[5]?s[8].t("Hide"):s[8].t("Show"))+"",c,m,h,_,w,p,k=s[5]&&rm(s);return{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("button"),c=z(i),h=S(),k&&k.c(),this.h()},l(E){e=v(E,"DIV",{class:!0});var y=b(e);t=v(y,"DIV",{class:!0});var I=b(t);l=v(I,"DIV",{class:!0});var D=b(l);a=F(D,r),D.forEach(d),n=T(I),o=v(I,"BUTTON",{class:!0,type:!0});var O=b(o);c=F(O,i),O.forEach(d),I.forEach(d),h=T(y),k&&k.l(y),y.forEach(d),this.h()},h(){var E;f(l,"class","font-medium"),f(o,"class",m="text-xs font-medium "+(((E=s[7])==null?void 0:E.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-400 dark:text-gray-500")),f(o,"type","button"),f(t,"class","flex justify-between items-center text-sm"),f(e,"class","mt-2 space-y-3 pr-1.5")},m(E,y){P(E,e,y),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),u(o,c),u(e,h),k&&k.m(e,null),_=!0,w||(p=he(o,"click",s[23]),w=!0)},p(E,y){var I;(!_||y[0]&256)&&r!==(r=E[8].t("Advanced Parameters")+"")&&Y(a,r),(!_||y[0]&288)&&i!==(i=(E[5]?E[8].t("Hide"):E[8].t("Show"))+"")&&Y(c,i),(!_||y[0]&128&&m!==(m="text-xs font-medium "+(((I=E[7])==null?void 0:I.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-400 dark:text-gray-500")))&&f(o,"class",m),E[5]?k?(k.p(E,y),y[0]&32&&$(k,1)):(k=rm(E),k.c(),$(k,1),k.m(e,null)):k&&(Ae(),L(k,1,1,()=>{k=null}),Ne())},i(E){_||($(k),_=!0)},o(E){L(k),_=!1},d(E){E&&d(e),k&&k.d(),w=!1,p()}}}function rm(s){var n;let e,t,l;function r(o){s[24](o)}let a={admin:((n=s[10])==null?void 0:n.role)==="admin"};return s[6]!==void 0&&(a.params=s[6]),e=new Vp({props:a}),ye.push(()=>Ie(e,"params",r)),{c(){X(e.$$.fragment)},l(o){ee(e.$$.fragment,o)},m(o,i){Q(e,o,i),l=!0},p(o,i){var m;const c={};i[0]&1024&&(c.admin=((m=o[10])==null?void 0:m.role)==="admin"),!t&&i[0]&64&&(t=!0,c.params=o[6],De(()=>t=!1)),e.$set(c)},i(o){l||($(e.$$.fragment,o),l=!0)},o(o){L(e.$$.fragment,o),l=!1},d(o){x(e,o)}}}function X2(s){var nt,Rt,At,It,Je,ct,Ot,zt,ll,Ft,kt;let e,t,l,r,a=s[8].t("WebUI Settings")+"",n,o,i,c,m=s[8].t("Theme")+"",h,_,w,p,k,E,y=s[8].t("System")+"",I,D,O,V=s[8].t("Dark")+"",C,A,H,B=s[8].t("OLED Dark")+"",W,U,K,G=s[8].t("Light")+"",M,R,N=" Her",j,te,q,Z,le,ce=s[8].t("Language")+"",ae,ie,oe,fe,se,re,ne,me,_e,pe,ve,ge=s[8].t("Notifications")+"",Ce,Le,Oe,je,Ge,et,He,Me,$e=s[8].t("Save")+"",Re,Se,ze,gt,ft=ht(s[1]),de=[];for(let Be=0;Be<ft.length;Be+=1)de[Be]=em(x1(s,ft,Be));let tt=s[8].language==="en-US"&&!(((nt=s[9])==null?void 0:nt.license_metadata)??!1)&&tm(s);function ut(Be,We){return Be[3]===!0?J2:Z2}let be=ut(s),Fe=be(s),Qe=(((Rt=s[10])==null?void 0:Rt.role)==="admin"||(((It=(At=s[10])==null?void 0:At.permissions.chat)==null?void 0:It.controls)??!0)&&(((ct=(Je=s[10])==null?void 0:Je.permissions.chat)==null?void 0:ct.system_prompt)??!0))&&lm(s),Ke=(((Ot=s[10])==null?void 0:Ot.role)==="admin"||(((ll=(zt=s[10])==null?void 0:zt.permissions.chat)==null?void 0:ll.controls)??!0)&&(((kt=(Ft=s[10])==null?void 0:Ft.permissions.chat)==null?void 0:kt.params)??!0))&&sm(s);return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("div"),n=z(a),o=S(),i=g("div"),c=g("div"),h=z(m),_=S(),w=g("div"),p=g("select"),k=g("option"),E=z(" "),I=z(y),D=g("option"),O=z(" "),C=z(V),A=g("option"),H=z(" "),W=z(B),U=g("option"),K=z(" "),M=z(G),R=g("option"),R.textContent=N,q=S(),Z=g("div"),le=g("div"),ae=z(ce),ie=S(),oe=g("div"),fe=g("select");for(let Be=0;Be<de.length;Be+=1)de[Be].c();ne=S(),tt&&tt.c(),me=S(),_e=g("div"),pe=g("div"),ve=g("div"),Ce=z(ge),Le=S(),Oe=g("button"),Fe.c(),je=S(),Qe&&Qe.c(),Ge=S(),Ke&&Ke.c(),et=S(),He=g("div"),Me=g("button"),Re=z($e),this.h()},l(Be){e=v(Be,"DIV",{class:!0,id:!0});var We=b(e);t=v(We,"DIV",{class:!0});var dt=b(t);l=v(dt,"DIV",{class:!0});var Te=b(l);r=v(Te,"DIV",{class:!0});var ot=b(r);n=F(ot,a),ot.forEach(d),o=T(Te),i=v(Te,"DIV",{class:!0});var $t=b(i);c=v($t,"DIV",{class:!0});var Vt=b(c);h=F(Vt,m),Vt.forEach(d),_=T($t),w=v($t,"DIV",{class:!0});var Pt=b(w);p=v(Pt,"SELECT",{class:!0,placeholder:!0});var Dt=b(p);k=v(Dt,"OPTION",{});var Pe=b(k);E=F(Pe," "),I=F(Pe,y),Pe.forEach(d),D=v(Dt,"OPTION",{});var lt=b(D);O=F(lt," "),C=F(lt,V),lt.forEach(d),A=v(Dt,"OPTION",{});var yt=b(A);H=F(yt," "),W=F(yt,B),yt.forEach(d),U=v(Dt,"OPTION",{});var Et=b(U);K=F(Et," "),M=F(Et,G),Et.forEach(d),R=v(Dt,"OPTION",{"data-svelte-h":!0}),jt(R)!=="svelte-188ouwx"&&(R.textContent=N),Dt.forEach(d),Pt.forEach(d),$t.forEach(d),q=T(Te),Z=v(Te,"DIV",{class:!0});var vt=b(Z);le=v(vt,"DIV",{class:!0});var St=b(le);ae=F(St,ce),St.forEach(d),ie=T(vt),oe=v(vt,"DIV",{class:!0});var Ut=b(oe);fe=v(Ut,"SELECT",{class:!0,placeholder:!0});var Bt=b(fe);for(let qe=0;qe<de.length;qe+=1)de[qe].l(Bt);Bt.forEach(d),Ut.forEach(d),vt.forEach(d),ne=T(Te),tt&&tt.l(Te),me=T(Te),_e=v(Te,"DIV",{});var Wt=b(_e);pe=v(Wt,"DIV",{class:!0});var Nt=b(pe);ve=v(Nt,"DIV",{class:!0});var Ht=b(ve);Ce=F(Ht,ge),Ht.forEach(d),Le=T(Nt),Oe=v(Nt,"BUTTON",{class:!0,type:!0});var ue=b(Oe);Fe.l(ue),ue.forEach(d),Nt.forEach(d),Wt.forEach(d),Te.forEach(d),je=T(dt),Qe&&Qe.l(dt),Ge=T(dt),Ke&&Ke.l(dt),dt.forEach(d),et=T(We),He=v(We,"DIV",{class:!0});var Ue=b(He);Me=v(Ue,"BUTTON",{class:!0});var xe=b(Me);Re=F(xe,$e),xe.forEach(d),Ue.forEach(d),We.forEach(d),this.h()},h(){f(r,"class","mb-1 text-sm font-medium"),f(c,"class","self-center text-xs font-medium"),k.__value="system",Xe(k,k.__value),D.__value="dark",Xe(D,D.__value),A.__value="oled-dark",Xe(A,A.__value),U.__value="light",Xe(U,U.__value),R.__value="her",Xe(R,R.__value),f(p,"class",j="dark:bg-gray-900 w-fit pr-8 rounded-sm py-2 px-2 text-xs bg-transparent text-right "+(s[7].highContrastMode?"":"outline-hidden")),f(p,"placeholder",te=s[8].t("Select a theme")),s[0]===void 0&&as(()=>s[17].call(p)),f(w,"class","flex items-center relative"),f(i,"class","flex w-full justify-between"),f(le,"class","self-center text-xs font-medium"),f(fe,"class",se="dark:bg-gray-900 w-fit pr-8 rounded-sm py-2 px-2 text-xs bg-transparent text-right "+(s[7].highContrastMode?"":"outline-hidden")),f(fe,"placeholder",re=s[8].t("Select a language")),s[2]===void 0&&as(()=>s[19].call(fe)),f(oe,"class","flex items-center relative"),f(Z,"class","flex w-full justify-between"),f(ve,"class","self-center text-xs font-medium"),f(Oe,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(Oe,"type","button"),f(pe,"class","py-0.5 flex w-full justify-between"),f(l,"class",""),f(t,"class","overflow-y-scroll max-h-[28rem] md:max-h-full"),f(Me,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(He,"class","flex justify-end pt-3 text-sm font-medium"),f(e,"class","flex flex-col h-full justify-between text-sm"),f(e,"id","tab-general")},m(Be,We){P(Be,e,We),u(e,t),u(t,l),u(l,r),u(r,n),u(l,o),u(l,i),u(i,c),u(c,h),u(i,_),u(i,w),u(w,p),u(p,k),u(k,E),u(k,I),u(p,D),u(D,O),u(D,C),u(p,A),u(A,H),u(A,W),u(p,U),u(U,K),u(U,M),u(p,R),hl(p,s[0],!0),u(l,q),u(l,Z),u(Z,le),u(le,ae),u(Z,ie),u(Z,oe),u(oe,fe);for(let dt=0;dt<de.length;dt+=1)de[dt]&&de[dt].m(fe,null);hl(fe,s[2],!0),u(l,ne),tt&&tt.m(l,null),u(l,me),u(l,_e),u(_e,pe),u(pe,ve),u(ve,Ce),u(pe,Le),u(pe,Oe),Fe.m(Oe,null),u(t,je),Qe&&Qe.m(t,null),u(t,Ge),Ke&&Ke.m(t,null),u(e,et),u(e,He),u(He,Me),u(Me,Re),Se=!0,ze||(gt=[he(p,"change",s[17]),he(p,"change",s[18]),he(fe,"change",s[19]),he(fe,"change",s[20]),he(Oe,"click",s[21]),he(Me,"click",s[25])],ze=!0)},p(Be,We){var dt,Te,ot,$t,Vt,Pt,Dt,Pe,lt,yt,Et;if((!Se||We[0]&256)&&a!==(a=Be[8].t("WebUI Settings")+"")&&Y(n,a),(!Se||We[0]&256)&&m!==(m=Be[8].t("Theme")+"")&&Y(h,m),(!Se||We[0]&256)&&y!==(y=Be[8].t("System")+"")&&Y(I,y),(!Se||We[0]&256)&&V!==(V=Be[8].t("Dark")+"")&&Y(C,V),(!Se||We[0]&256)&&B!==(B=Be[8].t("OLED Dark")+"")&&Y(W,B),(!Se||We[0]&256)&&G!==(G=Be[8].t("Light")+"")&&Y(M,G),(!Se||We[0]&128&&j!==(j="dark:bg-gray-900 w-fit pr-8 rounded-sm py-2 px-2 text-xs bg-transparent text-right "+(Be[7].highContrastMode?"":"outline-hidden")))&&f(p,"class",j),(!Se||We[0]&256&&te!==(te=Be[8].t("Select a theme")))&&f(p,"placeholder",te),We[0]&1&&hl(p,Be[0]),(!Se||We[0]&256)&&ce!==(ce=Be[8].t("Language")+"")&&Y(ae,ce),We[0]&2){ft=ht(Be[1]);let vt;for(vt=0;vt<ft.length;vt+=1){const St=x1(Be,ft,vt);de[vt]?de[vt].p(St,We):(de[vt]=em(St),de[vt].c(),de[vt].m(fe,null))}for(;vt<de.length;vt+=1)de[vt].d(1);de.length=ft.length}(!Se||We[0]&128&&se!==(se="dark:bg-gray-900 w-fit pr-8 rounded-sm py-2 px-2 text-xs bg-transparent text-right "+(Be[7].highContrastMode?"":"outline-hidden")))&&f(fe,"class",se),(!Se||We[0]&256&&re!==(re=Be[8].t("Select a language")))&&f(fe,"placeholder",re),We[0]&6&&hl(fe,Be[2]),Be[8].language==="en-US"&&!(((dt=Be[9])==null?void 0:dt.license_metadata)??!1)?tt?tt.p(Be,We):(tt=tm(Be),tt.c(),tt.m(l,me)):tt&&(tt.d(1),tt=null),(!Se||We[0]&256)&&ge!==(ge=Be[8].t("Notifications")+"")&&Y(Ce,ge),be===(be=ut(Be))&&Fe?Fe.p(Be,We):(Fe.d(1),Fe=be(Be),Fe&&(Fe.c(),Fe.m(Oe,null))),((Te=Be[10])==null?void 0:Te.role)==="admin"||((($t=(ot=Be[10])==null?void 0:ot.permissions.chat)==null?void 0:$t.controls)??!0)&&(((Pt=(Vt=Be[10])==null?void 0:Vt.permissions.chat)==null?void 0:Pt.system_prompt)??!0)?Qe?(Qe.p(Be,We),We[0]&1024&&$(Qe,1)):(Qe=lm(Be),Qe.c(),$(Qe,1),Qe.m(t,Ge)):Qe&&(Ae(),L(Qe,1,1,()=>{Qe=null}),Ne()),((Dt=Be[10])==null?void 0:Dt.role)==="admin"||(((lt=(Pe=Be[10])==null?void 0:Pe.permissions.chat)==null?void 0:lt.controls)??!0)&&(((Et=(yt=Be[10])==null?void 0:yt.permissions.chat)==null?void 0:Et.params)??!0)?Ke?(Ke.p(Be,We),We[0]&1024&&$(Ke,1)):(Ke=sm(Be),Ke.c(),$(Ke,1),Ke.m(t,null)):Ke&&(Ae(),L(Ke,1,1,()=>{Ke=null}),Ne()),(!Se||We[0]&256)&&$e!==($e=Be[8].t("Save")+"")&&Y(Re,$e)},i(Be){Se||($(Qe),$(Ke),Se=!0)},o(Be){L(Qe),L(Ke),Se=!1},d(Be){Be&&d(e),il(de,Be),tt&&tt.d(),Fe.d(),Qe&&Qe.d(),Ke&&Ke.d(),ze=!1,Ct(gt)}}}function Q2(s,e,t){let l,r,a,n;Ee(s,tl,N=>t(7,l=N)),Ee(s,Dl,N=>t(9,a=N)),Ee(s,Vl,N=>t(10,n=N));const o=ol(),i=Lt("i18n");Ee(s,i,N=>t(8,r=N));let{saveSettings:c}=e,{getModels:m}=e,h=["dark","light","oled-dark"],_="system",w=[],p=r.language,k=!1,E="",y=!1;const I=async()=>{await Notification.requestPermission()==="granted"?(t(3,k=!k),c({notificationEnabled:k})):Ye.error(r.t("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access."))};let D={stream_response:null,stream_delta_chunk_size:null,function_calling:null,seed:null,temperature:null,reasoning_effort:null,logit_bias:null,frequency_penalty:null,presence_penalty:null,repeat_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,min_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null,num_gpu:null};const O=async()=>{c({system:E!==""?E:void 0,params:{stream_response:D.stream_response!==null?D.stream_response:void 0,stream_delta_chunk_size:D.stream_delta_chunk_size!==null?D.stream_delta_chunk_size:void 0,function_calling:D.function_calling!==null?D.function_calling:void 0,seed:(D.seed!==null?D.seed:void 0)??void 0,stop:D.stop?D.stop.split(",").filter(N=>N):void 0,temperature:D.temperature!==null?D.temperature:void 0,reasoning_effort:D.reasoning_effort!==null?D.reasoning_effort:void 0,logit_bias:D.logit_bias!==null?D.logit_bias:void 0,frequency_penalty:D.frequency_penalty!==null?D.frequency_penalty:void 0,presence_penalty:D.frequency_penalty!==null?D.frequency_penalty:void 0,repeat_penalty:D.frequency_penalty!==null?D.frequency_penalty:void 0,repeat_last_n:D.repeat_last_n!==null?D.repeat_last_n:void 0,mirostat:D.mirostat!==null?D.mirostat:void 0,mirostat_eta:D.mirostat_eta!==null?D.mirostat_eta:void 0,mirostat_tau:D.mirostat_tau!==null?D.mirostat_tau:void 0,top_k:D.top_k!==null?D.top_k:void 0,top_p:D.top_p!==null?D.top_p:void 0,min_p:D.min_p!==null?D.min_p:void 0,tfs_z:D.tfs_z!==null?D.tfs_z:void 0,num_ctx:D.num_ctx!==null?D.num_ctx:void 0,num_batch:D.num_batch!==null?D.num_batch:void 0,num_keep:D.num_keep!==null?D.num_keep:void 0,max_tokens:D.max_tokens!==null?D.max_tokens:void 0,use_mmap:D.use_mmap!==null?D.use_mmap:void 0,use_mlock:D.use_mlock!==null?D.use_mlock:void 0,num_thread:D.num_thread!==null?D.num_thread:void 0,num_gpu:D.num_gpu!==null?D.num_gpu:void 0,think:D.think!==null?D.think:void 0,keep_alive:D.keep_alive!==null?D.keep_alive:void 0,format:D.format!==null?D.format:void 0}}),o("save")};Gt(async()=>{var N,j;t(0,_=localStorage.theme??"system"),t(1,w=await Cp()),t(3,k=l.notificationEnabled??!1),t(4,E=l.system??""),t(6,D={...D,...l.params}),t(6,D.stop=(N=l==null?void 0:l.params)!=null&&N.stop?(((j=l==null?void 0:l.params)==null?void 0:j.stop)??[]).join(","):null,D)});const V=N=>{let j=N==="oled-dark"?"dark":N==="her"?"light":N;N==="system"&&(j=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j==="dark"&&!N.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#333"),document.documentElement.style.setProperty("--color-gray-850","#262626"),document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),h.filter(q=>q!==j).forEach(q=>{q.split(" ").forEach(Z=>{document.documentElement.classList.remove(Z)})}),j.split(" ").forEach(q=>{document.documentElement.classList.add(q)});const te=document.querySelector('meta[name="theme-color"]');if(te)if(N.includes("system")){const q=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";""+q,te.setAttribute("content",q==="light"?"#ffffff":"#171717")}else""+N,te.setAttribute("content",N==="dark"?"#171717":N==="oled-dark"?"#000000":N==="her"?"#983724":"#ffffff");typeof window<"u"&&window.applyTheme&&window.applyTheme(),N.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#101010"),document.documentElement.style.setProperty("--color-gray-850","#050505"),document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark"))},C=N=>{p_.set(N),localStorage.setItem("theme",N),V(N)};function A(){_=Wr(this),t(0,_)}const H=()=>C(_);function B(){p=Wr(this),t(2,p),t(1,w)}const W=N=>{$p(p)},U=()=>{I()};function K(N){E=N,t(4,E)}const G=()=>{t(5,y=!y)};function M(N){D=N,t(6,D)}const R=()=>{O()};return s.$$set=N=>{"saveSettings"in N&&t(15,c=N.saveSettings),"getModels"in N&&t(16,m=N.getModels)},[_,w,p,k,E,y,D,l,r,a,n,i,I,O,C,c,m,A,H,B,W,U,K,G,M,R]}class x2 extends mt{constructor(e){super(),_t(this,e,Q2,X2,pt,{saveSettings:15,getModels:16},null,[-1,-1])}}function am(s,e,t){const l=s.slice();return l[15]=e[t],l[16]=e,l[17]=t,l}function eb(s){let e,t=s[2].t("Custom")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a&4&&t!==(t=r[2].t("Custom")+"")&&Y(l,t)},d(r){r&&d(e)}}}function tb(s){let e,t=s[2].t("Default")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a&4&&t!==(t=r[2].t("Default")+"")&&Y(l,t)},d(r){r&&d(e)}}}function nm(s){let e,t,l,r,a;return t=new $o({props:{className:"size-4 "}}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0,type:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class",""),f(e,"type","button")},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=he(e,"click",s[8]),r=!0)},p:Ze,i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,a()}}}function lb(s){let e,t,l=ht(s[1]),r=[];for(let n=0;n<l.length;n+=1)r[n]=om(am(s,l,n));const a=n=>L(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=at()},l(n){for(let o=0;o<r.length;o+=1)r[o].l(n);e=at()},m(n,o){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(n,o);P(n,e,o),t=!0},p(n,o){if(o&6){l=ht(n[1]);let i;for(i=0;i<l.length;i+=1){const c=am(n,l,i);r[i]?(r[i].p(c,o),$(r[i],1)):(r[i]=om(c),r[i].c(),$(r[i],1),r[i].m(e.parentNode,e))}for(Ae(),i=l.length;i<r.length;i+=1)a(i);Ne()}},i(n){if(!t){for(let o=0;o<l.length;o+=1)$(r[o]);t=!0}},o(n){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)L(r[o]);t=!1},d(n){n&&d(e),il(r,n)}}}function sb(s){let e,t=s[2].t("Default action buttons will be used.")+"",l;return{c(){e=g("div"),l=z(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","text-gray-500 dark:text-gray-400 text-xs w-full text-center py-5")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a&4&&t!==(t=r[2].t("Default action buttons will be used.")+"")&&Y(l,t)},i:Ze,o:Ze,d(r){r&&d(e)}}}function om(s){let e,t,l,r,a,n,o,i,c,m,h,_,w,p,k,E,y,I,D;function O(){s[9].call(l,s[16],s[17])}function V(){s[10].call(n,s[16],s[17])}function C(B){s[11](B,s[15])}let A={className:" self-center text-xs w-full outline-none",placeholder:s[2].t("Button Prompt"),minSize:30};s[15].prompt!==void 0&&(A.value=s[15].prompt),m=new Hu({props:A}),ye.push(()=>Ie(m,"value",C)),p=new dp({props:{className:"h-4 w-4"}});function H(){return s[12](s[15])}return{c(){e=g("div"),t=g("div"),l=g("input"),a=S(),n=g("input"),i=S(),c=g("div"),X(m.$$.fragment),_=S(),w=g("button"),X(p.$$.fragment),k=S(),E=g("hr"),this.h()},l(B){e=v(B,"DIV",{class:!0});var W=b(e);t=v(W,"DIV",{class:!0});var U=b(t);l=v(U,"INPUT",{class:!0,placeholder:!0}),a=T(U),n=v(U,"INPUT",{class:!0,placeholder:!0}),U.forEach(d),i=T(W),c=v(W,"DIV",{class:!0});var K=b(c);ee(m.$$.fragment,K),K.forEach(d),_=T(W),w=v(W,"BUTTON",{class:!0,type:!0});var G=b(w);ee(p.$$.fragment,G),G.forEach(d),W.forEach(d),k=T(B),E=v(B,"HR",{class:!0}),this.h()},h(){f(l,"class","self-center text-xs outline-none w-20"),f(l,"placeholder",r=s[2].t("Button Label")),f(n,"class","self-center text-xs outline-none w-20 text-gray-600 dark:text-gray-400"),f(n,"placeholder",o=s[2].t("Button ID")),f(t,"class","flex flex-col items-start pr-2"),f(c,"class","flex items-center gap-2 w-full"),f(w,"class","pl-3 text-xs flex rounded-sm transition"),f(w,"type","button"),f(e,"class","py-1 flex w-full justify-between items-start"),f(E,"class","border-gray-50 dark:border-gray-850 my-2")},m(B,W){P(B,e,W),u(e,t),u(t,l),Xe(l,s[15].label),u(t,a),u(t,n),Xe(n,s[15].id),u(e,i),u(e,c),Q(m,c,null),u(e,_),u(e,w),Q(p,w,null),P(B,k,W),P(B,E,W),y=!0,I||(D=[he(l,"input",O),he(n,"input",V),he(w,"click",H)],I=!0)},p(B,W){s=B,(!y||W&4&&r!==(r=s[2].t("Button Label")))&&f(l,"placeholder",r),W&2&&l.value!==s[15].label&&Xe(l,s[15].label),(!y||W&4&&o!==(o=s[2].t("Button ID")))&&f(n,"placeholder",o),W&2&&n.value!==s[15].id&&Xe(n,s[15].id);const U={};W&4&&(U.placeholder=s[2].t("Button Prompt")),!h&&W&2&&(h=!0,U.value=s[15].prompt,De(()=>h=!1)),m.$set(U)},i(B){y||($(m.$$.fragment,B),$(p.$$.fragment,B),y=!0)},o(B){L(m.$$.fragment,B),L(p.$$.fragment,B),y=!1},d(B){B&&(d(e),d(k),d(E)),x(m),x(p),I=!1,Ct(D)}}}function rb(s){let e,t,l,r=s[2].t("Quick Actions")+"",a,n,o,i,c,m,h,_,w,p,k,E,y=s[2].t("Actions")+"",I,D,O,V,C,A,H,B,W,U,K,G=s[2].t("Save")+"",M,R,N,j;i=new os({props:{className:"size-5"}});function te(oe,fe){return oe[1]===null?tb:eb}let q=te(s),Z=q(s),le=s[1]!==null&&nm(s);const ce=[sb,lb],ae=[];function ie(oe,fe){return oe[1]===null||oe[1].length===0?0:1}return H=ie(s),B=ae[H]=ce[H](s),{c(){e=g("div"),t=g("div"),l=g("h1"),a=z(r),n=S(),o=g("button"),X(i.$$.fragment),m=S(),h=g("div"),_=g("div"),w=g("form"),p=g("div"),k=g("div"),E=g("div"),I=z(y),D=S(),O=g("div"),V=g("button"),Z.c(),C=S(),le&&le.c(),A=S(),B.c(),W=S(),U=g("div"),K=g("button"),M=z(G),this.h()},l(oe){e=v(oe,"DIV",{});var fe=b(e);t=v(fe,"DIV",{class:!0});var se=b(t);l=v(se,"H1",{class:!0});var re=b(l);a=F(re,r),re.forEach(d),n=T(se),o=v(se,"BUTTON",{class:!0,"aria-label":!0});var ne=b(o);ee(i.$$.fragment,ne),ne.forEach(d),se.forEach(d),m=T(fe),h=v(fe,"DIV",{class:!0});var me=b(h);_=v(me,"DIV",{class:!0});var _e=b(_);w=v(_e,"FORM",{class:!0});var pe=b(w);p=v(pe,"DIV",{});var ve=b(p);k=v(ve,"DIV",{class:!0});var ge=b(k);E=v(ge,"DIV",{class:!0});var Ce=b(E);I=F(Ce,y),Ce.forEach(d),D=T(ge),O=v(ge,"DIV",{class:!0});var Le=b(O);V=v(Le,"BUTTON",{type:!0});var Oe=b(V);Z.l(Oe),Oe.forEach(d),C=T(Le),le&&le.l(Le),Le.forEach(d),ge.forEach(d),A=T(ve),B.l(ve),ve.forEach(d),W=T(pe),U=v(pe,"DIV",{class:!0});var je=b(U);K=v(je,"BUTTON",{class:!0,type:!0});var Ge=b(K);M=F(Ge,G),Ge.forEach(d),je.forEach(d),pe.forEach(d),_e.forEach(d),me.forEach(d),fe.forEach(d),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(o,"class","self-center"),f(o,"aria-label",c=s[2].t("Close modal")),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-1.5"),f(E,"class","font-medium"),f(V,"type","button"),f(O,"class","flex items-center gap-2 text-gray-700 dark:text-gray-300"),f(k,"class","text-xs flex items-center justify-between mb-2"),f(K,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(K,"type","submit"),f(U,"class","flex justify-end text-sm font-medium"),f(w,"class","flex flex-col w-full px-1"),f(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(h,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(oe,fe){P(oe,e,fe),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),u(e,m),u(e,h),u(h,_),u(_,w),u(w,p),u(p,k),u(k,E),u(E,I),u(k,D),u(k,O),u(O,V),Z.m(V,null),u(O,C),le&&le.m(O,null),u(p,A),ae[H].m(p,null),u(w,W),u(w,U),u(U,K),u(K,M),R=!0,N||(j=[he(o,"click",s[6]),he(V,"click",s[7]),he(w,"submit",s[13])],N=!0)},p(oe,fe){(!R||fe&4)&&r!==(r=oe[2].t("Quick Actions")+"")&&Y(a,r),(!R||fe&4&&c!==(c=oe[2].t("Close modal")))&&f(o,"aria-label",c),(!R||fe&4)&&y!==(y=oe[2].t("Actions")+"")&&Y(I,y),q===(q=te(oe))&&Z?Z.p(oe,fe):(Z.d(1),Z=q(oe),Z&&(Z.c(),Z.m(V,null))),oe[1]!==null?le?(le.p(oe,fe),fe&2&&$(le,1)):(le=nm(oe),le.c(),$(le,1),le.m(O,null)):le&&(Ae(),L(le,1,1,()=>{le=null}),Ne());let se=H;H=ie(oe),H===se?ae[H].p(oe,fe):(Ae(),L(ae[se],1,1,()=>{ae[se]=null}),Ne(),B=ae[H],B?B.p(oe,fe):(B=ae[H]=ce[H](oe),B.c()),$(B,1),B.m(p,null)),(!R||fe&4)&&G!==(G=oe[2].t("Save")+"")&&Y(M,G)},i(oe){R||($(i.$$.fragment,oe),$(le),$(B),R=!0)},o(oe){L(i.$$.fragment,oe),L(le),L(B),R=!1},d(oe){oe&&d(e),x(i),Z.d(),le&&le.d(),ae[H].d(),N=!1,Ct(j)}}}function ab(s){let e,t,l;function r(n){s[14](n)}let a={size:"sm",$$slots:{default:[rb]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ys({props:a}),ye.push(()=>Ie(e,"show",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,[o]){const i={};o&262151&&(i.$$scope={dirty:o,ctx:n}),!t&&o&1&&(t=!0,i.show=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function nb(s,e,t){let l;const r=Lt("i18n");Ee(s,r,I=>t(2,l=I));let{show:a=!1}=e,{onSave:n=()=>{}}=e,{floatingActionButtons:o=null}=e;const i=async()=>{n(o),t(0,a=!1)};Gt(()=>{});const c=()=>{t(0,a=!1)},m=()=>{o===null?t(1,o=[{id:"ask",label:l.t("Ask"),input:!0,prompt:`{{SELECTED_CONTENT}}


{{INPUT_CONTENT}}`},{id:"explain",label:l.t("Explain"),input:!1,prompt:`{{SELECTED_CONTENT}}


${l.t("Explain")}`}]):t(1,o=null)},h=()=>{let I="new-button",D=0;for(;o.some(O=>O.id===I);)D++,I=`new-button-${D}`;t(1,o=[...o,{id:I,label:`${l.t("New Button")}`,input:!0,prompt:`{{CONTENT}}


{{INPUT_CONTENT}}`}])};function _(I,D){I[D].label=this.value,t(1,o)}function w(I,D){I[D].id=this.value,t(1,o)}function p(I,D){s.$$.not_equal(D.prompt,I)&&(D.prompt=I,t(1,o))}const k=I=>{t(1,o=o.filter(D=>D.id!==I.id))},E=I=>{I.preventDefault(),i()};function y(I){a=I,t(0,a)}return s.$$set=I=>{"show"in I&&t(0,a=I.show),"onSave"in I&&t(5,n=I.onSave),"floatingActionButtons"in I&&t(1,o=I.floatingActionButtons)},s.$$.update=()=>{s.$$.dirty&1},[a,o,l,r,i,n,c,m,h,_,w,p,k,E,y]}class ob extends mt{constructor(e){super(),_t(this,e,nb,ab,pt,{show:0,onSave:5,floatingActionButtons:1})}}function ib(s){let e,t,l,r=s[2].t("Manage")+"",a,n,o,i,c,m,h,_,w,p,k,E,y,I=s[2].t("Image Max Compression Size")+"",D,O,V,C,A,H=s[2].t("Image Max Compression Size width")+"",B,W,U,K,G,M,R,N,j,te,q=s[2].t("Image Max Compression Size height")+"",Z,le,ce,ae,ie,oe,fe,se=s[2].t("Save")+"",re,ne,me,_e;return i=new os({props:{className:"size-5"}}),R=new os({}),{c(){e=g("div"),t=g("div"),l=g("h1"),a=z(r),n=S(),o=g("button"),X(i.$$.fragment),m=S(),h=g("div"),_=g("div"),w=g("form"),p=g("div"),k=g("div"),E=g("div"),y=g("div"),D=z(I),O=S(),V=g("div"),C=g("div"),A=g("label"),B=z(H),W=S(),U=g("input"),G=S(),M=g("div"),X(R.$$.fragment),N=S(),j=g("div"),te=g("label"),Z=z(q),le=S(),ce=g("input"),ie=S(),oe=g("div"),fe=g("button"),re=z(se),this.h()},l(pe){e=v(pe,"DIV",{});var ve=b(e);t=v(ve,"DIV",{class:!0});var ge=b(t);l=v(ge,"H1",{class:!0});var Ce=b(l);a=F(Ce,r),Ce.forEach(d),n=T(ge),o=v(ge,"BUTTON",{class:!0,"aria-label":!0});var Le=b(o);ee(i.$$.fragment,Le),Le.forEach(d),ge.forEach(d),m=T(ve),h=v(ve,"DIV",{class:!0});var Oe=b(h);_=v(Oe,"DIV",{class:!0});var je=b(_);w=v(je,"FORM",{class:!0});var Ge=b(w);p=v(Ge,"DIV",{});var et=b(p);k=v(et,"DIV",{});var He=b(k);E=v(He,"DIV",{class:!0});var Me=b(E);y=v(Me,"DIV",{id:!0,class:!0});var $e=b(y);D=F($e,I),$e.forEach(d),O=T(Me),V=v(Me,"DIV",{class:!0});var Re=b(V);C=v(Re,"DIV",{class:!0});var Se=b(C);A=v(Se,"LABEL",{class:!0,for:!0});var ze=b(A);B=F(ze,H),ze.forEach(d),W=T(Se),U=v(Se,"INPUT",{type:!0,"aria-labelledby":!0,class:!0,min:!0,placeholder:!0}),Se.forEach(d),G=T(Re),M=v(Re,"DIV",{class:!0});var gt=b(M);ee(R.$$.fragment,gt),gt.forEach(d),N=T(Re),j=v(Re,"DIV",{class:!0});var ft=b(j);te=v(ft,"LABEL",{class:!0,for:!0});var de=b(te);Z=F(de,q),de.forEach(d),le=T(ft),ce=v(ft,"INPUT",{type:!0,"aria-labelledby":!0,class:!0,min:!0,placeholder:!0}),ft.forEach(d),Re.forEach(d),Me.forEach(d),He.forEach(d),et.forEach(d),ie=T(Ge),oe=v(Ge,"DIV",{class:!0});var tt=b(oe);fe=v(tt,"BUTTON",{class:!0,type:!0});var ut=b(fe);re=F(ut,se),ut.forEach(d),tt.forEach(d),Ge.forEach(d),je.forEach(d),Oe.forEach(d),ve.forEach(d),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(o,"class","self-center"),f(o,"aria-label",c=s[2].t("Close modal")),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-1.5"),f(y,"id","image-compression-size-label"),f(y,"class","text-xs mb-2"),f(A,"class","sr-only"),f(A,"for","image-comp-width"),f(U,"type","number"),f(U,"aria-labelledby","image-comp-width"),f(U,"class","w-full bg-transparent outline-hidden text-center"),f(U,"min","0"),f(U,"placeholder",K=s[2].t("Width")),f(C,"class","flex-1"),f(M,"class","self-center text-gray-500 dark:text-gray-400"),f(te,"class","sr-only"),f(te,"for","image-comp-height"),f(ce,"type","number"),f(ce,"aria-labelledby","image-comp-height"),f(ce,"class","w-full bg-transparent outline-hidden text-center"),f(ce,"min","0"),f(ce,"placeholder",ae=s[2].t("Height")),f(j,"class","flex-1"),f(V,"class","p-1 flex-1 flex gap-2"),f(E,"class","py-0.5 flex flex-col w-full text-sm"),f(fe,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(fe,"type","submit"),f(oe,"class","flex justify-end text-sm font-medium"),f(w,"class","flex flex-col w-full px-1"),f(_,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(h,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(pe,ve){P(pe,e,ve),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),u(e,m),u(e,h),u(h,_),u(_,w),u(w,p),u(p,k),u(k,E),u(E,y),u(y,D),u(E,O),u(E,V),u(V,C),u(C,A),u(A,B),u(C,W),u(C,U),Xe(U,s[1].width),u(V,G),u(V,M),Q(R,M,null),u(V,N),u(V,j),u(j,te),u(te,Z),u(j,le),u(j,ce),Xe(ce,s[1].height),u(w,ie),u(w,oe),u(oe,fe),u(fe,re),ne=!0,me||(_e=[he(o,"click",s[6]),he(U,"input",s[7]),he(ce,"input",s[8]),he(w,"submit",s[9])],me=!0)},p(pe,ve){(!ne||ve&4)&&r!==(r=pe[2].t("Manage")+"")&&Y(a,r),(!ne||ve&4&&c!==(c=pe[2].t("Close modal")))&&f(o,"aria-label",c),(!ne||ve&4)&&I!==(I=pe[2].t("Image Max Compression Size")+"")&&Y(D,I),(!ne||ve&4)&&H!==(H=pe[2].t("Image Max Compression Size width")+"")&&Y(B,H),(!ne||ve&4&&K!==(K=pe[2].t("Width")))&&f(U,"placeholder",K),ve&2&&Va(U.value)!==pe[1].width&&Xe(U,pe[1].width),(!ne||ve&4)&&q!==(q=pe[2].t("Image Max Compression Size height")+"")&&Y(Z,q),(!ne||ve&4&&ae!==(ae=pe[2].t("Height")))&&f(ce,"placeholder",ae),ve&2&&Va(ce.value)!==pe[1].height&&Xe(ce,pe[1].height),(!ne||ve&4)&&se!==(se=pe[2].t("Save")+"")&&Y(re,se)},i(pe){ne||($(i.$$.fragment,pe),$(R.$$.fragment,pe),ne=!0)},o(pe){L(i.$$.fragment,pe),L(R.$$.fragment,pe),ne=!1},d(pe){pe&&d(e),x(i),x(R),me=!1,Ct(_e)}}}function fb(s){let e,t,l;function r(n){s[10](n)}let a={size:"sm",$$slots:{default:[ib]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ys({props:a}),ye.push(()=>Ie(e,"show",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,[o]){const i={};o&2055&&(i.$$scope={dirty:o,ctx:n}),!t&&o&1&&(t=!0,i.show=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function ub(s,e,t){let l;const r=Lt("i18n");Ee(s,r,p=>t(2,l=p));let{show:a=!1}=e,{size:n=null}=e,{onSave:o=()=>{}}=e;const i=async()=>{o(n),t(0,a=!1)};Gt(()=>{});const c=()=>{t(0,a=!1)};function m(){n.width=Va(this.value),t(1,n)}function h(){n.height=Va(this.value),t(1,n)}const _=p=>{p.preventDefault(),i()};function w(p){a=p,t(0,a)}return s.$$set=p=>{"show"in p&&t(0,a=p.show),"size"in p&&t(1,n=p.size),"onSave"in p&&t(5,o=p.onSave)},[a,n,l,r,i,o,c,m,h,_,w]}class cb extends mt{constructor(e){super(),_t(this,e,ub,fb,pt,{show:0,size:1,onSave:5})}}function im(s){let e,t,l,r=s[54].t("Always Play Notification Sound")+"",a,n,o,i,c,m;function h(w){s[79](w)}let _={ariaLabelledbyId:"play-notification-sound-label",tooltip:!0};return s[13]!==void 0&&(_.state=s[13]),i=new wt({props:_}),ye.push(()=>Ie(i,"state",h)),i.$on("change",s[80]),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),this.h()},l(w){e=v(w,"DIV",{});var p=b(e);t=v(p,"DIV",{class:!0});var k=b(t);l=v(k,"DIV",{id:!0,class:!0});var E=b(l);a=F(E,r),E.forEach(d),n=T(k),o=v(k,"DIV",{class:!0});var y=b(o);ee(i.$$.fragment,y),y.forEach(d),k.forEach(d),p.forEach(d),this.h()},h(){f(l,"id","play-notification-sound-label"),f(l,"class","self-center text-xs"),f(o,"class","flex items-center gap-2 p-1"),f(t,"class","py-0.5 flex w-full justify-between")},m(w,p){P(w,e,p),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),m=!0},p(w,p){(!m||p[1]&8388608)&&r!==(r=w[54].t("Always Play Notification Sound")+"")&&Y(a,r);const k={};!c&&p[0]&8192&&(c=!0,k.state=w[13],De(()=>c=!1)),i.$set(k)},i(w){m||($(i.$$.fragment,w),m=!0)},o(w){L(i.$$.fragment,w),m=!1},d(w){w&&d(e),x(i)}}}function fm(s){let e,t,l,r=s[54].t("Toast notifications for new updates")+"",a,n,o,i,c,m,h,_,w,p=s[54].t(`Show "What's New" modal on login`)+"",k,E,y,I,D,O;function V(B){s[87](B)}let C={ariaLabelledbyId:"toast-notifications-label",tooltip:!0};s[42]!==void 0&&(C.state=s[42]),i=new wt({props:C}),ye.push(()=>Ie(i,"state",V)),i.$on("change",s[88]);function A(B){s[89](B)}let H={ariaLabelledbyId:"whats-new-label",tooltip:!0};return s[43]!==void 0&&(H.state=s[43]),I=new wt({props:H}),ye.push(()=>Ie(I,"state",A)),I.$on("change",s[90]),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),m=S(),h=g("div"),_=g("div"),w=g("div"),k=z(p),E=S(),y=g("div"),X(I.$$.fragment),this.h()},l(B){e=v(B,"DIV",{});var W=b(e);t=v(W,"DIV",{class:!0});var U=b(t);l=v(U,"DIV",{id:!0,class:!0});var K=b(l);a=F(K,r),K.forEach(d),n=T(U),o=v(U,"DIV",{class:!0});var G=b(o);ee(i.$$.fragment,G),G.forEach(d),U.forEach(d),W.forEach(d),m=T(B),h=v(B,"DIV",{});var M=b(h);_=v(M,"DIV",{class:!0});var R=b(_);w=v(R,"DIV",{id:!0,class:!0});var N=b(w);k=F(N,p),N.forEach(d),E=T(R),y=v(R,"DIV",{class:!0});var j=b(y);ee(I.$$.fragment,j),j.forEach(d),R.forEach(d),M.forEach(d),this.h()},h(){f(l,"id","toast-notifications-label"),f(l,"class","self-center text-xs"),f(o,"class","flex items-center gap-2 p-1"),f(t,"class","py-0.5 flex w-full justify-between"),f(w,"id","whats-new-label"),f(w,"class","self-center text-xs"),f(y,"class","flex items-center gap-2 p-1"),f(_,"class","py-0.5 flex w-full justify-between")},m(B,W){P(B,e,W),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),P(B,m,W),P(B,h,W),u(h,_),u(_,w),u(w,k),u(_,E),u(_,y),Q(I,y,null),O=!0},p(B,W){(!O||W[1]&8388608)&&r!==(r=B[54].t("Toast notifications for new updates")+"")&&Y(a,r);const U={};!c&&W[1]&2048&&(c=!0,U.state=B[42],De(()=>c=!1)),i.$set(U),(!O||W[1]&8388608)&&p!==(p=B[54].t(`Show "What's New" modal on login`)+"")&&Y(k,p);const K={};!D&&W[1]&4096&&(D=!0,K.state=B[43],De(()=>D=!1)),I.$set(K)},i(B){O||($(i.$$.fragment,B),$(I.$$.fragment,B),O=!0)},o(B){L(i.$$.fragment,B),L(I.$$.fragment,B),O=!1},d(B){B&&(d(e),d(m),d(h)),x(i),x(I)}}}function um(s){let e,t,l,r=s[54].t("Display the username instead of You in the Chat")+"",a,n,o,i,c,m;function h(w){s[95](w)}let _={ariaLabelledbyId:"chat-bubble-username-label",tooltip:!0};return s[11]!==void 0&&(_.state=s[11]),i=new wt({props:_}),ye.push(()=>Ie(i,"state",h)),i.$on("change",s[96]),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),this.h()},l(w){e=v(w,"DIV",{});var p=b(e);t=v(p,"DIV",{class:!0});var k=b(t);l=v(k,"DIV",{id:!0,class:!0});var E=b(l);a=F(E,r),E.forEach(d),n=T(k),o=v(k,"DIV",{class:!0});var y=b(o);ee(i.$$.fragment,y),y.forEach(d),k.forEach(d),p.forEach(d),this.h()},h(){f(l,"id","chat-bubble-username-label"),f(l,"class","self-center text-xs"),f(o,"class","flex items-center gap-2 p-1"),f(t,"class","py-0.5 flex w-full justify-between")},m(w,p){P(w,e,p),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),m=!0},p(w,p){(!m||p[1]&8388608)&&r!==(r=w[54].t("Display the username instead of You in the Chat")+"")&&Y(a,r);const k={};!c&&p[0]&2048&&(c=!0,k.state=w[11],De(()=>c=!1)),i.$set(k)},i(w){m||($(i.$$.fragment,w),m=!0)},o(w){L(i.$$.fragment,w),m=!1},d(w){w&&d(e),x(i)}}}function cm(s){let e,t=s[54].t("Manage")+"",l,r,a,n;return{c(){e=g("button"),l=z(t),this.h()},l(o){e=v(o,"BUTTON",{class:!0,type:!0,"aria-label":!0});var i=b(e);l=F(i,t),i.forEach(d),this.h()},h(){f(e,"class","text-xs text-gray-700 dark:text-gray-400 underline"),f(e,"type","button"),f(e,"aria-label",r=s[54].t("Open Modal To Manage Floating Quick Actions"))},m(o,i){P(o,e,i),u(e,l),a||(n=he(e,"click",s[129]),a=!0)},p(o,i){i[1]&8388608&&t!==(t=o[54].t("Manage")+"")&&Y(l,t),i[1]&8388608&&r!==(r=o[54].t("Open Modal To Manage Floating Quick Actions"))&&f(e,"aria-label",r)},d(o){o&&d(e),a=!1,n()}}}function dm(s){var K,G;let e,t,l,r=s[54].t("Show Formatting Toolbar")+"",a,n,o,i,c,m,h,_,w,p=s[54].t("Insert Prompt as Rich Text")+"",k,E,y,I,D,O,V,C;function A(M){s[136](M)}let H={ariaLabelledbyId:"show-formatting-toolbar-label",tooltip:!0};s[18]!==void 0&&(H.state=s[18]),i=new wt({props:H}),ye.push(()=>Ie(i,"state",A)),i.$on("change",s[137]);function B(M){s[138](M)}let W={ariaLabelledbyId:"insert-prompt-as-rich-text-label",tooltip:!0};s[19]!==void 0&&(W.state=s[19]),I=new wt({props:W}),ye.push(()=>Ie(I,"state",B)),I.$on("change",s[139]);let U=((G=(K=s[53])==null?void 0:K.features)==null?void 0:G.enable_autocomplete_generation)&&hm(s);return{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),m=S(),h=g("div"),_=g("div"),w=g("div"),k=z(p),E=S(),y=g("div"),X(I.$$.fragment),O=S(),U&&U.c(),V=at(),this.h()},l(M){e=v(M,"DIV",{});var R=b(e);t=v(R,"DIV",{class:!0});var N=b(t);l=v(N,"DIV",{id:!0,class:!0});var j=b(l);a=F(j,r),j.forEach(d),n=T(N),o=v(N,"DIV",{class:!0});var te=b(o);ee(i.$$.fragment,te),te.forEach(d),N.forEach(d),R.forEach(d),m=T(M),h=v(M,"DIV",{});var q=b(h);_=v(q,"DIV",{class:!0});var Z=b(_);w=v(Z,"DIV",{id:!0,class:!0});var le=b(w);k=F(le,p),le.forEach(d),E=T(Z),y=v(Z,"DIV",{class:!0});var ce=b(y);ee(I.$$.fragment,ce),ce.forEach(d),Z.forEach(d),q.forEach(d),O=T(M),U&&U.l(M),V=at(),this.h()},h(){f(l,"id","show-formatting-toolbar-label"),f(l,"class","self-center text-xs"),f(o,"class","flex items-center gap-2 p-1"),f(t,"class","py-0.5 flex w-full justify-between"),f(w,"id","insert-prompt-as-rich-text-label"),f(w,"class","self-center text-xs"),f(y,"class","flex items-center gap-2 p-1"),f(_,"class","py-0.5 flex w-full justify-between")},m(M,R){P(M,e,R),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),P(M,m,R),P(M,h,R),u(h,_),u(_,w),u(w,k),u(_,E),u(_,y),Q(I,y,null),P(M,O,R),U&&U.m(M,R),P(M,V,R),C=!0},p(M,R){var te,q;(!C||R[1]&8388608)&&r!==(r=M[54].t("Show Formatting Toolbar")+"")&&Y(a,r);const N={};!c&&R[0]&262144&&(c=!0,N.state=M[18],De(()=>c=!1)),i.$set(N),(!C||R[1]&8388608)&&p!==(p=M[54].t("Insert Prompt as Rich Text")+"")&&Y(k,p);const j={};!D&&R[0]&524288&&(D=!0,j.state=M[19],De(()=>D=!1)),I.$set(j),(q=(te=M[53])==null?void 0:te.features)!=null&&q.enable_autocomplete_generation?U?(U.p(M,R),R[1]&4194304&&$(U,1)):(U=hm(M),U.c(),$(U,1),U.m(V.parentNode,V)):U&&(Ae(),L(U,1,1,()=>{U=null}),Ne())},i(M){C||($(i.$$.fragment,M),$(I.$$.fragment,M),$(U),C=!0)},o(M){L(i.$$.fragment,M),L(I.$$.fragment,M),L(U),C=!1},d(M){M&&(d(e),d(m),d(h),d(O),d(V)),x(i),x(I),U&&U.d(M)}}}function hm(s){let e,t,l,r=s[54].t("Prompt Autocompletion")+"",a,n,o,i,c,m;function h(w){s[140](w)}let _={ariaLabelledbyId:"prompt-autocompletion-label",tooltip:!0};return s[20]!==void 0&&(_.state=s[20]),i=new wt({props:_}),ye.push(()=>Ie(i,"state",h)),i.$on("change",s[141]),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),this.h()},l(w){e=v(w,"DIV",{});var p=b(e);t=v(p,"DIV",{class:!0});var k=b(t);l=v(k,"DIV",{id:!0,class:!0});var E=b(l);a=F(E,r),E.forEach(d),n=T(k),o=v(k,"DIV",{class:!0});var y=b(o);ee(i.$$.fragment,y),y.forEach(d),k.forEach(d),p.forEach(d),this.h()},h(){f(l,"id","prompt-autocompletion-label"),f(l,"class","self-center text-xs"),f(o,"class","flex items-center gap-2 p-1"),f(t,"class","py-0.5 flex w-full justify-between")},m(w,p){P(w,e,p),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),m=!0},p(w,p){(!m||p[1]&8388608)&&r!==(r=w[54].t("Prompt Autocompletion")+"")&&Y(a,r);const k={};!c&&p[0]&1048576&&(c=!0,k.state=w[20],De(()=>c=!1)),i.$set(k)},i(w){m||($(i.$$.fragment,w),m=!0)},o(w){L(i.$$.fragment,w),m=!1},d(w){w&&d(e),x(i)}}}function mm(s){let e,t=s[54].t("Manage")+"",l,r,a,n;return{c(){e=g("button"),l=z(t),this.h()},l(o){e=v(o,"BUTTON",{class:!0,type:!0,"aria-label":!0});var i=b(e);l=F(i,t),i.forEach(d),this.h()},h(){f(e,"class","text-xs text-gray-700 dark:text-gray-400 underline"),f(e,"type","button"),f(e,"aria-label",r=s[54].t("Open Modal To Manage Image Compression"))},m(o,i){P(o,e,i),u(e,l),a||(n=he(e,"click",s[154]),a=!0)},p(o,i){i[1]&8388608&&t!==(t=o[54].t("Manage")+"")&&Y(l,t),i[1]&8388608&&r!==(r=o[54].t("Open Modal To Manage Image Compression"))&&f(e,"aria-label",r)},d(o){o&&d(e),a=!1,n()}}}function _m(s){let e,t,l,r=s[54].t("Compress Images in Channels")+"",a,n,o,i,c,m;function h(w){s[157](w)}let _={ariaLabelledbyId:"image-compression-in-channels-label",tooltip:!0};return s[40]!==void 0&&(_.state=s[40]),i=new wt({props:_}),ye.push(()=>Ie(i,"state",h)),i.$on("change",s[158]),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("div"),X(i.$$.fragment),this.h()},l(w){e=v(w,"DIV",{});var p=b(e);t=v(p,"DIV",{class:!0});var k=b(t);l=v(k,"DIV",{id:!0,class:!0});var E=b(l);a=F(E,r),E.forEach(d),n=T(k),o=v(k,"DIV",{class:!0});var y=b(o);ee(i.$$.fragment,y),y.forEach(d),k.forEach(d),p.forEach(d),this.h()},h(){f(l,"id","image-compression-in-channels-label"),f(l,"class","self-center text-xs"),f(o,"class","flex items-center gap-2 p-1"),f(t,"class","py-0.5 flex w-full justify-between")},m(w,p){P(w,e,p),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),m=!0},p(w,p){(!m||p[1]&8388608)&&r!==(r=w[54].t("Compress Images in Channels")+"")&&Y(a,r);const k={};!c&&p[1]&512&&(c=!0,k.state=w[40],De(()=>c=!1)),i.$set(k)},i(w){m||($(i.$$.fragment,w),m=!0)},o(w){L(i.$$.fragment,w),m=!1},d(w){w&&d(e),x(i)}}}function db(s){var Dc;let e,t,l,r,a,n,o,i,c,m,h,_,w=s[54].t("UI")+"",p,k,E,y,I,D=s[54].t("High Contrast Mode")+"",O,V,C=s[54].t("Beta")+"",A,H,B,W,U,K,G,M,R,N,j=s[54].t("Display chat title in tab")+"",te,q,Z,le,ce,ae,ie,oe,fe,se=s[54].t("Notification Sound")+"",re,ne,me,_e,pe,ve,ge,Ce,Le,Oe,je=s[54].t("Allow User Location")+"",Ge,et,He,Me,$e,Re,Se,ze,gt,ft=s[54].t("Haptic Feedback")+"",de,tt,ut=s[54].t("Android")+"",be,Fe,Qe,Ke,nt,Rt,At,It,Je,ct,Ot=s[54].t("Copy Formatted Text")+"",zt,ll,Ft,kt,Be,We,dt,Te,ot=s[54].t("Chat")+"",$t,Vt,Pt,Dt,Pe,lt=s[54].t("Chat direction")+"",yt,Et,vt,St,Ut=(s[28]==="LTR"?s[54].t("LTR"):s[28]==="RTL"?s[54].t("RTL"):s[54].t("Auto"))+"",Bt,Wt,Nt,Ht,ue,Ue=s[54].t("Landing Page Mode")+"",xe,qe,Tt,bt,Yt=(s[26]===""?s[54].t("Default"):s[54].t("Chat"))+"",gl,ul,ml,_l,vl,Sl=s[54].t("Chat Background Image")+"",Cl,Es,cl,bl,Tl=(s[1]!==null?s[54].t("Reset"):s[54].t("Upload"))+"",Yr,Oa,er,Al,is,tr=s[54].t("Chat Bubble UI")+"",qr,Ma,Is,wl,Ba,Pa,Zr,lr,Nl,fs,sr=s[54].t("Widescreen Mode")+"",Jr,Ua,Ds,kl,ja,Ra,rr,Ll,us,ar=s[54].t("Temporary Chat by Default")+"",Xr,Ha,Cs,yl,za,Fa,nr,Ol,cs,or=s[54].t("Fade Effect for Streaming Text")+"",Qr,Wa,$s,El,Ka,Ga,ke,fl,ds,Ya=s[54].t("Title Auto-Generation")+"",Vo,Ji,xr,Ml,Xi,Qi,qa,Vs,ir,Za=s[54].t("Follow-Up Auto-Generation")+"",So,xi,ea,Bl,ef,tf,Ja,Ss,fr,Xa=s[54].t("Chat Tags Auto-Generation")+"",To,lf,ta,Pl,sf,rf,Qa,Ts,ur,xa=s[54].t("Auto-Copy Response to Clipboard")+"",Ao,af,la,Ul,nf,of,en,As,cr,tn=s[54].t("Insert Suggestion Prompt to Input")+"",No,ff,sa,jl,uf,cf,ln,Ns,dr,sn=s[54].t("Keep Follow-Up Prompts in Chat")+"",Lo,df,ra,Rl,hf,mf,rn,Ls,hr,an=s[54].t("Insert Follow-Up Prompt to Input")+"",Oo,_f,aa,Hl,pf,gf,nn,Os,mr,on=s[54].t("Regenerate Menu")+"",Mo,vf,na,zl,bf,wf,fn,Ms,_r,un=s[54].t("Always Collapse Code Blocks")+"",Bo,kf,oa,Fl,yf,Ef,cn,Bs,pr,dn=s[54].t("Always Expand Details")+"",Po,If,ia,Wl,Df,Cf,hn,Ps,gr,mn=s[54].t("Display Multi-model Responses in Tabs")+"",Uo,$f,fa,Kl,Vf,Sf,_n,Us,vr,pn=s[54].t("Scroll On Branch Change")+"",jo,Tf,ua,Gl,Af,Nf,gn,js,br,vn=s[54].t("Stylized PDF Export")+"",Ro,Lf,ca,Yl,Of,Mf,bn,Rs,wr,wn=s[54].t("Floating Quick Actions")+"",Ho,Bf,hs,zo,ql,Pf,Uf,kn,Hs,kr,yn=s[54].t("Web Search in Chat")+"",Fo,jf,ms,yr,En=(s[47]==="always"?s[54].t("Always"):s[54].t("Default"))+"",Wo,Rf,da,In=s[54].t("Input")+"",Ko,Hf,Dn,zs,Er,Cn=s[54].t("Enter Key Behavior")+"",Go,zf,_s,Ir,$n=(s[29]===!0?s[54].t("Ctrl+Enter to Send"):s[54].t("Enter to Send"))+"",Yo,Ff,Vn,Fs,Dr,Sn=s[54].t("Rich Text Input for Chat")+"",qo,Wf,ha,Zl,Kf,Gf,Zo,Tn,Ws,Cr,An=s[54].t("Paste Large Text as File")+"",Jo,Yf,ma,Jl,qf,Zf,_a,Nn=s[54].t("Artifacts")+"",Xo,Jf,Ln,Ks,$r,On=s[54].t("Detect Artifacts Automatically")+"",Qo,Xf,pa,Xl,Qf,xf,Mn,Gs,Vr,Bn=s[54].t("iframe Sandbox Allow Same Origin")+"",xo,eu,ga,Ql,tu,lu,Pn,Ys,Sr,Un=s[54].t("iframe Sandbox Allow Forms")+"",ei,su,va,xl,ru,au,ba,jn=s[54].t("Voice")+"",ti,nu,Rn,qs,Tr,Hn=s[54].t("Allow Voice Interruption in Call")+"",li,ou,wa,es,iu,fu,zn,Zs,Ar,Fn=s[54].t("Display Emoji in Call")+"",si,uu,ka,ts,cu,du,ya,Wn=s[54].t("File")+"",ri,hu,Kn,Js,Nr,Gn=s[54].t("Image Compression")+"",ai,mu,ps,ni,ls,_u,pu,gu,Ea,Lr,Yn=s[54].t("Save")+"",oi,it,vu,Wu;function T0(J){s[67](J)}let Ku={floatingActionButtons:s[37],onSave:s[66]};s[50]!==void 0&&(Ku.show=s[50]),e=new ob({props:Ku}),ye.push(()=>Ie(e,"show",T0));function A0(J){s[69](J)}let Gu={size:s[39],onSave:s[68]};s[51]!==void 0&&(Gu.show=s[51]),r=new cb({props:Gu}),ye.push(()=>Ie(r,"show",A0));function N0(J){s[73](J)}let Yu={ariaLabelledbyId:"high-contrast-mode-label",tooltip:!0};s[14]!==void 0&&(Yu.state=s[14]),U=new wt({props:Yu}),ye.push(()=>Ie(U,"state",N0)),U.$on("change",s[74]);function L0(J){s[75](J)}let qu={ariaLabelledbyId:"use-chat-title-as-tab-title-label",tooltip:!0};s[35]!==void 0&&(qu.state=s[35]),le=new wt({props:qu}),ye.push(()=>Ie(le,"state",L0)),le.$on("change",s[76]);function O0(J){s[77](J)}let Zu={ariaLabelledbyId:"notification-sound-label",tooltip:!0};s[12]!==void 0&&(Zu.state=s[12]),_e=new wt({props:Zu}),ye.push(()=>Ie(_e,"state",O0)),_e.$on("change",s[78]);let qt=s[12]&&im(s);function M0(J){s[81](J)}let Ju={ariaLabelledbyId:"allow-user-location-label",tooltip:!0};s[10]!==void 0&&(Ju.state=s[10]),Me=new wt({props:Ju}),ye.push(()=>Ie(Me,"state",M0)),Me.$on("change",s[82]);function B0(J){s[83](J)}let Xu={ariaLabelledbyId:"haptic-feedback-label",tooltip:!0};s[46]!==void 0&&(Xu.state=s[46]),nt=new wt({props:Xu}),ye.push(()=>Ie(nt,"state",B0)),nt.$on("change",s[84]);function P0(J){s[85](J)}let Qu={ariaLabelledbyId:"copy-formatted-label",tooltip:!0};s[30]!==void 0&&(Qu.state=s[30]),kt=new wt({props:Qu}),ye.push(()=>Ie(kt,"state",P0)),kt.$on("change",s[86]);let Zt=((Dc=s[55])==null?void 0:Dc.role)==="admin"&&fm(s);function U0(J){s[93](J)}let xu={tooltip:!0,ariaLabelledbyId:"chat-bubble-ui-label"};s[27]!==void 0&&(xu.state=s[27]),wl=new wt({props:xu}),ye.push(()=>Ie(wl,"state",U0)),wl.$on("change",s[94]);let Jt=!s[52].chatBubble&&um(s);function j0(J){s[97](J)}let ec={ariaLabelledbyId:"widescreen-mode-label",tooltip:!0};s[8]!==void 0&&(ec.state=s[8]),kl=new wt({props:ec}),ye.push(()=>Ie(kl,"state",j0)),kl.$on("change",s[98]);function R0(J){s[99](J)}let tc={ariaLabelledbyId:"temp-chat-default-label",tooltip:!0};s[31]!==void 0&&(tc.state=s[31]),yl=new wt({props:tc}),ye.push(()=>Ie(yl,"state",R0)),yl.$on("change",s[100]);function H0(J){s[101](J)}let lc={ariaLabelledbyId:"fade-streaming-label",tooltip:!0};s[32]!==void 0&&(lc.state=s[32]),El=new wt({props:lc}),ye.push(()=>Ie(El,"state",H0)),El.$on("change",s[102]);function z0(J){s[103](J)}let sc={ariaLabelledbyId:"auto-generation-label",tooltip:!0};s[4]!==void 0&&(sc.state=s[4]),Ml=new wt({props:sc}),ye.push(()=>Ie(Ml,"state",z0)),Ml.$on("change",s[104]);function F0(J){s[105](J)}let rc={ariaLabelledbyId:"follow-up-auto-generation-label",tooltip:!0};s[5]!==void 0&&(rc.state=s[5]),Bl=new wt({props:rc}),ye.push(()=>Ie(Bl,"state",F0)),Bl.$on("change",s[106]);function W0(J){s[107](J)}let ac={ariaLabelledbyId:"chat-tags-label",tooltip:!0};s[6]!==void 0&&(ac.state=s[6]),Pl=new wt({props:ac}),ye.push(()=>Ie(Pl,"state",W0)),Pl.$on("change",s[108]);function K0(J){s[109](J)}let nc={ariaLabelledbyId:"auto-copy-label",tooltip:!0};s[7]!==void 0&&(nc.state=s[7]),Ul=new wt({props:nc}),ye.push(()=>Ie(Ul,"state",K0)),Ul.$on("change",s[110]);function G0(J){s[111](J)}let oc={ariaLabelledbyId:"insert-suggestion-prompt-label",tooltip:!0};s[22]!==void 0&&(oc.state=s[22]),jl=new wt({props:oc}),ye.push(()=>Ie(jl,"state",G0)),jl.$on("change",s[112]);function Y0(J){s[113](J)}let ic={ariaLabelledbyId:"keep-follow-up-prompts-label",tooltip:!0};s[23]!==void 0&&(ic.state=s[23]),Rl=new wt({props:ic}),ye.push(()=>Ie(Rl,"state",Y0)),Rl.$on("change",s[114]);function q0(J){s[115](J)}let fc={ariaLabelledbyId:"insert-follow-up-prompt-label",tooltip:!0};s[24]!==void 0&&(fc.state=s[24]),Hl=new wt({props:fc}),ye.push(()=>Ie(Hl,"state",q0)),Hl.$on("change",s[116]);function Z0(J){s[117](J)}let uc={ariaLabelledbyId:"regenerate-menu-label",tooltip:!0};s[25]!==void 0&&(uc.state=s[25]),zl=new wt({props:uc}),ye.push(()=>Ie(zl,"state",Z0)),zl.$on("change",s[118]);function J0(J){s[119](J)}let cc={ariaLabelledbyId:"always-collapse-label",tooltip:!0};s[33]!==void 0&&(cc.state=s[33]),Fl=new wt({props:cc}),ye.push(()=>Ie(Fl,"state",J0)),Fl.$on("change",s[120]);function X0(J){s[121](J)}let dc={ariaLabelledbyId:"always-expand-label",tooltip:!0};s[34]!==void 0&&(dc.state=s[34]),Wl=new wt({props:dc}),ye.push(()=>Ie(Wl,"state",X0)),Wl.$on("change",s[122]);function Q0(J){s[123](J)}let hc={ariaLabelledbyId:"keep-followup-prompts-label",tooltip:!0};s[16]!==void 0&&(hc.state=s[16]),Kl=new wt({props:hc}),ye.push(()=>Ie(Kl,"state",Q0)),Kl.$on("change",s[124]);function x0(J){s[125](J)}let mc={ariaLabelledbyId:"scroll-on-branch-change-label",tooltip:!0};s[9]!==void 0&&(mc.state=s[9]),Gl=new wt({props:mc}),ye.push(()=>Ie(Gl,"state",x0)),Gl.$on("change",s[126]);function e_(J){s[127](J)}let _c={ariaLabelledbyId:"stylized-pdf-export-label",tooltip:!0};s[41]!==void 0&&(_c.state=s[41]),Yl=new wt({props:_c}),ye.push(()=>Ie(Yl,"state",e_)),Yl.$on("change",s[128]);let sl=s[36]&&cm(s);function t_(J){s[130](J)}let pc={ariaLabelledbyId:"floating-action-buttons-label",tooltip:!0};s[36]!==void 0&&(pc.state=s[36]),ql=new wt({props:pc}),ye.push(()=>Ie(ql,"state",t_)),ql.$on("change",s[131]);function l_(J){s[134](J)}let gc={tooltip:!0,ariaLabelledbyId:"rich-input-label"};s[17]!==void 0&&(gc.state=s[17]),Zl=new wt({props:gc}),ye.push(()=>Ie(Zl,"state",l_)),Zl.$on("change",s[135]);let Xt=s[17]&&dm(s);function s_(J){s[142](J)}let vc={tooltip:!0,ariaLabelledbyId:"paste-large-label"};s[21]!==void 0&&(vc.state=s[21]),Jl=new wt({props:vc}),ye.push(()=>Ie(Jl,"state",s_)),Jl.$on("change",s[143]);function r_(J){s[144](J)}let bc={ariaLabelledbyId:"detect-artifacts-label",tooltip:!0};s[15]!==void 0&&(bc.state=s[15]),Xl=new wt({props:bc}),ye.push(()=>Ie(Xl,"state",r_)),Xl.$on("change",s[145]);function a_(J){s[146](J)}let wc={ariaLabelledbyId:"iframe-sandbox-allow-same-origin-label",tooltip:!0};s[48]!==void 0&&(wc.state=s[48]),Ql=new wt({props:wc}),ye.push(()=>Ie(Ql,"state",a_)),Ql.$on("change",s[147]);function n_(J){s[148](J)}let kc={ariaLabelledbyId:"iframe-sandbox-allow-forms-label",tooltip:!0};s[49]!==void 0&&(kc.state=s[49]),xl=new wt({props:kc}),ye.push(()=>Ie(xl,"state",n_)),xl.$on("change",s[149]);function o_(J){s[150](J)}let yc={ariaLabelledbyId:"allow-voice-interruption-in-call-label",tooltip:!0};s[45]!==void 0&&(yc.state=s[45]),es=new wt({props:yc}),ye.push(()=>Ie(es,"state",o_)),es.$on("change",s[151]);function i_(J){s[152](J)}let Ec={ariaLabelledbyId:"display-emoji-label",tooltip:!0};s[44]!==void 0&&(Ec.state=s[44]),ts=new wt({props:Ec}),ye.push(()=>Ie(ts,"state",i_)),ts.$on("change",s[153]);let rl=s[38]&&mm(s);function f_(J){s[155](J)}let Ic={ariaLabelledbyId:"image-compression-label",tooltip:!0};s[38]!==void 0&&(Ic.state=s[38]),ls=new wt({props:Ic}),ye.push(()=>Ie(ls,"state",f_)),ls.$on("change",s[156]);let Qt=s[38]&&_m(s);return{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment),n=S(),o=g("form"),i=g("input"),c=S(),m=g("div"),h=g("div"),_=g("h1"),p=z(w),k=S(),E=g("div"),y=g("div"),I=g("div"),O=z(D),V=z(" ("),A=z(C),H=z(")"),B=S(),W=g("div"),X(U.$$.fragment),G=S(),M=g("div"),R=g("div"),N=g("div"),te=z(j),q=S(),Z=g("div"),X(le.$$.fragment),ae=S(),ie=g("div"),oe=g("div"),fe=g("div"),re=z(se),ne=S(),me=g("div"),X(_e.$$.fragment),ve=S(),qt&&qt.c(),ge=S(),Ce=g("div"),Le=g("div"),Oe=g("div"),Ge=z(je),et=S(),He=g("div"),X(Me.$$.fragment),Re=S(),Se=g("div"),ze=g("div"),gt=g("div"),de=z(ft),tt=z(" ("),be=z(ut),Fe=z(")"),Qe=S(),Ke=g("div"),X(nt.$$.fragment),At=S(),It=g("div"),Je=g("div"),ct=g("div"),zt=z(Ot),ll=S(),Ft=g("div"),X(kt.$$.fragment),We=S(),Zt&&Zt.c(),dt=S(),Te=g("div"),$t=z(ot),Vt=S(),Pt=g("div"),Dt=g("div"),Pe=g("div"),yt=z(lt),Et=S(),vt=g("button"),St=g("span"),Bt=z(Ut),Wt=S(),Nt=g("div"),Ht=g("div"),ue=g("div"),xe=z(Ue),qe=S(),Tt=g("button"),bt=g("span"),gl=z(Yt),ul=S(),ml=g("div"),_l=g("div"),vl=g("div"),Cl=z(Sl),Es=S(),cl=g("button"),bl=g("span"),Yr=z(Tl),Oa=S(),er=g("div"),Al=g("div"),is=g("div"),qr=z(tr),Ma=S(),Is=g("div"),X(wl.$$.fragment),Pa=S(),Jt&&Jt.c(),Zr=S(),lr=g("div"),Nl=g("div"),fs=g("div"),Jr=z(sr),Ua=S(),Ds=g("div"),X(kl.$$.fragment),Ra=S(),rr=g("div"),Ll=g("div"),us=g("div"),Xr=z(ar),Ha=S(),Cs=g("div"),X(yl.$$.fragment),Fa=S(),nr=g("div"),Ol=g("div"),cs=g("div"),Qr=z(or),Wa=S(),$s=g("div"),X(El.$$.fragment),Ga=S(),ke=g("div"),fl=g("div"),ds=g("div"),Vo=z(Ya),Ji=S(),xr=g("div"),X(Ml.$$.fragment),Qi=S(),qa=g("div"),Vs=g("div"),ir=g("div"),So=z(Za),xi=S(),ea=g("div"),X(Bl.$$.fragment),tf=S(),Ja=g("div"),Ss=g("div"),fr=g("div"),To=z(Xa),lf=S(),ta=g("div"),X(Pl.$$.fragment),rf=S(),Qa=g("div"),Ts=g("div"),ur=g("div"),Ao=z(xa),af=S(),la=g("div"),X(Ul.$$.fragment),of=S(),en=g("div"),As=g("div"),cr=g("div"),No=z(tn),ff=S(),sa=g("div"),X(jl.$$.fragment),cf=S(),ln=g("div"),Ns=g("div"),dr=g("div"),Lo=z(sn),df=S(),ra=g("div"),X(Rl.$$.fragment),mf=S(),rn=g("div"),Ls=g("div"),hr=g("div"),Oo=z(an),_f=S(),aa=g("div"),X(Hl.$$.fragment),gf=S(),nn=g("div"),Os=g("div"),mr=g("div"),Mo=z(on),vf=S(),na=g("div"),X(zl.$$.fragment),wf=S(),fn=g("div"),Ms=g("div"),_r=g("div"),Bo=z(un),kf=S(),oa=g("div"),X(Fl.$$.fragment),Ef=S(),cn=g("div"),Bs=g("div"),pr=g("div"),Po=z(dn),If=S(),ia=g("div"),X(Wl.$$.fragment),Cf=S(),hn=g("div"),Ps=g("div"),gr=g("div"),Uo=z(mn),$f=S(),fa=g("div"),X(Kl.$$.fragment),Sf=S(),_n=g("div"),Us=g("div"),vr=g("div"),jo=z(pn),Tf=S(),ua=g("div"),X(Gl.$$.fragment),Nf=S(),gn=g("div"),js=g("div"),br=g("div"),Ro=z(vn),Lf=S(),ca=g("div"),X(Yl.$$.fragment),Mf=S(),bn=g("div"),Rs=g("div"),wr=g("label"),Ho=z(wn),Bf=S(),hs=g("div"),sl&&sl.c(),zo=S(),X(ql.$$.fragment),Uf=S(),kn=g("div"),Hs=g("div"),kr=g("div"),Fo=z(yn),jf=S(),ms=g("button"),yr=g("span"),Wo=z(En),Rf=S(),da=g("div"),Ko=z(In),Hf=S(),Dn=g("div"),zs=g("div"),Er=g("div"),Go=z(Cn),zf=S(),_s=g("button"),Ir=g("span"),Yo=z($n),Ff=S(),Vn=g("div"),Fs=g("div"),Dr=g("div"),qo=z(Sn),Wf=S(),ha=g("div"),X(Zl.$$.fragment),Gf=S(),Xt&&Xt.c(),Zo=S(),Tn=g("div"),Ws=g("div"),Cr=g("div"),Jo=z(An),Yf=S(),ma=g("div"),X(Jl.$$.fragment),Zf=S(),_a=g("div"),Xo=z(Nn),Jf=S(),Ln=g("div"),Ks=g("div"),$r=g("div"),Qo=z(On),Xf=S(),pa=g("div"),X(Xl.$$.fragment),xf=S(),Mn=g("div"),Gs=g("div"),Vr=g("div"),xo=z(Bn),eu=S(),ga=g("div"),X(Ql.$$.fragment),lu=S(),Pn=g("div"),Ys=g("div"),Sr=g("div"),ei=z(Un),su=S(),va=g("div"),X(xl.$$.fragment),au=S(),ba=g("div"),ti=z(jn),nu=S(),Rn=g("div"),qs=g("div"),Tr=g("div"),li=z(Hn),ou=S(),wa=g("div"),X(es.$$.fragment),fu=S(),zn=g("div"),Zs=g("div"),Ar=g("div"),si=z(Fn),uu=S(),ka=g("div"),X(ts.$$.fragment),du=S(),ya=g("div"),ri=z(Wn),hu=S(),Kn=g("div"),Js=g("div"),Nr=g("div"),ai=z(Gn),mu=S(),ps=g("div"),rl&&rl.c(),ni=S(),X(ls.$$.fragment),pu=S(),Qt&&Qt.c(),gu=S(),Ea=g("div"),Lr=g("button"),oi=z(Yn),this.h()},l(J){ee(e.$$.fragment,J),l=T(J),ee(r.$$.fragment,J),n=T(J),o=v(J,"FORM",{id:!0,class:!0});var we=b(o);i=v(we,"INPUT",{type:!0,accept:!0}),c=T(we),m=v(we,"DIV",{class:!0});var Or=b(m);h=v(Or,"DIV",{});var Ve=b(h);_=v(Ve,"H1",{class:!0});var qn=b(_);p=F(qn,w),qn.forEach(d),k=T(Ve),E=v(Ve,"DIV",{});var Zn=b(E);y=v(Zn,"DIV",{class:!0});var Mr=b(y);I=v(Mr,"DIV",{id:!0,class:!0});var Xs=b(I);O=F(Xs,D),V=F(Xs," ("),A=F(Xs,C),H=F(Xs,")"),Xs.forEach(d),B=T(Mr),W=v(Mr,"DIV",{class:!0});var Jn=b(W);ee(U.$$.fragment,Jn),Jn.forEach(d),Mr.forEach(d),Zn.forEach(d),G=T(Ve),M=v(Ve,"DIV",{});var Xn=b(M);R=v(Xn,"DIV",{class:!0});var Br=b(R);N=v(Br,"DIV",{id:!0,class:!0});var Qn=b(N);te=F(Qn,j),Qn.forEach(d),q=T(Br),Z=v(Br,"DIV",{class:!0});var xn=b(Z);ee(le.$$.fragment,xn),xn.forEach(d),Br.forEach(d),Xn.forEach(d),ae=T(Ve),ie=v(Ve,"DIV",{});var eo=b(ie);oe=v(eo,"DIV",{class:!0});var Pr=b(oe);fe=v(Pr,"DIV",{id:!0,class:!0});var to=b(fe);re=F(to,se),to.forEach(d),ne=T(Pr),me=v(Pr,"DIV",{class:!0});var lo=b(me);ee(_e.$$.fragment,lo),lo.forEach(d),Pr.forEach(d),eo.forEach(d),ve=T(Ve),qt&&qt.l(Ve),ge=T(Ve),Ce=v(Ve,"DIV",{});var so=b(Ce);Le=v(so,"DIV",{id:!0,class:!0});var Ur=b(Le);Oe=v(Ur,"DIV",{class:!0});var ro=b(Oe);Ge=F(ro,je),ro.forEach(d),et=T(Ur),He=v(Ur,"DIV",{class:!0});var ao=b(He);ee(Me.$$.fragment,ao),ao.forEach(d),Ur.forEach(d),so.forEach(d),Re=T(Ve),Se=v(Ve,"DIV",{});var no=b(Se);ze=v(no,"DIV",{class:!0});var jr=b(ze);gt=v(jr,"DIV",{id:!0,class:!0});var Qs=b(gt);de=F(Qs,ft),tt=F(Qs," ("),be=F(Qs,ut),Fe=F(Qs,")"),Qs.forEach(d),Qe=T(jr),Ke=v(jr,"DIV",{class:!0});var oo=b(Ke);ee(nt.$$.fragment,oo),oo.forEach(d),jr.forEach(d),no.forEach(d),At=T(Ve),It=v(Ve,"DIV",{});var io=b(It);Je=v(io,"DIV",{class:!0});var Rr=b(Je);ct=v(Rr,"DIV",{id:!0,class:!0});var fo=b(ct);zt=F(fo,Ot),fo.forEach(d),ll=T(Rr),Ft=v(Rr,"DIV",{class:!0});var uo=b(Ft);ee(kt.$$.fragment,uo),uo.forEach(d),Rr.forEach(d),io.forEach(d),We=T(Ve),Zt&&Zt.l(Ve),dt=T(Ve),Te=v(Ve,"DIV",{class:!0});var co=b(Te);$t=F(co,ot),co.forEach(d),Vt=T(Ve),Pt=v(Ve,"DIV",{});var ho=b(Pt);Dt=v(ho,"DIV",{class:!0});var Hr=b(Dt);Pe=v(Hr,"DIV",{id:!0,class:!0});var mo=b(Pe);yt=F(mo,lt),mo.forEach(d),Et=T(Hr),vt=v(Hr,"BUTTON",{"aria-labelledby":!0,class:!0,type:!0});var _o=b(vt);St=v(_o,"SPAN",{class:!0,id:!0});var po=b(St);Bt=F(po,Ut),po.forEach(d),_o.forEach(d),Hr.forEach(d),ho.forEach(d),Wt=T(Ve),Nt=v(Ve,"DIV",{});var go=b(Nt);Ht=v(go,"DIV",{class:!0});var zr=b(Ht);ue=v(zr,"DIV",{id:!0,class:!0});var Cc=b(ue);xe=F(Cc,Ue),Cc.forEach(d),qe=T(zr),Tt=v(zr,"BUTTON",{"aria-labelledby":!0,class:!0,type:!0});var $c=b(Tt);bt=v($c,"SPAN",{class:!0,id:!0});var Vc=b(bt);gl=F(Vc,Yt),Vc.forEach(d),$c.forEach(d),zr.forEach(d),go.forEach(d),ul=T(Ve),ml=v(Ve,"DIV",{});var Sc=b(ml);_l=v(Sc,"DIV",{class:!0});var ii=b(_l);vl=v(ii,"DIV",{id:!0,class:!0});var Tc=b(vl);Cl=F(Tc,Sl),Tc.forEach(d),Es=T(ii),cl=v(ii,"BUTTON",{"aria-labelledby":!0,class:!0,type:!0});var Ac=b(cl);bl=v(Ac,"SPAN",{class:!0,id:!0});var Nc=b(bl);Yr=F(Nc,Tl),Nc.forEach(d),Ac.forEach(d),ii.forEach(d),Sc.forEach(d),Oa=T(Ve),er=v(Ve,"DIV",{});var Lc=b(er);Al=v(Lc,"DIV",{class:!0});var fi=b(Al);is=v(fi,"DIV",{id:!0,class:!0});var Oc=b(is);qr=F(Oc,tr),Oc.forEach(d),Ma=T(fi),Is=v(fi,"DIV",{class:!0});var Mc=b(Is);ee(wl.$$.fragment,Mc),Mc.forEach(d),fi.forEach(d),Lc.forEach(d),Pa=T(Ve),Jt&&Jt.l(Ve),Zr=T(Ve),lr=v(Ve,"DIV",{});var Bc=b(lr);Nl=v(Bc,"DIV",{class:!0});var ui=b(Nl);fs=v(ui,"DIV",{id:!0,class:!0});var Pc=b(fs);Jr=F(Pc,sr),Pc.forEach(d),Ua=T(ui),Ds=v(ui,"DIV",{class:!0});var Uc=b(Ds);ee(kl.$$.fragment,Uc),Uc.forEach(d),ui.forEach(d),Bc.forEach(d),Ra=T(Ve),rr=v(Ve,"DIV",{});var jc=b(rr);Ll=v(jc,"DIV",{class:!0});var ci=b(Ll);us=v(ci,"DIV",{id:!0,class:!0});var Rc=b(us);Xr=F(Rc,ar),Rc.forEach(d),Ha=T(ci),Cs=v(ci,"DIV",{class:!0});var Hc=b(Cs);ee(yl.$$.fragment,Hc),Hc.forEach(d),ci.forEach(d),jc.forEach(d),Fa=T(Ve),nr=v(Ve,"DIV",{});var zc=b(nr);Ol=v(zc,"DIV",{class:!0});var di=b(Ol);cs=v(di,"DIV",{id:!0,class:!0});var Fc=b(cs);Qr=F(Fc,or),Fc.forEach(d),Wa=T(di),$s=v(di,"DIV",{class:!0});var Wc=b($s);ee(El.$$.fragment,Wc),Wc.forEach(d),di.forEach(d),zc.forEach(d),Ga=T(Ve),ke=v(Ve,"DIV",{});var Kc=b(ke);fl=v(Kc,"DIV",{class:!0});var hi=b(fl);ds=v(hi,"DIV",{id:!0,class:!0});var Gc=b(ds);Vo=F(Gc,Ya),Gc.forEach(d),Ji=T(hi),xr=v(hi,"DIV",{class:!0});var Yc=b(xr);ee(Ml.$$.fragment,Yc),Yc.forEach(d),hi.forEach(d),Kc.forEach(d),Qi=T(Ve),qa=v(Ve,"DIV",{});var qc=b(qa);Vs=v(qc,"DIV",{class:!0});var mi=b(Vs);ir=v(mi,"DIV",{class:!0,id:!0});var Zc=b(ir);So=F(Zc,Za),Zc.forEach(d),xi=T(mi),ea=v(mi,"DIV",{class:!0});var Jc=b(ea);ee(Bl.$$.fragment,Jc),Jc.forEach(d),mi.forEach(d),qc.forEach(d),tf=T(Ve),Ja=v(Ve,"DIV",{});var Xc=b(Ja);Ss=v(Xc,"DIV",{class:!0});var _i=b(Ss);fr=v(_i,"DIV",{id:!0,class:!0});var Qc=b(fr);To=F(Qc,Xa),Qc.forEach(d),lf=T(_i),ta=v(_i,"DIV",{class:!0});var xc=b(ta);ee(Pl.$$.fragment,xc),xc.forEach(d),_i.forEach(d),Xc.forEach(d),rf=T(Ve),Qa=v(Ve,"DIV",{});var ed=b(Qa);Ts=v(ed,"DIV",{class:!0});var pi=b(Ts);ur=v(pi,"DIV",{id:!0,class:!0});var td=b(ur);Ao=F(td,xa),td.forEach(d),af=T(pi),la=v(pi,"DIV",{class:!0});var ld=b(la);ee(Ul.$$.fragment,ld),ld.forEach(d),pi.forEach(d),ed.forEach(d),of=T(Ve),en=v(Ve,"DIV",{});var sd=b(en);As=v(sd,"DIV",{class:!0});var gi=b(As);cr=v(gi,"DIV",{id:!0,class:!0});var rd=b(cr);No=F(rd,tn),rd.forEach(d),ff=T(gi),sa=v(gi,"DIV",{class:!0});var ad=b(sa);ee(jl.$$.fragment,ad),ad.forEach(d),gi.forEach(d),sd.forEach(d),cf=T(Ve),ln=v(Ve,"DIV",{});var nd=b(ln);Ns=v(nd,"DIV",{class:!0});var vi=b(Ns);dr=v(vi,"DIV",{id:!0,class:!0});var od=b(dr);Lo=F(od,sn),od.forEach(d),df=T(vi),ra=v(vi,"DIV",{class:!0});var id=b(ra);ee(Rl.$$.fragment,id),id.forEach(d),vi.forEach(d),nd.forEach(d),mf=T(Ve),rn=v(Ve,"DIV",{});var fd=b(rn);Ls=v(fd,"DIV",{class:!0});var bi=b(Ls);hr=v(bi,"DIV",{id:!0,class:!0});var ud=b(hr);Oo=F(ud,an),ud.forEach(d),_f=T(bi),aa=v(bi,"DIV",{class:!0});var cd=b(aa);ee(Hl.$$.fragment,cd),cd.forEach(d),bi.forEach(d),fd.forEach(d),gf=T(Ve),nn=v(Ve,"DIV",{});var dd=b(nn);Os=v(dd,"DIV",{class:!0});var wi=b(Os);mr=v(wi,"DIV",{id:!0,class:!0});var hd=b(mr);Mo=F(hd,on),hd.forEach(d),vf=T(wi),na=v(wi,"DIV",{class:!0});var md=b(na);ee(zl.$$.fragment,md),md.forEach(d),wi.forEach(d),dd.forEach(d),wf=T(Ve),fn=v(Ve,"DIV",{});var _d=b(fn);Ms=v(_d,"DIV",{class:!0});var ki=b(Ms);_r=v(ki,"DIV",{id:!0,class:!0});var pd=b(_r);Bo=F(pd,un),pd.forEach(d),kf=T(ki),oa=v(ki,"DIV",{class:!0});var gd=b(oa);ee(Fl.$$.fragment,gd),gd.forEach(d),ki.forEach(d),_d.forEach(d),Ef=T(Ve),cn=v(Ve,"DIV",{});var vd=b(cn);Bs=v(vd,"DIV",{class:!0});var yi=b(Bs);pr=v(yi,"DIV",{id:!0,class:!0});var bd=b(pr);Po=F(bd,dn),bd.forEach(d),If=T(yi),ia=v(yi,"DIV",{class:!0});var wd=b(ia);ee(Wl.$$.fragment,wd),wd.forEach(d),yi.forEach(d),vd.forEach(d),Cf=T(Ve),hn=v(Ve,"DIV",{});var kd=b(hn);Ps=v(kd,"DIV",{class:!0});var Ei=b(Ps);gr=v(Ei,"DIV",{id:!0,class:!0});var yd=b(gr);Uo=F(yd,mn),yd.forEach(d),$f=T(Ei),fa=v(Ei,"DIV",{class:!0});var Ed=b(fa);ee(Kl.$$.fragment,Ed),Ed.forEach(d),Ei.forEach(d),kd.forEach(d),Sf=T(Ve),_n=v(Ve,"DIV",{});var Id=b(_n);Us=v(Id,"DIV",{class:!0});var Ii=b(Us);vr=v(Ii,"DIV",{id:!0,class:!0});var Dd=b(vr);jo=F(Dd,pn),Dd.forEach(d),Tf=T(Ii),ua=v(Ii,"DIV",{class:!0});var Cd=b(ua);ee(Gl.$$.fragment,Cd),Cd.forEach(d),Ii.forEach(d),Id.forEach(d),Nf=T(Ve),gn=v(Ve,"DIV",{});var $d=b(gn);js=v($d,"DIV",{class:!0});var Di=b(js);br=v(Di,"DIV",{id:!0,class:!0});var Vd=b(br);Ro=F(Vd,vn),Vd.forEach(d),Lf=T(Di),ca=v(Di,"DIV",{class:!0});var Sd=b(ca);ee(Yl.$$.fragment,Sd),Sd.forEach(d),Di.forEach(d),$d.forEach(d),Mf=T(Ve),bn=v(Ve,"DIV",{});var Td=b(bn);Rs=v(Td,"DIV",{class:!0});var Ci=b(Rs);wr=v(Ci,"LABEL",{id:!0,class:!0});var Ad=b(wr);Ho=F(Ad,wn),Ad.forEach(d),Bf=T(Ci),hs=v(Ci,"DIV",{class:!0});var $i=b(hs);sl&&sl.l($i),zo=T($i),ee(ql.$$.fragment,$i),$i.forEach(d),Ci.forEach(d),Td.forEach(d),Uf=T(Ve),kn=v(Ve,"DIV",{});var Nd=b(kn);Hs=v(Nd,"DIV",{class:!0});var Vi=b(Hs);kr=v(Vi,"DIV",{id:!0,class:!0});var Ld=b(kr);Fo=F(Ld,yn),Ld.forEach(d),jf=T(Vi),ms=v(Vi,"BUTTON",{"aria-labelledby":!0,class:!0,type:!0});var Od=b(ms);yr=v(Od,"SPAN",{class:!0,id:!0});var Md=b(yr);Wo=F(Md,En),Md.forEach(d),Od.forEach(d),Vi.forEach(d),Nd.forEach(d),Rf=T(Ve),da=v(Ve,"DIV",{class:!0});var Bd=b(da);Ko=F(Bd,In),Bd.forEach(d),Hf=T(Ve),Dn=v(Ve,"DIV",{});var Pd=b(Dn);zs=v(Pd,"DIV",{class:!0});var Si=b(zs);Er=v(Si,"DIV",{id:!0,class:!0});var Ud=b(Er);Go=F(Ud,Cn),Ud.forEach(d),zf=T(Si),_s=v(Si,"BUTTON",{"aria-labelledby":!0,class:!0,type:!0});var jd=b(_s);Ir=v(jd,"SPAN",{class:!0,id:!0});var Rd=b(Ir);Yo=F(Rd,$n),Rd.forEach(d),jd.forEach(d),Si.forEach(d),Pd.forEach(d),Ff=T(Ve),Vn=v(Ve,"DIV",{});var Hd=b(Vn);Fs=v(Hd,"DIV",{class:!0});var Ti=b(Fs);Dr=v(Ti,"DIV",{id:!0,class:!0});var zd=b(Dr);qo=F(zd,Sn),zd.forEach(d),Wf=T(Ti),ha=v(Ti,"DIV",{class:!0});var Fd=b(ha);ee(Zl.$$.fragment,Fd),Fd.forEach(d),Ti.forEach(d),Hd.forEach(d),Gf=T(Ve),Xt&&Xt.l(Ve),Zo=T(Ve),Tn=v(Ve,"DIV",{});var Wd=b(Tn);Ws=v(Wd,"DIV",{class:!0});var Ai=b(Ws);Cr=v(Ai,"DIV",{id:!0,class:!0});var Kd=b(Cr);Jo=F(Kd,An),Kd.forEach(d),Yf=T(Ai),ma=v(Ai,"DIV",{class:!0});var Gd=b(ma);ee(Jl.$$.fragment,Gd),Gd.forEach(d),Ai.forEach(d),Wd.forEach(d),Zf=T(Ve),_a=v(Ve,"DIV",{class:!0});var Yd=b(_a);Xo=F(Yd,Nn),Yd.forEach(d),Jf=T(Ve),Ln=v(Ve,"DIV",{});var qd=b(Ln);Ks=v(qd,"DIV",{class:!0});var Ni=b(Ks);$r=v(Ni,"DIV",{id:!0,class:!0});var Zd=b($r);Qo=F(Zd,On),Zd.forEach(d),Xf=T(Ni),pa=v(Ni,"DIV",{class:!0});var Jd=b(pa);ee(Xl.$$.fragment,Jd),Jd.forEach(d),Ni.forEach(d),qd.forEach(d),xf=T(Ve),Mn=v(Ve,"DIV",{});var Xd=b(Mn);Gs=v(Xd,"DIV",{class:!0});var Li=b(Gs);Vr=v(Li,"DIV",{id:!0,class:!0});var Qd=b(Vr);xo=F(Qd,Bn),Qd.forEach(d),eu=T(Li),ga=v(Li,"DIV",{class:!0});var xd=b(ga);ee(Ql.$$.fragment,xd),xd.forEach(d),Li.forEach(d),Xd.forEach(d),lu=T(Ve),Pn=v(Ve,"DIV",{});var eh=b(Pn);Ys=v(eh,"DIV",{class:!0});var Oi=b(Ys);Sr=v(Oi,"DIV",{id:!0,class:!0});var th=b(Sr);ei=F(th,Un),th.forEach(d),su=T(Oi),va=v(Oi,"DIV",{class:!0});var lh=b(va);ee(xl.$$.fragment,lh),lh.forEach(d),Oi.forEach(d),eh.forEach(d),au=T(Ve),ba=v(Ve,"DIV",{class:!0});var sh=b(ba);ti=F(sh,jn),sh.forEach(d),nu=T(Ve),Rn=v(Ve,"DIV",{});var rh=b(Rn);qs=v(rh,"DIV",{class:!0});var Mi=b(qs);Tr=v(Mi,"DIV",{class:!0,id:!0});var ah=b(Tr);li=F(ah,Hn),ah.forEach(d),ou=T(Mi),wa=v(Mi,"DIV",{class:!0});var nh=b(wa);ee(es.$$.fragment,nh),nh.forEach(d),Mi.forEach(d),rh.forEach(d),fu=T(Ve),zn=v(Ve,"DIV",{});var oh=b(zn);Zs=v(oh,"DIV",{class:!0});var Bi=b(Zs);Ar=v(Bi,"DIV",{id:!0,class:!0});var ih=b(Ar);si=F(ih,Fn),ih.forEach(d),uu=T(Bi),ka=v(Bi,"DIV",{class:!0});var fh=b(ka);ee(ts.$$.fragment,fh),fh.forEach(d),Bi.forEach(d),oh.forEach(d),du=T(Ve),ya=v(Ve,"DIV",{class:!0});var uh=b(ya);ri=F(uh,Wn),uh.forEach(d),hu=T(Ve),Kn=v(Ve,"DIV",{});var ch=b(Kn);Js=v(ch,"DIV",{class:!0});var Pi=b(Js);Nr=v(Pi,"DIV",{id:!0,class:!0});var dh=b(Nr);ai=F(dh,Gn),dh.forEach(d),mu=T(Pi),ps=v(Pi,"DIV",{class:!0});var Ui=b(ps);rl&&rl.l(Ui),ni=T(Ui),ee(ls.$$.fragment,Ui),Ui.forEach(d),Pi.forEach(d),ch.forEach(d),pu=T(Ve),Qt&&Qt.l(Ve),Ve.forEach(d),Or.forEach(d),gu=T(we),Ea=v(we,"DIV",{class:!0});var hh=b(Ea);Lr=v(hh,"BUTTON",{class:!0,type:!0});var mh=b(Lr);oi=F(mh,Yn),mh.forEach(d),hh.forEach(d),we.forEach(d),this.h()},h(){f(i,"type","file"),i.hidden=!0,f(i,"accept","image/*"),f(_,"class","mb-2 text-sm font-medium"),f(I,"id","high-contrast-mode-label"),f(I,"class","self-center text-xs"),f(W,"class","flex items-center gap-2 p-1"),f(y,"class","py-0.5 flex w-full justify-between"),f(N,"id","use-chat-title-as-tab-title-label"),f(N,"class","self-center text-xs"),f(Z,"class","flex items-center gap-2 p-1"),f(R,"class","py-0.5 flex w-full justify-between"),f(fe,"id","notification-sound-label"),f(fe,"class","self-center text-xs"),f(me,"class","flex items-center gap-2 p-1"),f(oe,"class","py-0.5 flex w-full justify-between"),f(Oe,"class","self-center text-xs"),f(He,"class","flex items-center gap-2 p-1"),f(Le,"id","allow-user-location-label"),f(Le,"class","py-0.5 flex w-full justify-between"),f(gt,"id","haptic-feedback-label"),f(gt,"class","self-center text-xs"),f(Ke,"class","flex items-center gap-2 p-1"),f(ze,"class","py-0.5 flex w-full justify-between"),f(ct,"id","copy-formatted-label"),f(ct,"class","self-center text-xs"),f(Ft,"class","flex items-center gap-2 p-1"),f(Je,"class","py-0.5 flex w-full justify-between"),f(Te,"class","my-2 text-sm font-medium"),f(Pe,"id","chat-direction-label"),f(Pe,"class","self-center text-xs"),f(St,"class","ml-2 self-center"),f(St,"id","chat-direction-mode"),f(vt,"aria-labelledby","chat-direction-label chat-direction-mode"),f(vt,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(vt,"type","button"),f(Dt,"class","py-0.5 flex w-full justify-between"),f(ue,"id","landing-page-mode-label"),f(ue,"class","self-center text-xs"),f(bt,"class","ml-2 self-center"),f(bt,"id","notification-sound-state"),f(Tt,"aria-labelledby","landing-page-mode-label notification-sound-state"),f(Tt,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(Tt,"type","button"),f(Ht,"class","py-0.5 flex w-full justify-between"),f(vl,"id","chat-background-label"),f(vl,"class","self-center text-xs"),f(bl,"class","ml-2 self-center"),f(bl,"id","background-image-url-state"),f(cl,"aria-labelledby","chat-background-label background-image-url-state"),f(cl,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(cl,"type","button"),f(_l,"class","py-0.5 flex w-full justify-between"),f(is,"id","chat-bubble-ui-label"),f(is,"class","self-center text-xs"),f(Is,"class","flex items-center gap-2 p-1"),f(Al,"class","py-0.5 flex w-full justify-between"),f(fs,"id","widescreen-mode-label"),f(fs,"class","self-center text-xs"),f(Ds,"class","flex items-center gap-2 p-1"),f(Nl,"class","py-0.5 flex w-full justify-between"),f(us,"id","temp-chat-default-label"),f(us,"class","self-center text-xs"),f(Cs,"class","flex items-center gap-2 p-1"),f(Ll,"class","py-0.5 flex w-full justify-between"),f(cs,"id","fade-streaming-label"),f(cs,"class","self-center text-xs"),f($s,"class","flex items-center gap-2 p-1"),f(Ol,"class","py-0.5 flex w-full justify-between"),f(ds,"id","auto-generation-label"),f(ds,"class","self-center text-xs"),f(xr,"class","flex items-center gap-2 p-1"),f(fl,"class","py-0.5 flex w-full justify-between"),f(ir,"class","self-center text-xs"),f(ir,"id","follow-up-auto-generation-label"),f(ea,"class","flex items-center gap-2 p-1"),f(Vs,"class","py-0.5 flex w-full justify-between"),f(fr,"id","chat-tags-label"),f(fr,"class","self-center text-xs"),f(ta,"class","flex items-center gap-2 p-1"),f(Ss,"class","py-0.5 flex w-full justify-between"),f(ur,"id","auto-copy-label"),f(ur,"class","self-center text-xs"),f(la,"class","flex items-center gap-2 p-1"),f(Ts,"class","py-0.5 flex w-full justify-between"),f(cr,"id","insert-suggestion-prompt-label"),f(cr,"class","self-center text-xs"),f(sa,"class","flex items-center gap-2 p-1"),f(As,"class","py-0.5 flex w-full justify-between"),f(dr,"id","keep-follow-up-prompts-label"),f(dr,"class","self-center text-xs"),f(ra,"class","flex items-center gap-2 p-1"),f(Ns,"class","py-0.5 flex w-full justify-between"),f(hr,"id","insert-follow-up-prompt-label"),f(hr,"class","self-center text-xs"),f(aa,"class","flex items-center gap-2 p-1"),f(Ls,"class","py-0.5 flex w-full justify-between"),f(mr,"id","regenerate-menu-label"),f(mr,"class","self-center text-xs"),f(na,"class","flex items-center gap-2 p-1"),f(Os,"class","py-0.5 flex w-full justify-between"),f(_r,"id","always-collapse-label"),f(_r,"class","self-center text-xs"),f(oa,"class","flex items-center gap-2 p-1"),f(Ms,"class","py-0.5 flex w-full justify-between"),f(pr,"id","always-expand-label"),f(pr,"class","self-center text-xs"),f(ia,"class","flex items-center gap-2 p-1"),f(Bs,"class","py-0.5 flex w-full justify-between"),f(gr,"id","keep-followup-prompts-label"),f(gr,"class","self-center text-xs"),f(fa,"class","flex items-center gap-2 p-1"),f(Ps,"class","py-0.5 flex w-full justify-between"),f(vr,"id","scroll-on-branch-change-label"),f(vr,"class","self-center text-xs"),f(ua,"class","flex items-center gap-2 p-1"),f(Us,"class","py-0.5 flex w-full justify-between"),f(br,"id","stylized-pdf-export-label"),f(br,"class","self-center text-xs"),f(ca,"class","flex items-center gap-2 p-1"),f(js,"class","py-0.5 flex w-full justify-between"),f(wr,"id","floating-action-buttons-label"),f(wr,"class","self-center text-xs"),f(hs,"class","flex items-center gap-3 p-1"),f(Rs,"class","py-0.5 flex w-full justify-between"),f(kr,"id","web-search-in-chat-label"),f(kr,"class","self-center text-xs"),f(yr,"class","ml-2 self-center"),f(yr,"id","web-search-state"),f(ms,"aria-labelledby","web-search-in-chat-label web-search-state"),f(ms,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(ms,"type","button"),f(Hs,"class","py-0.5 flex w-full justify-between"),f(da,"class","my-2 text-sm font-medium"),f(Er,"id","enter-key-behavior-label ctrl-enter-to-send-state"),f(Er,"class","self-center text-xs"),f(Ir,"class","ml-2 self-center"),f(Ir,"id","ctrl-enter-to-send-state"),f(_s,"aria-labelledby","enter-key-behavior-label"),f(_s,"class","p-1 px-3 text-xs flex rounded transition"),f(_s,"type","button"),f(zs,"class","py-0.5 flex w-full justify-between"),f(Dr,"id","rich-input-label"),f(Dr,"class","self-center text-xs"),f(ha,"class","flex items-center gap-2 p-1"),f(Fs,"class","py-0.5 flex w-full justify-between"),f(Cr,"id","paste-large-label"),f(Cr,"class","self-center text-xs"),f(ma,"class","flex items-center gap-2 p-1"),f(Ws,"class","py-0.5 flex w-full justify-between"),f(_a,"class","my-2 text-sm font-medium"),f($r,"id","detect-artifacts-label"),f($r,"class","self-center text-xs"),f(pa,"class","flex items-center gap-2 p-1"),f(Ks,"class","py-0.5 flex w-full justify-between"),f(Vr,"id","iframe-sandbox-allow-same-origin-label"),f(Vr,"class","self-center text-xs"),f(ga,"class","flex items-center gap-2 p-1"),f(Gs,"class","py-0.5 flex w-full justify-between"),f(Sr,"id","iframe-sandbox-allow-forms-label"),f(Sr,"class","self-center text-xs"),f(va,"class","flex items-center gap-2 p-1"),f(Ys,"class","py-0.5 flex w-full justify-between"),f(ba,"class","my-2 text-sm font-medium"),f(Tr,"class","self-center text-xs"),f(Tr,"id","allow-voice-interruption-in-call-label"),f(wa,"class","flex items-center gap-2 p-1"),f(qs,"class","py-0.5 flex w-full justify-between"),f(Ar,"id","display-emoji-label"),f(Ar,"class","self-center text-xs"),f(ka,"class","flex items-center gap-2 p-1"),f(Zs,"class","py-0.5 flex w-full justify-between"),f(ya,"class","my-2 text-sm font-medium"),f(Nr,"id","image-compression-label"),f(Nr,"class","self-center text-xs"),f(ps,"class","flex items-center gap-3 p-1"),f(Js,"class","py-0.5 flex w-full justify-between"),f(m,"class","space-y-3 overflow-y-scroll max-h-[28rem] md:max-h-full"),f(Lr,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(Lr,"type","submit"),f(Ea,"class","flex justify-end text-sm font-medium"),f(o,"id","tab-interface"),f(o,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(J,we){Q(e,J,we),P(J,l,we),Q(r,J,we),P(J,n,we),P(J,o,we),u(o,i),s[70](i),u(o,c),u(o,m),u(m,h),u(h,_),u(_,p),u(h,k),u(h,E),u(E,y),u(y,I),u(I,O),u(I,V),u(I,A),u(I,H),u(y,B),u(y,W),Q(U,W,null),u(h,G),u(h,M),u(M,R),u(R,N),u(N,te),u(R,q),u(R,Z),Q(le,Z,null),u(h,ae),u(h,ie),u(ie,oe),u(oe,fe),u(fe,re),u(oe,ne),u(oe,me),Q(_e,me,null),u(h,ve),qt&&qt.m(h,null),u(h,ge),u(h,Ce),u(Ce,Le),u(Le,Oe),u(Oe,Ge),u(Le,et),u(Le,He),Q(Me,He,null),u(h,Re),u(h,Se),u(Se,ze),u(ze,gt),u(gt,de),u(gt,tt),u(gt,be),u(gt,Fe),u(ze,Qe),u(ze,Ke),Q(nt,Ke,null),u(h,At),u(h,It),u(It,Je),u(Je,ct),u(ct,zt),u(Je,ll),u(Je,Ft),Q(kt,Ft,null),u(h,We),Zt&&Zt.m(h,null),u(h,dt),u(h,Te),u(Te,$t),u(h,Vt),u(h,Pt),u(Pt,Dt),u(Dt,Pe),u(Pe,yt),u(Dt,Et),u(Dt,vt),u(vt,St),u(St,Bt),u(h,Wt),u(h,Nt),u(Nt,Ht),u(Ht,ue),u(ue,xe),u(Ht,qe),u(Ht,Tt),u(Tt,bt),u(bt,gl),u(h,ul),u(h,ml),u(ml,_l),u(_l,vl),u(vl,Cl),u(_l,Es),u(_l,cl),u(cl,bl),u(bl,Yr),u(h,Oa),u(h,er),u(er,Al),u(Al,is),u(is,qr),u(Al,Ma),u(Al,Is),Q(wl,Is,null),u(h,Pa),Jt&&Jt.m(h,null),u(h,Zr),u(h,lr),u(lr,Nl),u(Nl,fs),u(fs,Jr),u(Nl,Ua),u(Nl,Ds),Q(kl,Ds,null),u(h,Ra),u(h,rr),u(rr,Ll),u(Ll,us),u(us,Xr),u(Ll,Ha),u(Ll,Cs),Q(yl,Cs,null),u(h,Fa),u(h,nr),u(nr,Ol),u(Ol,cs),u(cs,Qr),u(Ol,Wa),u(Ol,$s),Q(El,$s,null),u(h,Ga),u(h,ke),u(ke,fl),u(fl,ds),u(ds,Vo),u(fl,Ji),u(fl,xr),Q(Ml,xr,null),u(h,Qi),u(h,qa),u(qa,Vs),u(Vs,ir),u(ir,So),u(Vs,xi),u(Vs,ea),Q(Bl,ea,null),u(h,tf),u(h,Ja),u(Ja,Ss),u(Ss,fr),u(fr,To),u(Ss,lf),u(Ss,ta),Q(Pl,ta,null),u(h,rf),u(h,Qa),u(Qa,Ts),u(Ts,ur),u(ur,Ao),u(Ts,af),u(Ts,la),Q(Ul,la,null),u(h,of),u(h,en),u(en,As),u(As,cr),u(cr,No),u(As,ff),u(As,sa),Q(jl,sa,null),u(h,cf),u(h,ln),u(ln,Ns),u(Ns,dr),u(dr,Lo),u(Ns,df),u(Ns,ra),Q(Rl,ra,null),u(h,mf),u(h,rn),u(rn,Ls),u(Ls,hr),u(hr,Oo),u(Ls,_f),u(Ls,aa),Q(Hl,aa,null),u(h,gf),u(h,nn),u(nn,Os),u(Os,mr),u(mr,Mo),u(Os,vf),u(Os,na),Q(zl,na,null),u(h,wf),u(h,fn),u(fn,Ms),u(Ms,_r),u(_r,Bo),u(Ms,kf),u(Ms,oa),Q(Fl,oa,null),u(h,Ef),u(h,cn),u(cn,Bs),u(Bs,pr),u(pr,Po),u(Bs,If),u(Bs,ia),Q(Wl,ia,null),u(h,Cf),u(h,hn),u(hn,Ps),u(Ps,gr),u(gr,Uo),u(Ps,$f),u(Ps,fa),Q(Kl,fa,null),u(h,Sf),u(h,_n),u(_n,Us),u(Us,vr),u(vr,jo),u(Us,Tf),u(Us,ua),Q(Gl,ua,null),u(h,Nf),u(h,gn),u(gn,js),u(js,br),u(br,Ro),u(js,Lf),u(js,ca),Q(Yl,ca,null),u(h,Mf),u(h,bn),u(bn,Rs),u(Rs,wr),u(wr,Ho),u(Rs,Bf),u(Rs,hs),sl&&sl.m(hs,null),u(hs,zo),Q(ql,hs,null),u(h,Uf),u(h,kn),u(kn,Hs),u(Hs,kr),u(kr,Fo),u(Hs,jf),u(Hs,ms),u(ms,yr),u(yr,Wo),u(h,Rf),u(h,da),u(da,Ko),u(h,Hf),u(h,Dn),u(Dn,zs),u(zs,Er),u(Er,Go),u(zs,zf),u(zs,_s),u(_s,Ir),u(Ir,Yo),u(h,Ff),u(h,Vn),u(Vn,Fs),u(Fs,Dr),u(Dr,qo),u(Fs,Wf),u(Fs,ha),Q(Zl,ha,null),u(h,Gf),Xt&&Xt.m(h,null),u(h,Zo),u(h,Tn),u(Tn,Ws),u(Ws,Cr),u(Cr,Jo),u(Ws,Yf),u(Ws,ma),Q(Jl,ma,null),u(h,Zf),u(h,_a),u(_a,Xo),u(h,Jf),u(h,Ln),u(Ln,Ks),u(Ks,$r),u($r,Qo),u(Ks,Xf),u(Ks,pa),Q(Xl,pa,null),u(h,xf),u(h,Mn),u(Mn,Gs),u(Gs,Vr),u(Vr,xo),u(Gs,eu),u(Gs,ga),Q(Ql,ga,null),u(h,lu),u(h,Pn),u(Pn,Ys),u(Ys,Sr),u(Sr,ei),u(Ys,su),u(Ys,va),Q(xl,va,null),u(h,au),u(h,ba),u(ba,ti),u(h,nu),u(h,Rn),u(Rn,qs),u(qs,Tr),u(Tr,li),u(qs,ou),u(qs,wa),Q(es,wa,null),u(h,fu),u(h,zn),u(zn,Zs),u(Zs,Ar),u(Ar,si),u(Zs,uu),u(Zs,ka),Q(ts,ka,null),u(h,du),u(h,ya),u(ya,ri),u(h,hu),u(h,Kn),u(Kn,Js),u(Js,Nr),u(Nr,ai),u(Js,mu),u(Js,ps),rl&&rl.m(ps,null),u(ps,ni),Q(ls,ps,null),u(h,pu),Qt&&Qt.m(h,null),u(o,gu),u(o,Ea),u(Ea,Lr),u(Lr,oi),it=!0,vu||(Wu=[he(i,"change",s[71]),he(i,"change",s[72]),he(vt,"click",s[62]),he(Tt,"click",s[91]),he(cl,"click",s[92]),he(ms,"click",s[132]),he(_s,"click",s[133]),he(o,"submit",ws(s[159]))],vu=!0)},p(J,we){var zr;const Or={};we[1]&64&&(Or.floatingActionButtons=J[37]),we[0]&1|we[1]&64&&(Or.onSave=J[66]),!t&&we[1]&524288&&(t=!0,Or.show=J[50],De(()=>t=!1)),e.$set(Or);const Ve={};we[1]&256&&(Ve.size=J[39]),we[0]&1&&(Ve.onSave=J[68]),!a&&we[1]&1048576&&(a=!0,Ve.show=J[51],De(()=>a=!1)),r.$set(Ve),(!it||we[1]&8388608)&&w!==(w=J[54].t("UI")+"")&&Y(p,w),(!it||we[1]&8388608)&&D!==(D=J[54].t("High Contrast Mode")+"")&&Y(O,D),(!it||we[1]&8388608)&&C!==(C=J[54].t("Beta")+"")&&Y(A,C);const qn={};!K&&we[0]&16384&&(K=!0,qn.state=J[14],De(()=>K=!1)),U.$set(qn),(!it||we[1]&8388608)&&j!==(j=J[54].t("Display chat title in tab")+"")&&Y(te,j);const Zn={};!ce&&we[1]&16&&(ce=!0,Zn.state=J[35],De(()=>ce=!1)),le.$set(Zn),(!it||we[1]&8388608)&&se!==(se=J[54].t("Notification Sound")+"")&&Y(re,se);const Mr={};!pe&&we[0]&4096&&(pe=!0,Mr.state=J[12],De(()=>pe=!1)),_e.$set(Mr),J[12]?qt?(qt.p(J,we),we[0]&4096&&$(qt,1)):(qt=im(J),qt.c(),$(qt,1),qt.m(h,ge)):qt&&(Ae(),L(qt,1,1,()=>{qt=null}),Ne()),(!it||we[1]&8388608)&&je!==(je=J[54].t("Allow User Location")+"")&&Y(Ge,je);const Xs={};!$e&&we[0]&1024&&($e=!0,Xs.state=J[10],De(()=>$e=!1)),Me.$set(Xs),(!it||we[1]&8388608)&&ft!==(ft=J[54].t("Haptic Feedback")+"")&&Y(de,ft),(!it||we[1]&8388608)&&ut!==(ut=J[54].t("Android")+"")&&Y(be,ut);const Jn={};!Rt&&we[1]&32768&&(Rt=!0,Jn.state=J[46],De(()=>Rt=!1)),nt.$set(Jn),(!it||we[1]&8388608)&&Ot!==(Ot=J[54].t("Copy Formatted Text")+"")&&Y(zt,Ot);const Xn={};!Be&&we[0]&1073741824&&(Be=!0,Xn.state=J[30],De(()=>Be=!1)),kt.$set(Xn),((zr=J[55])==null?void 0:zr.role)==="admin"?Zt?(Zt.p(J,we),we[1]&16777216&&$(Zt,1)):(Zt=fm(J),Zt.c(),$(Zt,1),Zt.m(h,dt)):Zt&&(Ae(),L(Zt,1,1,()=>{Zt=null}),Ne()),(!it||we[1]&8388608)&&ot!==(ot=J[54].t("Chat")+"")&&Y($t,ot),(!it||we[1]&8388608)&&lt!==(lt=J[54].t("Chat direction")+"")&&Y(yt,lt),(!it||we[0]&268435456|we[1]&8388608)&&Ut!==(Ut=(J[28]==="LTR"?J[54].t("LTR"):J[28]==="RTL"?J[54].t("RTL"):J[54].t("Auto"))+"")&&Y(Bt,Ut),(!it||we[1]&8388608)&&Ue!==(Ue=J[54].t("Landing Page Mode")+"")&&Y(xe,Ue),(!it||we[0]&67108864|we[1]&8388608)&&Yt!==(Yt=(J[26]===""?J[54].t("Default"):J[54].t("Chat"))+"")&&Y(gl,Yt),(!it||we[1]&8388608)&&Sl!==(Sl=J[54].t("Chat Background Image")+"")&&Y(Cl,Sl),(!it||we[0]&2|we[1]&8388608)&&Tl!==(Tl=(J[1]!==null?J[54].t("Reset"):J[54].t("Upload"))+"")&&Y(Yr,Tl),(!it||we[1]&8388608)&&tr!==(tr=J[54].t("Chat Bubble UI")+"")&&Y(qr,tr);const Br={};!Ba&&we[0]&134217728&&(Ba=!0,Br.state=J[27],De(()=>Ba=!1)),wl.$set(Br),J[52].chatBubble?Jt&&(Ae(),L(Jt,1,1,()=>{Jt=null}),Ne()):Jt?(Jt.p(J,we),we[1]&2097152&&$(Jt,1)):(Jt=um(J),Jt.c(),$(Jt,1),Jt.m(h,Zr)),(!it||we[1]&8388608)&&sr!==(sr=J[54].t("Widescreen Mode")+"")&&Y(Jr,sr);const Qn={};!ja&&we[0]&256&&(ja=!0,Qn.state=J[8],De(()=>ja=!1)),kl.$set(Qn),(!it||we[1]&8388608)&&ar!==(ar=J[54].t("Temporary Chat by Default")+"")&&Y(Xr,ar);const xn={};!za&&we[1]&1&&(za=!0,xn.state=J[31],De(()=>za=!1)),yl.$set(xn),(!it||we[1]&8388608)&&or!==(or=J[54].t("Fade Effect for Streaming Text")+"")&&Y(Qr,or);const eo={};!Ka&&we[1]&2&&(Ka=!0,eo.state=J[32],De(()=>Ka=!1)),El.$set(eo),(!it||we[1]&8388608)&&Ya!==(Ya=J[54].t("Title Auto-Generation")+"")&&Y(Vo,Ya);const Pr={};!Xi&&we[0]&16&&(Xi=!0,Pr.state=J[4],De(()=>Xi=!1)),Ml.$set(Pr),(!it||we[1]&8388608)&&Za!==(Za=J[54].t("Follow-Up Auto-Generation")+"")&&Y(So,Za);const to={};!ef&&we[0]&32&&(ef=!0,to.state=J[5],De(()=>ef=!1)),Bl.$set(to),(!it||we[1]&8388608)&&Xa!==(Xa=J[54].t("Chat Tags Auto-Generation")+"")&&Y(To,Xa);const lo={};!sf&&we[0]&64&&(sf=!0,lo.state=J[6],De(()=>sf=!1)),Pl.$set(lo),(!it||we[1]&8388608)&&xa!==(xa=J[54].t("Auto-Copy Response to Clipboard")+"")&&Y(Ao,xa);const so={};!nf&&we[0]&128&&(nf=!0,so.state=J[7],De(()=>nf=!1)),Ul.$set(so),(!it||we[1]&8388608)&&tn!==(tn=J[54].t("Insert Suggestion Prompt to Input")+"")&&Y(No,tn);const Ur={};!uf&&we[0]&4194304&&(uf=!0,Ur.state=J[22],De(()=>uf=!1)),jl.$set(Ur),(!it||we[1]&8388608)&&sn!==(sn=J[54].t("Keep Follow-Up Prompts in Chat")+"")&&Y(Lo,sn);const ro={};!hf&&we[0]&8388608&&(hf=!0,ro.state=J[23],De(()=>hf=!1)),Rl.$set(ro),(!it||we[1]&8388608)&&an!==(an=J[54].t("Insert Follow-Up Prompt to Input")+"")&&Y(Oo,an);const ao={};!pf&&we[0]&16777216&&(pf=!0,ao.state=J[24],De(()=>pf=!1)),Hl.$set(ao),(!it||we[1]&8388608)&&on!==(on=J[54].t("Regenerate Menu")+"")&&Y(Mo,on);const no={};!bf&&we[0]&33554432&&(bf=!0,no.state=J[25],De(()=>bf=!1)),zl.$set(no),(!it||we[1]&8388608)&&un!==(un=J[54].t("Always Collapse Code Blocks")+"")&&Y(Bo,un);const jr={};!yf&&we[1]&4&&(yf=!0,jr.state=J[33],De(()=>yf=!1)),Fl.$set(jr),(!it||we[1]&8388608)&&dn!==(dn=J[54].t("Always Expand Details")+"")&&Y(Po,dn);const Qs={};!Df&&we[1]&8&&(Df=!0,Qs.state=J[34],De(()=>Df=!1)),Wl.$set(Qs),(!it||we[1]&8388608)&&mn!==(mn=J[54].t("Display Multi-model Responses in Tabs")+"")&&Y(Uo,mn);const oo={};!Vf&&we[0]&65536&&(Vf=!0,oo.state=J[16],De(()=>Vf=!1)),Kl.$set(oo),(!it||we[1]&8388608)&&pn!==(pn=J[54].t("Scroll On Branch Change")+"")&&Y(jo,pn);const io={};!Af&&we[0]&512&&(Af=!0,io.state=J[9],De(()=>Af=!1)),Gl.$set(io),(!it||we[1]&8388608)&&vn!==(vn=J[54].t("Stylized PDF Export")+"")&&Y(Ro,vn);const Rr={};!Of&&we[1]&1024&&(Of=!0,Rr.state=J[41],De(()=>Of=!1)),Yl.$set(Rr),(!it||we[1]&8388608)&&wn!==(wn=J[54].t("Floating Quick Actions")+"")&&Y(Ho,wn),J[36]?sl?sl.p(J,we):(sl=cm(J),sl.c(),sl.m(hs,zo)):sl&&(sl.d(1),sl=null);const fo={};!Pf&&we[1]&32&&(Pf=!0,fo.state=J[36],De(()=>Pf=!1)),ql.$set(fo),(!it||we[1]&8388608)&&yn!==(yn=J[54].t("Web Search in Chat")+"")&&Y(Fo,yn),(!it||we[1]&8454144)&&En!==(En=(J[47]==="always"?J[54].t("Always"):J[54].t("Default"))+"")&&Y(Wo,En),(!it||we[1]&8388608)&&In!==(In=J[54].t("Input")+"")&&Y(Ko,In),(!it||we[1]&8388608)&&Cn!==(Cn=J[54].t("Enter Key Behavior")+"")&&Y(Go,Cn),(!it||we[0]&536870912|we[1]&8388608)&&$n!==($n=(J[29]===!0?J[54].t("Ctrl+Enter to Send"):J[54].t("Enter to Send"))+"")&&Y(Yo,$n),(!it||we[1]&8388608)&&Sn!==(Sn=J[54].t("Rich Text Input for Chat")+"")&&Y(qo,Sn);const uo={};!Kf&&we[0]&131072&&(Kf=!0,uo.state=J[17],De(()=>Kf=!1)),Zl.$set(uo),J[17]?Xt?(Xt.p(J,we),we[0]&131072&&$(Xt,1)):(Xt=dm(J),Xt.c(),$(Xt,1),Xt.m(h,Zo)):Xt&&(Ae(),L(Xt,1,1,()=>{Xt=null}),Ne()),(!it||we[1]&8388608)&&An!==(An=J[54].t("Paste Large Text as File")+"")&&Y(Jo,An);const co={};!qf&&we[0]&2097152&&(qf=!0,co.state=J[21],De(()=>qf=!1)),Jl.$set(co),(!it||we[1]&8388608)&&Nn!==(Nn=J[54].t("Artifacts")+"")&&Y(Xo,Nn),(!it||we[1]&8388608)&&On!==(On=J[54].t("Detect Artifacts Automatically")+"")&&Y(Qo,On);const ho={};!Qf&&we[0]&32768&&(Qf=!0,ho.state=J[15],De(()=>Qf=!1)),Xl.$set(ho),(!it||we[1]&8388608)&&Bn!==(Bn=J[54].t("iframe Sandbox Allow Same Origin")+"")&&Y(xo,Bn);const Hr={};!tu&&we[1]&131072&&(tu=!0,Hr.state=J[48],De(()=>tu=!1)),Ql.$set(Hr),(!it||we[1]&8388608)&&Un!==(Un=J[54].t("iframe Sandbox Allow Forms")+"")&&Y(ei,Un);const mo={};!ru&&we[1]&262144&&(ru=!0,mo.state=J[49],De(()=>ru=!1)),xl.$set(mo),(!it||we[1]&8388608)&&jn!==(jn=J[54].t("Voice")+"")&&Y(ti,jn),(!it||we[1]&8388608)&&Hn!==(Hn=J[54].t("Allow Voice Interruption in Call")+"")&&Y(li,Hn);const _o={};!iu&&we[1]&16384&&(iu=!0,_o.state=J[45],De(()=>iu=!1)),es.$set(_o),(!it||we[1]&8388608)&&Fn!==(Fn=J[54].t("Display Emoji in Call")+"")&&Y(si,Fn);const po={};!cu&&we[1]&8192&&(cu=!0,po.state=J[44],De(()=>cu=!1)),ts.$set(po),(!it||we[1]&8388608)&&Wn!==(Wn=J[54].t("File")+"")&&Y(ri,Wn),(!it||we[1]&8388608)&&Gn!==(Gn=J[54].t("Image Compression")+"")&&Y(ai,Gn),J[38]?rl?rl.p(J,we):(rl=mm(J),rl.c(),rl.m(ps,ni)):rl&&(rl.d(1),rl=null);const go={};!_u&&we[1]&128&&(_u=!0,go.state=J[38],De(()=>_u=!1)),ls.$set(go),J[38]?Qt?(Qt.p(J,we),we[1]&128&&$(Qt,1)):(Qt=_m(J),Qt.c(),$(Qt,1),Qt.m(h,null)):Qt&&(Ae(),L(Qt,1,1,()=>{Qt=null}),Ne()),(!it||we[1]&8388608)&&Yn!==(Yn=J[54].t("Save")+"")&&Y(oi,Yn)},i(J){it||($(e.$$.fragment,J),$(r.$$.fragment,J),$(U.$$.fragment,J),$(le.$$.fragment,J),$(_e.$$.fragment,J),$(qt),$(Me.$$.fragment,J),$(nt.$$.fragment,J),$(kt.$$.fragment,J),$(Zt),$(wl.$$.fragment,J),$(Jt),$(kl.$$.fragment,J),$(yl.$$.fragment,J),$(El.$$.fragment,J),$(Ml.$$.fragment,J),$(Bl.$$.fragment,J),$(Pl.$$.fragment,J),$(Ul.$$.fragment,J),$(jl.$$.fragment,J),$(Rl.$$.fragment,J),$(Hl.$$.fragment,J),$(zl.$$.fragment,J),$(Fl.$$.fragment,J),$(Wl.$$.fragment,J),$(Kl.$$.fragment,J),$(Gl.$$.fragment,J),$(Yl.$$.fragment,J),$(ql.$$.fragment,J),$(Zl.$$.fragment,J),$(Xt),$(Jl.$$.fragment,J),$(Xl.$$.fragment,J),$(Ql.$$.fragment,J),$(xl.$$.fragment,J),$(es.$$.fragment,J),$(ts.$$.fragment,J),$(ls.$$.fragment,J),$(Qt),it=!0)},o(J){L(e.$$.fragment,J),L(r.$$.fragment,J),L(U.$$.fragment,J),L(le.$$.fragment,J),L(_e.$$.fragment,J),L(qt),L(Me.$$.fragment,J),L(nt.$$.fragment,J),L(kt.$$.fragment,J),L(Zt),L(wl.$$.fragment,J),L(Jt),L(kl.$$.fragment,J),L(yl.$$.fragment,J),L(El.$$.fragment,J),L(Ml.$$.fragment,J),L(Bl.$$.fragment,J),L(Pl.$$.fragment,J),L(Ul.$$.fragment,J),L(jl.$$.fragment,J),L(Rl.$$.fragment,J),L(Hl.$$.fragment,J),L(zl.$$.fragment,J),L(Fl.$$.fragment,J),L(Wl.$$.fragment,J),L(Kl.$$.fragment,J),L(Gl.$$.fragment,J),L(Yl.$$.fragment,J),L(ql.$$.fragment,J),L(Zl.$$.fragment,J),L(Xt),L(Jl.$$.fragment,J),L(Xl.$$.fragment,J),L(Ql.$$.fragment,J),L(xl.$$.fragment,J),L(es.$$.fragment,J),L(ts.$$.fragment,J),L(ls.$$.fragment,J),L(Qt),it=!1},d(J){J&&(d(l),d(n),d(o)),x(e,J),x(r,J),s[70](null),x(U),x(le),x(_e),qt&&qt.d(),x(Me),x(nt),x(kt),Zt&&Zt.d(),x(wl),Jt&&Jt.d(),x(kl),x(yl),x(El),x(Ml),x(Bl),x(Pl),x(Ul),x(jl),x(Rl),x(Hl),x(zl),x(Fl),x(Wl),x(Kl),x(Gl),x(Yl),sl&&sl.d(),x(ql),x(Zl),Xt&&Xt.d(),x(Jl),x(Xl),x(Ql),x(xl),x(es),x(ts),rl&&rl.d(),x(ls),Qt&&Qt.d(),vu=!1,Ct(Wu)}}}function hb(s,e,t){let l,r,a,n;Ee(s,tl,ke=>t(52,l=ke)),Ee(s,Dl,ke=>t(53,r=ke)),Ee(s,Vl,ke=>t(55,n=ke));const o=ol(),i=Lt("i18n");Ee(s,i,ke=>t(54,a=ke));let{saveSettings:c}=e,m=null,h=null,_,w=!0,p=!0,k=!0,E=!1,y=!1,I=!0,D=!1,O="",V=!1,C=!0,A=!1,H=!1,B=!0,W=!1,U=!0,K=!1,G=!1,M=!1,R=!1,N=!1,j=!1,te=!1,q=!0,Z="",le=!0,ce="auto",ae=!1,ie=!1,oe=!1,fe=!0,se=!1,re=!1,ne=!0,me=!0,_e=null,pe=!1,ve={width:"",height:""},ge=!0,Ce=!0,Le=!0,Oe=!0,je=!1,Ge=!1,et=!1,He=null,Me=!1,$e=!1,Re=!1,Se=!1;const ze=async()=>{t(26,Z=Z===""?"chat":""),c({landingPageMode:Z})},gt=async()=>{if(D){const ke=await y_().catch(fl=>(Ye.error(fl.message),null));ke?(await V_(localStorage.token,{location:ke}),Ye.success(a.t("User location successfully retrieved."))):t(10,D=!1)}c({userLocation:D})},ft=async()=>{c({title:{...l.title,auto:w}})},de=async()=>{await navigator.clipboard.readText().then(()=>"granted").catch(()=>"")==="granted"?c({responseAutoCopy:E}):(t(7,E=!1),Ye.error(a.t("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")))},tt=async()=>{ce==="auto"?t(28,ce="LTR"):ce==="LTR"?t(28,ce="RTL"):ce==="RTL"&&t(28,ce="auto"),c({chatDirection:ce})},ut=async()=>{t(29,ae=!ae),c({ctrlEnterToSend:ae})},be=async()=>{c({models:[O],imageCompressionSize:ve})},Fe=async()=>{t(47,He=He===null?"always":null),c({webSearch:He})};Gt(async()=>{var ke,fl;t(4,w=((ke=l==null?void 0:l.title)==null?void 0:ke.auto)??!0),t(6,k=(l==null?void 0:l.autoTags)??!0),t(5,p=(l==null?void 0:l.autoFollowUps)??!0),t(14,H=(l==null?void 0:l.highContrastMode)??!1),t(15,B=(l==null?void 0:l.detectArtifacts)??!0),t(7,E=(l==null?void 0:l.responseAutoCopy)??!1),t(11,V=(l==null?void 0:l.showUsername)??!1),t(42,Le=(l==null?void 0:l.showUpdateToast)??!0),t(43,Oe=(l==null?void 0:l.showChangelog)??!0),t(44,je=(l==null?void 0:l.showEmojiInCall)??!1),t(45,Ge=(l==null?void 0:l.voiceInterruption)??!1),t(16,W=(l==null?void 0:l.displayMultiModelResponsesInTabs)??!1),t(32,fe=(l==null?void 0:l.chatFadeStreamingText)??!0),t(17,U=(l==null?void 0:l.richTextInput)??!0),t(18,K=(l==null?void 0:l.showFormattingToolbar)??!1),t(19,G=(l==null?void 0:l.insertPromptAsRichText)??!1),t(20,M=(l==null?void 0:l.promptAutocomplete)??!1),t(22,N=(l==null?void 0:l.insertSuggestionPrompt)??!1),t(23,j=(l==null?void 0:l.keepFollowUpPrompts)??!1),t(24,te=(l==null?void 0:l.insertFollowUpPrompt)??!1),t(25,q=(l==null?void 0:l.regenerateMenu)??!0),t(21,R=(l==null?void 0:l.largeTextAsFile)??!1),t(30,ie=(l==null?void 0:l.copyFormatted)??!1),t(33,se=(l==null?void 0:l.collapseCodeBlocks)??!1),t(34,re=(l==null?void 0:l.expandDetails)??!1),t(26,Z=(l==null?void 0:l.landingPageMode)??""),t(27,le=(l==null?void 0:l.chatBubble)??!0),t(8,y=(l==null?void 0:l.widescreenMode)??!1),l==null||l.splitLargeChunks,t(9,I=(l==null?void 0:l.scrollOnBranchChange)??!0),t(31,oe=(l==null?void 0:l.temporaryChatByDefault)??!1),t(28,ce=(l==null?void 0:l.chatDirection)??"auto"),t(10,D=(l==null?void 0:l.userLocation)??!1),t(35,ne=(l==null?void 0:l.showChatTitleInTab)??!0),t(12,C=(l==null?void 0:l.notificationSound)??!0),t(13,A=(l==null?void 0:l.notificationSoundAlways)??!1),t(48,Me=(l==null?void 0:l.iframeSandboxAllowSameOrigin)??!1),t(49,$e=(l==null?void 0:l.iframeSandboxAllowForms)??!1),t(41,Ce=(l==null?void 0:l.stylizedPdfExport)??!0),t(46,et=(l==null?void 0:l.hapticFeedback)??!1),t(29,ae=(l==null?void 0:l.ctrlEnterToSend)??!1),t(36,me=(l==null?void 0:l.showFloatingActionButtons)??!0),t(37,_e=(l==null?void 0:l.floatingActionButtons)??null),t(38,pe=(l==null?void 0:l.imageCompression)??!1),t(39,ve=(l==null?void 0:l.imageCompressionSize)??{width:"",height:""}),t(40,ge=(l==null?void 0:l.imageCompressionInChannels)??!0),O=((fl=l==null?void 0:l.models)==null?void 0:fl.at(0))??"",r!=null&&r.default_models&&(O=r.default_models.split(",")[0]),t(1,m=(l==null?void 0:l.backgroundImageUrl)??null),t(47,He=(l==null?void 0:l.webSearch)??null)});const Qe=ke=>{t(37,_e=ke),c({floatingActionButtons:_e})};function Ke(ke){Re=ke,t(50,Re)}const nt=ke=>{c({imageCompressionSize:ke})};function Rt(ke){Se=ke,t(51,Se)}function At(ke){ye[ke?"unshift":"push"](()=>{_=ke,t(3,_)})}function It(){h=this.files,t(2,h)}const Je=()=>{let ke=new FileReader;ke.onload=fl=>{let ds=`${fl.target.result}`;t(1,m=ds),c({backgroundImageUrl:m})},h&&h.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(h[0].type)?ke.readAsDataURL(h[0]):(`${h[0].type}`,t(2,h=null))};function ct(ke){H=ke,t(14,H)}const Ot=()=>{c({highContrastMode:H})};function zt(ke){ne=ke,t(35,ne)}const ll=()=>{c({showChatTitleInTab:ne})};function Ft(ke){C=ke,t(12,C)}const kt=()=>{c({notificationSound:C})};function Be(ke){A=ke,t(13,A)}const We=()=>{c({notificationSoundAlways:A})};function dt(ke){D=ke,t(10,D)}const Te=()=>{gt()};function ot(ke){et=ke,t(46,et)}const $t=()=>{c({hapticFeedback:et})};function Vt(ke){ie=ke,t(30,ie)}const Pt=()=>{c({copyFormatted:ie})};function Dt(ke){Le=ke,t(42,Le)}const Pe=()=>{c({showUpdateToast:Le})};function lt(ke){Oe=ke,t(43,Oe)}const yt=()=>{c({showChangelog:Oe})},Et=()=>{ze()},vt=()=>{m!==null?(t(1,m=null),c({backgroundImageUrl:m})):_.click()};function St(ke){le=ke,t(27,le)}const Ut=()=>{c({chatBubble:le})};function Bt(ke){V=ke,t(11,V)}const Wt=()=>{c({showUsername:V})};function Nt(ke){y=ke,t(8,y)}const Ht=()=>{c({widescreenMode:y})};function ue(ke){oe=ke,t(31,oe)}const Ue=()=>{c({temporaryChatByDefault:oe})};function xe(ke){fe=ke,t(32,fe)}const qe=()=>{c({chatFadeStreamingText:fe})};function Tt(ke){w=ke,t(4,w)}const bt=()=>{ft()};function Yt(ke){p=ke,t(5,p)}const gl=()=>{c({autoFollowUps:p})};function ul(ke){k=ke,t(6,k)}const ml=()=>{c({autoTags:k})};function _l(ke){E=ke,t(7,E)}const vl=()=>{de()};function Sl(ke){N=ke,t(22,N)}const Cl=()=>{c({insertSuggestionPrompt:N})};function Es(ke){j=ke,t(23,j)}const cl=()=>{c({keepFollowUpPrompts:j})};function bl(ke){te=ke,t(24,te)}const Tl=()=>{c({insertFollowUpPrompt:te})};function Yr(ke){q=ke,t(25,q)}const Oa=()=>{c({regenerateMenu:q})};function er(ke){se=ke,t(33,se)}const Al=()=>{c({collapseCodeBlocks:se})};function is(ke){re=ke,t(34,re)}const tr=()=>{c({expandDetails:re})};function qr(ke){W=ke,t(16,W)}const Ma=()=>{c({displayMultiModelResponsesInTabs:W})};function Is(ke){I=ke,t(9,I)}const wl=()=>{c({scrollOnBranchChange:I})};function Ba(ke){Ce=ke,t(41,Ce)}const Pa=()=>{c({stylizedPdfExport:Ce})},Zr=()=>{t(50,Re=!0)};function lr(ke){me=ke,t(36,me)}const Nl=()=>{c({showFloatingActionButtons:me})},fs=()=>{Fe()},sr=()=>{ut()};function Jr(ke){U=ke,t(17,U)}const Ua=()=>{c({richTextInput:U})};function Ds(ke){K=ke,t(18,K)}const kl=()=>{c({showFormattingToolbar:K})};function ja(ke){G=ke,t(19,G)}const Ra=()=>{c({insertPromptAsRichText:G})};function rr(ke){M=ke,t(20,M)}const Ll=()=>{c({promptAutocomplete:M})};function us(ke){R=ke,t(21,R)}const ar=()=>{c({largeTextAsFile:R})};function Xr(ke){B=ke,t(15,B)}const Ha=()=>{c({detectArtifacts:B})};function Cs(ke){Me=ke,t(48,Me)}const yl=()=>{c({iframeSandboxAllowSameOrigin:Me})};function za(ke){$e=ke,t(49,$e)}const Fa=()=>{c({iframeSandboxAllowForms:$e})};function nr(ke){Ge=ke,t(45,Ge)}const Ol=()=>{c({voiceInterruption:Ge})};function cs(ke){je=ke,t(44,je)}const or=()=>{c({showEmojiInCall:je})},Qr=()=>{t(51,Se=!0)};function Wa(ke){pe=ke,t(38,pe)}const $s=()=>{c({imageCompression:pe})};function El(ke){ge=ke,t(40,ge)}const Ka=()=>{c({imageCompressionInChannels:ge})},Ga=()=>{be(),o("save")};return s.$$set=ke=>{"saveSettings"in ke&&t(0,c=ke.saveSettings)},[c,m,h,_,w,p,k,E,y,I,D,V,C,A,H,B,W,U,K,G,M,R,N,j,te,q,Z,le,ce,ae,ie,oe,fe,se,re,ne,me,_e,pe,ve,ge,Ce,Le,Oe,je,Ge,et,He,Me,$e,Re,Se,l,r,a,n,o,i,ze,gt,ft,de,tt,ut,be,Fe,Qe,Ke,nt,Rt,At,It,Je,ct,Ot,zt,ll,Ft,kt,Be,We,dt,Te,ot,$t,Vt,Pt,Dt,Pe,lt,yt,Et,vt,St,Ut,Bt,Wt,Nt,Ht,ue,Ue,xe,qe,Tt,bt,Yt,gl,ul,ml,_l,vl,Sl,Cl,Es,cl,bl,Tl,Yr,Oa,er,Al,is,tr,qr,Ma,Is,wl,Ba,Pa,Zr,lr,Nl,fs,sr,Jr,Ua,Ds,kl,ja,Ra,rr,Ll,us,ar,Xr,Ha,Cs,yl,za,Fa,nr,Ol,cs,or,Qr,Wa,$s,El,Ka,Ga]}class mb extends mt{constructor(e){super(),_t(this,e,hb,db,pt,{saveSettings:0},null,[-1,-1,-1,-1,-1,-1])}}function pm(s,e,t){const l=s.slice();return l[14]=e[t],l}function gm(s,e,t){const l=s.slice();return l[40]=e[t],l}function vm(s,e,t){const l=s.slice();return l[14]=e[t],l}function bm(s){let e,t,l=s[13].t("Speech-to-Text Engine")+"",r,a,n,o,i,c=s[13].t("Default")+"",m,h,_=s[13].t("Web API")+"",w,p,k,E,y,I=s[13].t("Language")+"",D,O,V,C,A,H,B;return C=new Kt({props:{content:s[13].t("The language of the input audio. Supplying the input language in ISO-639-1 (e.g. en) format will improve accuracy and latency. Leave blank to automatically detect the language."),placement:"top",$$slots:{default:[_b]},$$scope:{ctx:s}}}),{c(){e=g("div"),t=g("div"),r=z(l),a=S(),n=g("div"),o=g("select"),i=g("option"),m=z(c),h=g("option"),w=z(_),k=S(),E=g("div"),y=g("div"),D=z(I),O=S(),V=g("div"),X(C.$$.fragment),this.h()},l(W){e=v(W,"DIV",{class:!0});var U=b(e);t=v(U,"DIV",{class:!0});var K=b(t);r=F(K,l),K.forEach(d),a=T(U),n=v(U,"DIV",{class:!0});var G=b(n);o=v(G,"SELECT",{class:!0,placeholder:!0});var M=b(o);i=v(M,"OPTION",{});var R=b(i);m=F(R,c),R.forEach(d),h=v(M,"OPTION",{});var N=b(h);w=F(N,_),N.forEach(d),M.forEach(d),G.forEach(d),U.forEach(d),k=T(W),E=v(W,"DIV",{class:!0});var j=b(E);y=v(j,"DIV",{class:!0});var te=b(y);D=F(te,I),te.forEach(d),O=T(j),V=v(j,"DIV",{class:!0});var q=b(V);ee(C.$$.fragment,q),q.forEach(d),j.forEach(d),this.h()},h(){f(t,"class","self-center text-xs font-medium"),i.__value="",Xe(i,i.__value),h.__value="web",Xe(h,h.__value),f(o,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(o,"placeholder",p=s[13].t("Select an engine")),s[6]===void 0&&as(()=>s[19].call(o)),f(n,"class","flex items-center relative"),f(e,"class","py-0.5 flex w-full justify-between"),f(y,"class","self-center text-xs font-medium"),f(V,"class","flex items-center relative text-xs px-3"),f(E,"class","py-0.5 flex w-full justify-between")},m(W,U){P(W,e,U),u(e,t),u(t,r),u(e,a),u(e,n),u(n,o),u(o,i),u(i,m),u(o,h),u(h,w),hl(o,s[6],!0),P(W,k,U),P(W,E,U),u(E,y),u(y,D),u(E,O),u(E,V),Q(C,V,null),A=!0,H||(B=he(o,"change",s[19]),H=!0)},p(W,U){(!A||U[0]&8192)&&l!==(l=W[13].t("Speech-to-Text Engine")+"")&&Y(r,l),(!A||U[0]&8192)&&c!==(c=W[13].t("Default")+"")&&Y(m,c),(!A||U[0]&8192)&&_!==(_=W[13].t("Web API")+"")&&Y(w,_),(!A||U[0]&8192&&p!==(p=W[13].t("Select an engine")))&&f(o,"placeholder",p),U[0]&64&&hl(o,W[6]),(!A||U[0]&8192)&&I!==(I=W[13].t("Language")+"")&&Y(D,I);const K={};U[0]&8192&&(K.content=W[13].t("The language of the input audio. Supplying the input language in ISO-639-1 (e.g. en) format will improve accuracy and latency. Leave blank to automatically detect the language.")),U[0]&8320|U[1]&16384&&(K.$$scope={dirty:U,ctx:W}),C.$set(K)},i(W){A||($(C.$$.fragment,W),A=!0)},o(W){L(C.$$.fragment,W),A=!1},d(W){W&&(d(e),d(k),d(E)),x(C),H=!1,B()}}}function _b(s){let e,t,l,r;return{c(){e=g("input"),this.h()},l(a){e=v(a,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){f(e,"type","text"),f(e,"placeholder",t=s[13].t("e.g. en")),f(e,"class","text-sm text-right bg-transparent dark:text-gray-300 outline-hidden")},m(a,n){P(a,e,n),Xe(e,s[7]),l||(r=he(e,"input",s[20]),l=!0)},p(a,n){n[0]&8192&&t!==(t=a[13].t("e.g. en"))&&f(e,"placeholder",t),n[0]&128&&e.value!==a[7]&&Xe(e,a[7])},d(a){a&&d(e),l=!1,r()}}}function pb(s){let e,t=s[13].t("Off")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&8192&&t!==(t=r[13].t("Off")+"")&&Y(l,t)},d(r){r&&d(e)}}}function gb(s){let e,t=s[13].t("On")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&8192&&t!==(t=r[13].t("On")+"")&&Y(l,t)},d(r){r&&d(e)}}}function wm(s){let e,t,l=s[13].t("Kokoro.js Dtype")+"",r,a,n,o,i,c=s[13].t("Select dtype")+"",m,h,_="fp32",w,p="fp16",k,E="q8",y,I="q4",D,O,V;return{c(){e=g("div"),t=g("div"),r=z(l),a=S(),n=g("div"),o=g("select"),i=g("option"),m=z(c),h=g("option"),h.textContent=_,w=g("option"),w.textContent=p,k=g("option"),k.textContent=E,y=g("option"),y.textContent=I,this.h()},l(C){e=v(C,"DIV",{class:!0});var A=b(e);t=v(A,"DIV",{class:!0});var H=b(t);r=F(H,l),H.forEach(d),a=T(A),n=v(A,"DIV",{class:!0});var B=b(n);o=v(B,"SELECT",{class:!0,placeholder:!0});var W=b(o);i=v(W,"OPTION",{});var U=b(i);m=F(U,c),U.forEach(d),h=v(W,"OPTION",{"data-svelte-h":!0}),jt(h)!=="svelte-1yz7sc6"&&(h.textContent=_),w=v(W,"OPTION",{"data-svelte-h":!0}),jt(w)!=="svelte-aw8eku"&&(w.textContent=p),k=v(W,"OPTION",{"data-svelte-h":!0}),jt(k)!=="svelte-gyb1sa"&&(k.textContent=E),y=v(W,"OPTION",{"data-svelte-h":!0}),jt(y)!=="svelte-et72yy"&&(y.textContent=I),W.forEach(d),B.forEach(d),A.forEach(d),this.h()},h(){f(t,"class","self-center text-xs font-medium"),i.__value="",Xe(i,i.__value),i.disabled=!0,i.selected=!0,h.__value="fp32",Xe(h,h.__value),w.__value="fp16",Xe(w,w.__value),k.__value="q8",Xe(k,k.__value),y.__value="q4",Xe(y,y.__value),f(o,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(o,"placeholder",D=s[13].t("Select dtype")),s[2].dtype===void 0&&as(()=>s[23].call(o)),f(n,"class","flex items-center relative"),f(e,"class","py-0.5 flex w-full justify-between")},m(C,A){P(C,e,A),u(e,t),u(t,r),u(e,a),u(e,n),u(n,o),u(o,i),u(i,m),u(o,h),u(o,w),u(o,k),u(o,y),hl(o,s[2].dtype,!0),O||(V=he(o,"change",s[23]),O=!0)},p(C,A){A[0]&8192&&l!==(l=C[13].t("Kokoro.js Dtype")+"")&&Y(r,l),A[0]&8192&&c!==(c=C[13].t("Select dtype")+"")&&Y(m,c),A[0]&8192&&D!==(D=C[13].t("Select dtype"))&&f(o,"placeholder",D),A[0]&4&&hl(o,C[2].dtype)},d(C){C&&d(e),O=!1,V()}}}function vb(s){let e,t=s[13].t("Off")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&8192&&t!==(t=r[13].t("Off")+"")&&Y(l,t)},d(r){r&&d(e)}}}function bb(s){let e,t=s[13].t("On")+"",l;return{c(){e=g("span"),l=z(t),this.h()},l(r){e=v(r,"SPAN",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&8192&&t!==(t=r[13].t("On")+"")&&Y(l,t)},d(r){r&&d(e)}}}function wb(s){let e,t,l=s[13].t("Set Voice")+"",r,a,n,o,i,c,m,h,_,w,p=ht(s[10]),k=[];for(let E=0;E<p.length;E+=1)k[E]=km(pm(s,p,E));return{c(){e=g("div"),t=g("div"),r=z(l),a=S(),n=g("div"),o=g("div"),i=g("input"),m=S(),h=g("datalist");for(let E=0;E<k.length;E+=1)k[E].c();this.h()},l(E){e=v(E,"DIV",{});var y=b(e);t=v(y,"DIV",{class:!0});var I=b(t);r=F(I,l),I.forEach(d),a=T(y),n=v(y,"DIV",{class:!0});var D=b(n);o=v(D,"DIV",{class:!0});var O=b(o);i=v(O,"INPUT",{list:!0,class:!0,placeholder:!0}),m=T(O),h=v(O,"DATALIST",{id:!0});var V=b(h);for(let C=0;C<k.length;C+=1)k[C].l(V);V.forEach(d),O.forEach(d),D.forEach(d),y.forEach(d),this.h()},h(){f(t,"class","mb-2.5 text-sm font-medium"),f(i,"list","voice-list"),f(i,"class","w-full text-sm bg-transparent dark:text-gray-300 outline-hidden"),f(i,"placeholder",c=s[13].t("Select a voice")),f(h,"id","voice-list"),f(o,"class","flex-1"),f(n,"class","flex w-full")},m(E,y){P(E,e,y),u(e,t),u(t,r),u(e,a),u(e,n),u(n,o),u(o,i),Xe(i,s[14]),u(o,m),u(o,h);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(h,null);_||(w=he(i,"input",s[30]),_=!0)},p(E,y){if(y[0]&8192&&l!==(l=E[13].t("Set Voice")+"")&&Y(r,l),y[0]&8192&&c!==(c=E[13].t("Select a voice"))&&f(i,"placeholder",c),y[0]&17440&&i.value!==E[14]&&Xe(i,E[14]),y[0]&1024){p=ht(E[10]);let I;for(I=0;I<p.length;I+=1){const D=pm(E,p,I);k[I]?k[I].p(D,y):(k[I]=km(D),k[I].c(),k[I].m(h,null))}for(;I<k.length;I+=1)k[I].d(1);k.length=p.length}},i:Ze,o:Ze,d(E){E&&d(e),il(k,E),_=!1,w()}}}function kb(s){let e,t,l=s[13].t("Set Voice")+"",r,a,n,o,i,c,m=s[13].t("Default")+"",h,_,w,p,k,E=s[13].t("Allow non-local voices")+"",y,I,D,O,V,C,A,H,B=ht(s[10].filter(s[27])),W=[];for(let G=0;G<B.length;G+=1)W[G]=ym(gm(s,B,G));function U(G){s[29](G)}let K={};return s[5]!==void 0&&(K.state=s[5]),O=new wt({props:K}),ye.push(()=>Ie(O,"state",U)),{c(){e=g("div"),t=g("div"),r=z(l),a=S(),n=g("div"),o=g("div"),i=g("select"),c=g("option"),h=z(m);for(let G=0;G<W.length;G+=1)W[G].c();w=S(),p=g("div"),k=g("div"),y=z(E),I=S(),D=g("div"),X(O.$$.fragment),this.h()},l(G){e=v(G,"DIV",{});var M=b(e);t=v(M,"DIV",{class:!0});var R=b(t);r=F(R,l),R.forEach(d),a=T(M),n=v(M,"DIV",{class:!0});var N=b(n);o=v(N,"DIV",{class:!0});var j=b(o);i=v(j,"SELECT",{class:!0});var te=b(i);c=v(te,"OPTION",{});var q=b(c);h=F(q,m),q.forEach(d);for(let ae=0;ae<W.length;ae+=1)W[ae].l(te);te.forEach(d),j.forEach(d),N.forEach(d),w=T(M),p=v(M,"DIV",{class:!0});var Z=b(p);k=v(Z,"DIV",{class:!0});var le=b(k);y=F(le,E),le.forEach(d),I=T(Z),D=v(Z,"DIV",{class:!0});var ce=b(D);ee(O.$$.fragment,ce),ce.forEach(d),Z.forEach(d),M.forEach(d),this.h()},h(){f(t,"class","mb-2.5 text-sm font-medium"),c.__value="",Xe(c,c.__value),c.selected=_=s[14]!=="",f(i,"class","w-full text-sm bg-transparent dark:text-gray-300 outline-hidden"),s[14]===void 0&&as(()=>s[28].call(i)),f(o,"class","flex-1"),f(n,"class","flex w-full"),f(k,"class","text-xs"),f(D,"class","mt-1"),f(p,"class","flex items-center justify-between my-1.5")},m(G,M){P(G,e,M),u(e,t),u(t,r),u(e,a),u(e,n),u(n,o),u(o,i),u(i,c),u(c,h);for(let R=0;R<W.length;R+=1)W[R]&&W[R].m(i,null);hl(i,s[14],!0),u(e,w),u(e,p),u(p,k),u(k,y),u(p,I),u(p,D),Q(O,D,null),C=!0,A||(H=he(i,"change",s[28]),A=!0)},p(G,M){if((!C||M[0]&8192)&&l!==(l=G[13].t("Set Voice")+"")&&Y(r,l),(!C||M[0]&8192)&&m!==(m=G[13].t("Default")+"")&&Y(h,m),(!C||M[0]&17440&&_!==(_=G[14]!==""))&&(c.selected=_),M[0]&17440){B=ht(G[10].filter(G[27]));let N;for(N=0;N<B.length;N+=1){const j=gm(G,B,N);W[N]?W[N].p(j,M):(W[N]=ym(j),W[N].c(),W[N].m(i,null))}for(;N<W.length;N+=1)W[N].d(1);W.length=B.length}M[0]&17440&&hl(i,G[14]),(!C||M[0]&8192)&&E!==(E=G[13].t("Allow non-local voices")+"")&&Y(y,E);const R={};!V&&M[0]&32&&(V=!0,R.state=G[5],De(()=>V=!1)),O.$set(R)},i(G){C||($(O.$$.fragment,G),C=!0)},o(G){L(O.$$.fragment,G),C=!1},d(G){G&&d(e),il(W,G),x(O),A=!1,H()}}}function yb(s){let e,t,l,r;const a=[Ib,Eb],n=[];function o(i,c){return i[8]?0:1}return e=o(s),t=n[e]=a[e](s),{c(){t.c(),l=at()},l(i){t.l(i),l=at()},m(i,c){n[e].m(i,c),P(i,l,c),r=!0},p(i,c){let m=e;e=o(i),e===m?n[e].p(i,c):(Ae(),L(n[m],1,1,()=>{n[m]=null}),Ne(),t=n[e],t?t.p(i,c):(t=n[e]=a[e](i),t.c()),$(t,1),t.m(l.parentNode,l))},i(i){r||($(t),r=!0)},o(i){L(t),r=!1},d(i){i&&d(l),n[e].d(i)}}}function km(s){let e,t=s[14].name+"",l,r;return{c(){e=g("option"),l=z(t),this.h()},l(a){e=v(a,"OPTION",{});var n=b(e);l=F(n,t),n.forEach(d),this.h()},h(){e.__value=r=s[14].id,Xe(e,e.__value)},m(a,n){P(a,e,n),u(e,l)},p(a,n){n[0]&1024&&t!==(t=a[14].name+"")&&Y(l,t),n[0]&1024&&r!==(r=a[14].id)&&(e.__value=r,Xe(e,e.__value))},d(a){a&&d(e)}}}function ym(s){let e,t=s[40].name+"",l,r,a;return{c(){e=g("option"),l=z(t),this.h()},l(n){e=v(n,"OPTION",{class:!0});var o=b(e);l=F(o,t),o.forEach(d),this.h()},h(){e.__value=r=s[40].name,Xe(e,e.__value),f(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=a=s[14]===s[40].name},m(n,o){P(n,e,o),u(e,l)},p(n,o){o[0]&1056&&t!==(t=n[40].name+"")&&Y(l,t),o[0]&1056&&r!==(r=n[40].name)&&(e.__value=r,Xe(e,e.__value)),o[0]&17440&&a!==(a=n[14]===n[40].name)&&(e.selected=a)},d(n){n&&d(e)}}}function Eb(s){let e,t,l,r,a,n=s[13].t("Loading Kokoro.js...")+"",o,i,c=s[9]&&s[9].status==="progress"?`(${Math.round(s[9].progress*10)/10}%)`:"",m,h,_,w=s[13].t("Please do not close the settings page while loading the model.")+"",p,k;return l=new pl({props:{className:"size-4"}}),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),m=z(c),h=S(),_=g("div"),p=z(w),this.h()},l(E){e=v(E,"DIV",{});var y=b(e);t=v(y,"DIV",{class:!0});var I=b(t);ee(l.$$.fragment,I),r=T(I),a=v(I,"DIV",{class:!0});var D=b(a);o=F(D,n),i=T(D),m=F(D,c),D.forEach(d),I.forEach(d),h=T(y),_=v(y,"DIV",{class:!0});var O=b(_);p=F(O,w),O.forEach(d),y.forEach(d),this.h()},h(){f(a,"class","text-sm font-medium shimmer"),f(t,"class","mb-2.5 text-sm font-medium flex gap-2 items-center"),f(_,"class","text-xs text-gray-500")},m(E,y){P(E,e,y),u(e,t),Q(l,t,null),u(t,r),u(t,a),u(a,o),u(a,i),u(a,m),u(e,h),u(e,_),u(_,p),k=!0},p(E,y){(!k||y[0]&8192)&&n!==(n=E[13].t("Loading Kokoro.js...")+"")&&Y(o,n),(!k||y[0]&512)&&c!==(c=E[9]&&E[9].status==="progress"?`(${Math.round(E[9].progress*10)/10}%)`:"")&&Y(m,c),(!k||y[0]&8192)&&w!==(w=E[13].t("Please do not close the settings page while loading the model.")+"")&&Y(p,w)},i(E){k||($(l.$$.fragment,E),k=!0)},o(E){L(l.$$.fragment,E),k=!1},d(E){E&&d(e),x(l)}}}function Ib(s){let e,t,l=s[13].t("Set Voice")+"",r,a,n,o,i,c,m,h,_,w,p=ht(s[10]),k=[];for(let E=0;E<p.length;E+=1)k[E]=Em(vm(s,p,E));return{c(){e=g("div"),t=g("div"),r=z(l),a=S(),n=g("div"),o=g("div"),i=g("input"),m=S(),h=g("datalist");for(let E=0;E<k.length;E+=1)k[E].c();this.h()},l(E){e=v(E,"DIV",{});var y=b(e);t=v(y,"DIV",{class:!0});var I=b(t);r=F(I,l),I.forEach(d),a=T(y),n=v(y,"DIV",{class:!0});var D=b(n);o=v(D,"DIV",{class:!0});var O=b(o);i=v(O,"INPUT",{list:!0,class:!0,placeholder:!0}),m=T(O),h=v(O,"DATALIST",{id:!0});var V=b(h);for(let C=0;C<k.length;C+=1)k[C].l(V);V.forEach(d),O.forEach(d),D.forEach(d),y.forEach(d),this.h()},h(){f(t,"class","mb-2.5 text-sm font-medium"),f(i,"list","voice-list"),f(i,"class","w-full text-sm bg-transparent dark:text-gray-300 outline-hidden"),f(i,"placeholder",c=s[13].t("Select a voice")),f(h,"id","voice-list"),f(o,"class","flex-1"),f(n,"class","flex w-full")},m(E,y){P(E,e,y),u(e,t),u(t,r),u(e,a),u(e,n),u(n,o),u(o,i),Xe(i,s[14]),u(o,m),u(o,h);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(h,null);_||(w=he(i,"input",s[26]),_=!0)},p(E,y){if(y[0]&8192&&l!==(l=E[13].t("Set Voice")+"")&&Y(r,l),y[0]&8192&&c!==(c=E[13].t("Select a voice"))&&f(i,"placeholder",c),y[0]&17440&&i.value!==E[14]&&Xe(i,E[14]),y[0]&1024){p=ht(E[10]);let I;for(I=0;I<p.length;I+=1){const D=vm(E,p,I);k[I]?k[I].p(D,y):(k[I]=Em(D),k[I].c(),k[I].m(h,null))}for(;I<k.length;I+=1)k[I].d(1);k.length=p.length}},i:Ze,o:Ze,d(E){E&&d(e),il(k,E),_=!1,w()}}}function Em(s){let e,t=s[14].name+"",l,r;return{c(){e=g("option"),l=z(t),this.h()},l(a){e=v(a,"OPTION",{});var n=b(e);l=F(n,t),n.forEach(d),this.h()},h(){e.__value=r=s[14].id,Xe(e,e.__value)},m(a,n){P(a,e,n),u(e,l)},p(a,n){n[0]&1024&&t!==(t=a[14].name+"")&&Y(l,t),n[0]&1024&&r!==(r=a[14].id)&&(e.__value=r,Xe(e,e.__value))},d(a){a&&d(e)}}}function Db(s){let e,t,l,r,a=s[13].t("STT Settings")+"",n,o,i,c,m,h=s[13].t("Instant Auto-Send After Voice Transcription")+"",_,w,p,k,E,y,I=s[13].t("TTS Settings")+"",D,O,V,C,A=s[13].t("Text-to-Speech Engine")+"",H,B,W,U,K,G=s[13].t("Default")+"",M,R,N=s[13].t("Kokoro.js (Browser)")+"",j,te,q,Z,le,ce,ae=s[13].t("Auto-playback response")+"",ie,oe,fe,se,re,ne,me=s[13].t("Speech Playback Speed")+"",_e,pe,ve,ge,Ce,Le,Oe,je,Ge,et,He,Me,$e,Re=s[13].t("Save")+"",Se,ze,gt,ft,de=s[12].audio.stt.engine!=="web"&&bm(s);function tt(Je,ct){return Je[3]===!0?gb:pb}let ut=tt(s),be=ut(s),Fe=s[1]==="browser-kokoro"&&wm(s);function Qe(Je,ct){return Je[4]===!0?bb:vb}let Ke=Qe(s),nt=Ke(s);const Rt=[yb,kb,wb],At=[];function It(Je,ct){return Je[1]==="browser-kokoro"?0:Je[12].audio.tts.engine===""?1:Je[12].audio.tts.engine!==""?2:-1}return~(Ge=It(s))&&(et=At[Ge]=Rt[Ge](s)),{c(){e=g("form"),t=g("div"),l=g("div"),r=g("div"),n=z(a),o=S(),de&&de.c(),i=S(),c=g("div"),m=g("div"),_=z(h),w=S(),p=g("button"),be.c(),k=S(),E=g("div"),y=g("div"),D=z(I),O=S(),V=g("div"),C=g("div"),H=z(A),B=S(),W=g("div"),U=g("select"),K=g("option"),M=z(G),R=g("option"),j=z(N),q=S(),Fe&&Fe.c(),Z=S(),le=g("div"),ce=g("div"),ie=z(ae),oe=S(),fe=g("button"),nt.c(),se=S(),re=g("div"),ne=g("div"),_e=z(me),pe=S(),ve=g("div"),ge=g("input"),Ce=z(`
					x`),Le=S(),Oe=g("hr"),je=S(),et&&et.c(),He=S(),Me=g("div"),$e=g("button"),Se=z(Re),this.h()},l(Je){e=v(Je,"FORM",{id:!0,class:!0});var ct=b(e);t=v(ct,"DIV",{class:!0});var Ot=b(t);l=v(Ot,"DIV",{});var zt=b(l);r=v(zt,"DIV",{class:!0});var ll=b(r);n=F(ll,a),ll.forEach(d),o=T(zt),de&&de.l(zt),i=T(zt),c=v(zt,"DIV",{class:!0});var Ft=b(c);m=v(Ft,"DIV",{class:!0});var kt=b(m);_=F(kt,h),kt.forEach(d),w=T(Ft),p=v(Ft,"BUTTON",{class:!0,type:!0});var Be=b(p);be.l(Be),Be.forEach(d),Ft.forEach(d),zt.forEach(d),k=T(Ot),E=v(Ot,"DIV",{});var We=b(E);y=v(We,"DIV",{class:!0});var dt=b(y);D=F(dt,I),dt.forEach(d),O=T(We),V=v(We,"DIV",{class:!0});var Te=b(V);C=v(Te,"DIV",{class:!0});var ot=b(C);H=F(ot,A),ot.forEach(d),B=T(Te),W=v(Te,"DIV",{class:!0});var $t=b(W);U=v($t,"SELECT",{class:!0,placeholder:!0});var Vt=b(U);K=v(Vt,"OPTION",{});var Pt=b(K);M=F(Pt,G),Pt.forEach(d),R=v(Vt,"OPTION",{});var Dt=b(R);j=F(Dt,N),Dt.forEach(d),Vt.forEach(d),$t.forEach(d),Te.forEach(d),q=T(We),Fe&&Fe.l(We),Z=T(We),le=v(We,"DIV",{class:!0});var Pe=b(le);ce=v(Pe,"DIV",{class:!0});var lt=b(ce);ie=F(lt,ae),lt.forEach(d),oe=T(Pe),fe=v(Pe,"BUTTON",{class:!0,type:!0});var yt=b(fe);nt.l(yt),yt.forEach(d),Pe.forEach(d),se=T(We),re=v(We,"DIV",{class:!0});var Et=b(re);ne=v(Et,"DIV",{class:!0});var vt=b(ne);_e=F(vt,me),vt.forEach(d),pe=T(Et),ve=v(Et,"DIV",{class:!0});var St=b(ve);ge=v(St,"INPUT",{type:!0,min:!0,step:!0,class:!0}),Ce=F(St,`
					x`),St.forEach(d),Et.forEach(d),We.forEach(d),Le=T(Ot),Oe=v(Ot,"HR",{class:!0}),je=T(Ot),et&&et.l(Ot),Ot.forEach(d),He=T(ct),Me=v(ct,"DIV",{class:!0});var Ut=b(Me);$e=v(Ut,"BUTTON",{class:!0,type:!0});var Bt=b($e);Se=F(Bt,Re),Bt.forEach(d),Ut.forEach(d),ct.forEach(d),this.h()},h(){f(r,"class","mb-1 text-sm font-medium"),f(m,"class","self-center text-xs font-medium"),f(p,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(p,"type","button"),f(c,"class","py-0.5 flex w-full justify-between"),f(y,"class","mb-1 text-sm font-medium"),f(C,"class","self-center text-xs font-medium"),K.__value="",Xe(K,K.__value),R.__value="browser-kokoro",Xe(R,R.__value),f(U,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(U,"placeholder",te=s[13].t("Select an engine")),s[1]===void 0&&as(()=>s[22].call(U)),f(W,"class","flex items-center relative"),f(V,"class","py-0.5 flex w-full justify-between"),f(ce,"class","self-center text-xs font-medium"),f(fe,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(fe,"type","button"),f(le,"class","py-0.5 flex w-full justify-between"),f(ne,"class","self-center text-xs font-medium"),f(ge,"type","number"),f(ge,"min","0"),f(ge,"step","0.01"),f(ge,"class","text-sm text-right bg-transparent dark:text-gray-300 outline-hidden"),f(ve,"class","flex items-center relative text-xs px-3"),f(re,"class","py-0.5 flex w-full justify-between"),f(Oe,"class","border-gray-100 dark:border-gray-850"),f(t,"class","space-y-3 overflow-y-scroll max-h-[28rem] md:max-h-full"),f($e,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f($e,"type","submit"),f(Me,"class","flex justify-end text-sm font-medium"),f(e,"id","tab-audio"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Je,ct){P(Je,e,ct),u(e,t),u(t,l),u(l,r),u(r,n),u(l,o),de&&de.m(l,null),u(l,i),u(l,c),u(c,m),u(m,_),u(c,w),u(c,p),be.m(p,null),u(t,k),u(t,E),u(E,y),u(y,D),u(E,O),u(E,V),u(V,C),u(C,H),u(V,B),u(V,W),u(W,U),u(U,K),u(K,M),u(U,R),u(R,j),hl(U,s[1],!0),u(E,q),Fe&&Fe.m(E,null),u(E,Z),u(E,le),u(le,ce),u(ce,ie),u(le,oe),u(le,fe),nt.m(fe,null),u(E,se),u(E,re),u(re,ne),u(ne,_e),u(re,pe),u(re,ve),u(ve,ge),Xe(ge,s[11]),u(ve,Ce),u(t,Le),u(t,Oe),u(t,je),~Ge&&At[Ge].m(t,null),u(e,He),u(e,Me),u(Me,$e),u($e,Se),ze=!0,gt||(ft=[he(p,"click",s[21]),he(U,"change",s[22]),he(fe,"click",s[24]),he(ge,"input",s[25]),he(e,"submit",ws(s[31]))],gt=!0)},p(Je,ct){(!ze||ct[0]&8192)&&a!==(a=Je[13].t("STT Settings")+"")&&Y(n,a),Je[12].audio.stt.engine!=="web"?de?(de.p(Je,ct),ct[0]&4096&&$(de,1)):(de=bm(Je),de.c(),$(de,1),de.m(l,i)):de&&(Ae(),L(de,1,1,()=>{de=null}),Ne()),(!ze||ct[0]&8192)&&h!==(h=Je[13].t("Instant Auto-Send After Voice Transcription")+"")&&Y(_,h),ut===(ut=tt(Je))&&be?be.p(Je,ct):(be.d(1),be=ut(Je),be&&(be.c(),be.m(p,null))),(!ze||ct[0]&8192)&&I!==(I=Je[13].t("TTS Settings")+"")&&Y(D,I),(!ze||ct[0]&8192)&&A!==(A=Je[13].t("Text-to-Speech Engine")+"")&&Y(H,A),(!ze||ct[0]&8192)&&G!==(G=Je[13].t("Default")+"")&&Y(M,G),(!ze||ct[0]&8192)&&N!==(N=Je[13].t("Kokoro.js (Browser)")+"")&&Y(j,N),(!ze||ct[0]&8192&&te!==(te=Je[13].t("Select an engine")))&&f(U,"placeholder",te),ct[0]&2&&hl(U,Je[1]),Je[1]==="browser-kokoro"?Fe?Fe.p(Je,ct):(Fe=wm(Je),Fe.c(),Fe.m(E,Z)):Fe&&(Fe.d(1),Fe=null),(!ze||ct[0]&8192)&&ae!==(ae=Je[13].t("Auto-playback response")+"")&&Y(ie,ae),Ke===(Ke=Qe(Je))&&nt?nt.p(Je,ct):(nt.d(1),nt=Ke(Je),nt&&(nt.c(),nt.m(fe,null))),(!ze||ct[0]&8192)&&me!==(me=Je[13].t("Speech Playback Speed")+"")&&Y(_e,me),ct[0]&2048&&Va(ge.value)!==Je[11]&&Xe(ge,Je[11]);let Ot=Ge;Ge=It(Je),Ge===Ot?~Ge&&At[Ge].p(Je,ct):(et&&(Ae(),L(At[Ot],1,1,()=>{At[Ot]=null}),Ne()),~Ge?(et=At[Ge],et?et.p(Je,ct):(et=At[Ge]=Rt[Ge](Je),et.c()),$(et,1),et.m(t,null)):et=null),(!ze||ct[0]&8192)&&Re!==(Re=Je[13].t("Save")+"")&&Y(Se,Re)},i(Je){ze||($(de),$(et),ze=!0)},o(Je){L(de),L(et),ze=!1},d(Je){Je&&d(e),de&&de.d(),be.d(),Fe&&Fe.d(),nt.d(),~Ge&&At[Ge].d(),gt=!1,Ct(ft)}}}function Cb(s,e,t){let l,r,a;Ee(s,tl,ae=>t(34,l=ae)),Ee(s,Dl,ae=>t(12,r=ae));const n=ol(),o=Lt("i18n");Ee(s,o,ae=>t(13,a=ae));let{saveSettings:i}=e,c=!1,m=!1,h=!1,_="",w="",p="",k={},E=null,y=null,I=[],D="",O=1;const V=async()=>{if(p==="browser-kokoro")E||await B(),t(10,I=Object.entries(E.voices).map(([ae,ie])=>({id:ae,name:ie.name,localService:!1})));else if(r.audio.tts.engine===""){const ae=setInterval(async()=>{t(10,I=await speechSynthesis.getVoices()),I.length>0&&clearInterval(ae)},100)}else{const ae=await Sp(localStorage.token).catch(ie=>{Ye.error(`${ie}`)});ae&&t(10,I=ae.voices)}},C=async()=>{t(4,m=!m),i({responseAutoPlayback:m})},A=async()=>{t(3,c=!c),i({speechAutoSend:c})};Gt(async()=>{var ae,ie,oe,fe,se,re,ne,me,_e,pe,ve,ge,Ce,Le,Oe,je;t(11,O=((ie=(ae=l.audio)==null?void 0:ae.tts)==null?void 0:ie.playbackRate)??1),l.conversationMode,t(3,c=l.speechAutoSend??!1),t(4,m=l.responseAutoPlayback??!1),t(6,_=((fe=(oe=l==null?void 0:l.audio)==null?void 0:oe.stt)==null?void 0:fe.engine)??""),t(7,w=((re=(se=l==null?void 0:l.audio)==null?void 0:se.stt)==null?void 0:re.language)??""),t(1,p=((me=(ne=l==null?void 0:l.audio)==null?void 0:ne.tts)==null?void 0:me.engine)??""),t(2,k=((pe=(_e=l==null?void 0:l.audio)==null?void 0:_e.tts)==null?void 0:pe.engineConfig)??{}),((ge=(ve=l==null?void 0:l.audio)==null?void 0:ve.tts)==null?void 0:ge.defaultVoice)===r.audio.tts.voice?t(14,D=((Le=(Ce=l==null?void 0:l.audio)==null?void 0:Ce.tts)==null?void 0:Le.voice)??r.audio.tts.voice??""):t(14,D=r.audio.tts.voice??""),t(5,h=((je=(Oe=l.audio)==null?void 0:Oe.tts)==null?void 0:je.nonLocalVoices)??!1),await V()});const H=async()=>{p==="browser-kokoro"&&await B()},B=async()=>{if(p==="browser-kokoro"&&(t(10,I=[]),k!=null&&k.dtype)){t(8,E=null),t(9,y=null);const ae="onnx-community/Kokoro-82M-v1.0-ONNX",{KokoroTTS:ie}=await Vu(async()=>{const{KokoroTTS:oe}=await import("../chunks/CCBafauW.js");return{KokoroTTS:oe}},[],import.meta.url);t(8,E=await ie.from_pretrained(ae,{dtype:k.dtype,device:navigator!=null&&navigator.gpu?"webgpu":"wasm",progress_callback:oe=>{t(9,y=oe)}})),await V()}};function W(){_=Wr(this),t(6,_)}function U(){w=this.value,t(7,w)}const K=()=>{A()};function G(){p=Wr(this),t(1,p)}function M(){k.dtype=Wr(this),t(2,k)}const R=()=>{C()};function N(){O=Va(this.value),t(11,O)}function j(){D=this.value,t(14,D),t(10,I),t(5,h)}const te=ae=>h||ae.localService===!0;function q(){D=Wr(this),t(14,D),t(10,I),t(5,h)}function Z(ae){h=ae,t(5,h)}function le(){D=this.value,t(14,D),t(10,I),t(5,h)}const ce=async()=>{var ae,ie;i({audio:{stt:{engine:_!==""?_:void 0,language:w!==""?w:void 0},tts:{engine:p!==""?p:void 0,engineConfig:k,playbackRate:O,voice:D!==""?D:void 0,defaultVoice:((ie=(ae=r==null?void 0:r.audio)==null?void 0:ae.tts)==null?void 0:ie.voice)??"",nonLocalVoices:r.audio.tts.engine===""?h:void 0}}}),n("save")};return s.$$set=ae=>{"saveSettings"in ae&&t(0,i=ae.saveSettings)},s.$$.update=()=>{s.$$.dirty[0]&6&&p&&k&&H()},[i,p,k,c,m,h,_,w,E,y,I,O,r,a,D,n,o,C,A,W,U,K,G,M,R,N,j,te,q,Z,le,ce]}class $b extends mt{constructor(e){super(),_t(this,e,Cb,Db,pt,{saveSettings:0},null,[-1,-1])}}function Im(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',r,a,n=s[5].t("Export Chats")+"",o,i,c;return{c(){e=g("button"),t=g("div"),t.innerHTML=l,r=S(),a=g("div"),o=z(n),this.h()},l(m){e=v(m,"BUTTON",{class:!0});var h=b(e);t=v(h,"DIV",{class:!0,"data-svelte-h":!0}),jt(t)!=="svelte-123cz55"&&(t.innerHTML=l),r=T(h),a=v(h,"DIV",{class:!0});var _=b(a);o=F(_,n),_.forEach(d),h.forEach(d),this.h()},h(){f(t,"class","self-center mr-3"),f(a,"class","self-center text-sm font-medium"),f(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(m,h){P(m,e,h),u(e,t),u(e,r),u(e,a),u(a,o),i||(c=he(e,"click",s[17]),i=!0)},p(m,h){h&32&&n!==(n=m[5].t("Export Chats")+"")&&Y(o,n)},d(m){m&&d(e),i=!1,c()}}}function Vb(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',r,a,n=s[5].t("Archive All Chats")+"",o,i,c;return{c(){e=g("button"),t=g("div"),t.innerHTML=l,r=S(),a=g("div"),o=z(n),this.h()},l(m){e=v(m,"BUTTON",{class:!0});var h=b(e);t=v(h,"DIV",{class:!0,"data-svelte-h":!0}),jt(t)!=="svelte-1duozwn"&&(t.innerHTML=l),r=T(h),a=v(h,"DIV",{class:!0});var _=b(a);o=F(_,n),_.forEach(d),h.forEach(d),this.h()},h(){f(t,"class","self-center mr-3"),f(a,"class","self-center text-sm font-medium"),f(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(m,h){P(m,e,h),u(e,t),u(e,r),u(e,a),u(a,o),i||(c=he(e,"click",s[21]),i=!0)},p(m,h){h&32&&n!==(n=m[5].t("Archive All Chats")+"")&&Y(o,n)},d(m){m&&d(e),i=!1,c()}}}function Sb(s){let e,t,l,r,a,n,o,i=s[5].t("Are you sure?")+"",c,m,h,_,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',p,k,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,I;return{c(){e=g("div"),t=g("div"),l=st("svg"),r=st("path"),a=st("path"),n=S(),o=g("span"),c=z(i),m=S(),h=g("div"),_=g("button"),_.innerHTML=w,p=S(),k=g("button"),k.innerHTML=E,this.h()},l(D){e=v(D,"DIV",{class:!0});var O=b(e);t=v(O,"DIV",{class:!0});var V=b(t);l=rt(V,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var C=b(l);r=rt(C,"path",{d:!0}),b(r).forEach(d),a=rt(C,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(a).forEach(d),C.forEach(d),n=T(V),o=v(V,"SPAN",{});var A=b(o);c=F(A,i),A.forEach(d),V.forEach(d),m=T(O),h=v(O,"DIV",{class:!0});var H=b(h);_=v(H,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(_)!=="svelte-88c061"&&(_.innerHTML=w),p=T(H),k=v(H,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(k)!=="svelte-1601eo8"&&(k.innerHTML=E),H.forEach(d),O.forEach(d),this.h()},h(){f(r,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),f(a,"fill-rule","evenodd"),f(a,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),f(a,"clip-rule","evenodd"),f(l,"xmlns","http://www.w3.org/2000/svg"),f(l,"viewBox","0 0 16 16"),f(l,"fill","currentColor"),f(l,"class","w-4 h-4"),f(t,"class","flex items-center space-x-3"),f(_,"class","hover:text-white transition"),f(k,"class","hover:text-white transition"),f(h,"class","flex space-x-1.5 items-center"),f(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,O){P(D,e,O),u(e,t),u(t,l),u(l,r),u(l,a),u(t,n),u(t,o),u(o,c),u(e,m),u(e,h),u(h,_),u(h,p),u(h,k),y||(I=[he(_,"click",s[19]),he(k,"click",s[20])],y=!0)},p(D,O){O&32&&i!==(i=D[5].t("Are you sure?")+"")&&Y(c,i)},d(D){D&&d(e),y=!1,Ct(I)}}}function Tb(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',r,a,n=s[5].t("Delete All Chats")+"",o,i,c;return{c(){e=g("button"),t=g("div"),t.innerHTML=l,r=S(),a=g("div"),o=z(n),this.h()},l(m){e=v(m,"BUTTON",{class:!0});var h=b(e);t=v(h,"DIV",{class:!0,"data-svelte-h":!0}),jt(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),r=T(h),a=v(h,"DIV",{class:!0});var _=b(a);o=F(_,n),_.forEach(d),h.forEach(d),this.h()},h(){f(t,"class","self-center mr-3"),f(a,"class","self-center text-sm font-medium"),f(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(m,h){P(m,e,h),u(e,t),u(e,r),u(e,a),u(a,o),i||(c=he(e,"click",s[24]),i=!0)},p(m,h){h&32&&n!==(n=m[5].t("Delete All Chats")+"")&&Y(o,n)},d(m){m&&d(e),i=!1,c()}}}function Ab(s){let e,t,l,r,a,n,o,i=s[5].t("Are you sure?")+"",c,m,h,_,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',p,k,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',y,I;return{c(){e=g("div"),t=g("div"),l=st("svg"),r=st("path"),a=st("path"),n=S(),o=g("span"),c=z(i),m=S(),h=g("div"),_=g("button"),_.innerHTML=w,p=S(),k=g("button"),k.innerHTML=E,this.h()},l(D){e=v(D,"DIV",{class:!0});var O=b(e);t=v(O,"DIV",{class:!0});var V=b(t);l=rt(V,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var C=b(l);r=rt(C,"path",{d:!0}),b(r).forEach(d),a=rt(C,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(a).forEach(d),C.forEach(d),n=T(V),o=v(V,"SPAN",{});var A=b(o);c=F(A,i),A.forEach(d),V.forEach(d),m=T(O),h=v(O,"DIV",{class:!0});var H=b(h);_=v(H,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(_)!=="svelte-19nv6qp"&&(_.innerHTML=w),p=T(H),k=v(H,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(k)!=="svelte-ekcykx"&&(k.innerHTML=E),H.forEach(d),O.forEach(d),this.h()},h(){f(r,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),f(a,"fill-rule","evenodd"),f(a,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),f(a,"clip-rule","evenodd"),f(l,"xmlns","http://www.w3.org/2000/svg"),f(l,"viewBox","0 0 16 16"),f(l,"fill","currentColor"),f(l,"class","w-4 h-4"),f(t,"class","flex items-center space-x-3"),f(_,"class","hover:text-white transition"),f(k,"class","hover:text-white transition"),f(h,"class","flex space-x-1.5 items-center"),f(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,O){P(D,e,O),u(e,t),u(t,l),u(l,r),u(l,a),u(t,n),u(t,o),u(o,c),u(e,m),u(e,h),u(h,_),u(h,p),u(h,k),y||(I=[he(_,"click",s[22]),he(k,"click",s[23])],y=!0)},p(D,O){O&32&&i!==(i=D[5].t("Are you sure?")+"")&&Y(c,i)},d(D){D&&d(e),y=!1,Ct(I)}}}function Nb(s){var fe,se,re;let e,t,l,r,a,n,o,i,c,m,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',_,w,p=s[5].t("Import Chats")+"",k,E,y,I,D,O,V,C,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087ZM12 10.5a.75.75 0 0 1 .75.75v4.94l1.72-1.72a.75.75 0 1 1 1.06 1.06l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.06l1.72 1.72v-4.94a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"></path></svg>',H,B,W=s[5].t("Archived Chats")+"",U,K,G,M,R,N;function j(ne){s[13](ne)}let te={onUpdate:s[11]};s[3]!==void 0&&(te.show=s[3]),e=new D0({props:te}),ye.push(()=>Ie(e,"show",j));let q=(((fe=s[6])==null?void 0:fe.role)==="admin"||(((re=(se=s[6].permissions)==null?void 0:se.chat)==null?void 0:re.export)??!0))&&Im(s);function Z(ne,me){return ne[1]?Sb:Vb}let le=Z(s),ce=le(s);function ae(ne,me){return ne[2]?Ab:Tb}let ie=ae(s),oe=ie(s);return{c(){X(e.$$.fragment),l=S(),r=g("div"),a=g("div"),n=g("div"),o=g("input"),i=S(),c=g("button"),m=g("div"),m.innerHTML=h,_=S(),w=g("div"),k=z(p),E=S(),q&&q.c(),y=S(),I=g("hr"),D=S(),O=g("div"),V=g("button"),C=g("div"),C.innerHTML=A,H=S(),B=g("div"),U=z(W),K=S(),ce.c(),G=S(),oe.c(),this.h()},l(ne){ee(e.$$.fragment,ne),l=T(ne),r=v(ne,"DIV",{id:!0,class:!0});var me=b(r);a=v(me,"DIV",{class:!0});var _e=b(a);n=v(_e,"DIV",{class:!0});var pe=b(n);o=v(pe,"INPUT",{id:!0,type:!0,accept:!0}),i=T(pe),c=v(pe,"BUTTON",{class:!0});var ve=b(c);m=v(ve,"DIV",{class:!0,"data-svelte-h":!0}),jt(m)!=="svelte-135keqh"&&(m.innerHTML=h),_=T(ve),w=v(ve,"DIV",{class:!0});var ge=b(w);k=F(ge,p),ge.forEach(d),ve.forEach(d),E=T(pe),q&&q.l(pe),pe.forEach(d),y=T(_e),I=v(_e,"HR",{class:!0}),D=T(_e),O=v(_e,"DIV",{class:!0});var Ce=b(O);V=v(Ce,"BUTTON",{class:!0});var Le=b(V);C=v(Le,"DIV",{class:!0,"data-svelte-h":!0}),jt(C)!=="svelte-u1tth1"&&(C.innerHTML=A),H=T(Le),B=v(Le,"DIV",{class:!0});var Oe=b(B);U=F(Oe,W),Oe.forEach(d),Le.forEach(d),K=T(Ce),ce.l(Ce),G=T(Ce),oe.l(Ce),Ce.forEach(d),_e.forEach(d),me.forEach(d),this.h()},h(){f(o,"id","chat-import-input"),f(o,"type","file"),f(o,"accept",".json"),o.hidden=!0,f(m,"class","self-center mr-3"),f(w,"class","self-center text-sm font-medium"),f(c,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),f(n,"class","flex flex-col"),f(I,"class","border-gray-100 dark:border-gray-850"),f(C,"class","self-center mr-3"),f(B,"class","self-center text-sm font-medium"),f(V,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),f(O,"class","flex flex-col"),f(a,"class","space-y-2 overflow-y-scroll max-h-[28rem] md:max-h-full"),f(r,"id","tab-chats"),f(r,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ne,me){Q(e,ne,me),P(ne,l,me),P(ne,r,me),u(r,a),u(a,n),u(n,o),s[14](o),u(n,i),u(n,c),u(c,m),u(c,_),u(c,w),u(w,k),u(n,E),q&&q.m(n,null),u(a,y),u(a,I),u(a,D),u(a,O),u(O,V),u(V,C),u(V,H),u(V,B),u(B,U),u(O,K),ce.m(O,null),u(O,G),oe.m(O,null),M=!0,R||(N=[he(o,"change",s[15]),he(c,"click",s[16]),he(V,"click",s[18])],R=!0)},p(ne,[me]){var pe,ve,ge;const _e={};!t&&me&8&&(t=!0,_e.show=ne[3],De(()=>t=!1)),e.$set(_e),(!M||me&32)&&p!==(p=ne[5].t("Import Chats")+"")&&Y(k,p),((pe=ne[6])==null?void 0:pe.role)==="admin"||(((ge=(ve=ne[6].permissions)==null?void 0:ve.chat)==null?void 0:ge.export)??!0)?q?q.p(ne,me):(q=Im(ne),q.c(),q.m(n,null)):q&&(q.d(1),q=null),(!M||me&32)&&W!==(W=ne[5].t("Archived Chats")+"")&&Y(U,W),le===(le=Z(ne))&&ce?ce.p(ne,me):(ce.d(1),ce=le(ne),ce&&(ce.c(),ce.m(O,G))),ie===(ie=ae(ne))&&oe?oe.p(ne,me):(oe.d(1),oe=ie(ne),oe&&(oe.c(),oe.m(O,null)))},i(ne){M||($(e.$$.fragment,ne),M=!0)},o(ne){L(e.$$.fragment,ne),M=!1},d(ne){ne&&(d(l),d(r)),x(e,ne),s[14](null),q&&q.d(),ce.d(),oe.d(),R=!1,Ct(N)}}}function Lb(s,e,t){let l,r,a;Ee(s,Il,R=>t(25,l=R)),Ee(s,Vl,R=>t(6,a=R));const{saveAs:n}=Do,o=Lt("i18n");Ee(s,o,R=>t(5,r=R));let{saveSettings:i}=e,c,m=!1,h=!1,_=!1,w;const p=async R=>{for(const N of R)N.chat?await $a(localStorage.token,N.chat,N.meta??{},!1,null,(N==null?void 0:N.created_at)??null,(N==null?void 0:N.updated_at)??null):await $a(localStorage.token,N,{},!1,null);Il.set(1),await rs.set(await $l(localStorage.token,l)),Kr.set(await bo(localStorage.token)),Ca.set(!0)},k=async()=>{let R=new Blob([JSON.stringify(await j_(localStorage.token))],{type:"application/json"});n(R,`chat-export-${Date.now()}.json`)},E=async()=>{await nl("/"),await R_(localStorage.token).catch(R=>{Ye.error(`${R}`)}),Il.set(1),await rs.set(await $l(localStorage.token,l)),Kr.set([]),Ca.set(!0)},y=async()=>{await nl("/"),await H_(localStorage.token).catch(R=>{Ye.error(`${R}`)}),Il.set(1),await rs.set(await $l(localStorage.token,l)),Ca.set(!0)},I=async()=>{Il.set(1),await rs.set(await $l(localStorage.token,l)),Ca.set(!0)};function D(R){_=R,t(3,_)}function O(R){ye[R?"unshift":"push"](()=>{w=R,t(4,w)})}function V(){c=this.files,t(0,c)}const C=()=>{w.click()},A=()=>{k()},H=()=>{t(3,_=!0)},B=()=>{E(),t(1,m=!1)},W=()=>{t(1,m=!1)},U=()=>{t(1,m=!0)},K=()=>{y(),t(2,h=!1)},G=()=>{t(2,h=!1)},M=()=>{t(2,h=!0)};return s.$$set=R=>{"saveSettings"in R&&t(12,i=R.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&c){let R=new FileReader;R.onload=N=>{let j=JSON.parse(N.target.result);if(E_(j)=="openai")try{j=I_(j)}catch(te){}p(j)},c.length>0&&R.readAsText(c[0])}},[c,m,h,_,w,r,a,o,k,E,y,I,i,D,O,V,C,A,H,B,W,U,K,G,M]}class Ob extends mt{constructor(e){super(),_t(this,e,Lb,Nb,pt,{saveSettings:12})}}const Ri=async s=>{let e=null;const t=await fetch(`${Co}/memories/`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(e=l.detail,null));if(e)throw e;return t},Mb=async(s,e)=>{let t=null;const l=await fetch(`${Co}/memories/add`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`},body:JSON.stringify({content:e})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(t=r.detail,null));if(t)throw t;return l},Bb=async(s,e,t)=>{let l=null;const r=await fetch(`${Co}/memories/${e}/update`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`},body:JSON.stringify({content:t})}).then(async a=>{if(!a.ok)throw await a.json();return a.json()}).catch(a=>(l=a.detail,null));if(l)throw l;return r},Pb=async(s,e)=>{let t=null;const l=await fetch(`${Co}/memories/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).then(r=>r).catch(r=>(t=r.detail,null));if(t)throw t;return l},Ub=async s=>{let e=null;const t=await fetch(`${Co}/memories/delete/user`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).then(l=>l).catch(l=>(e=l.detail,null));if(e)throw e;return t};function Dm(s){let e,t,l;return t=new pl({}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function jb(s){let e,t,l,r=s[3].t("Add Memory")+"",a,n,o,i,c,m,h,_,w,p,k,E,y,I,D=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",O,V,C,A,H=s[3].t("Add")+"",B,W,U,K,G,M;i=new os({props:{className:"size-5"}});let R=s[1]&&Dm();return{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("button"),X(i.$$.fragment),c=S(),m=g("div"),h=g("div"),_=g("form"),w=g("div"),p=g("textarea"),E=S(),y=g("div"),I=z(" "),O=z(D),V=S(),C=g("div"),A=g("button"),B=z(H),W=S(),R&&R.c(),this.h()},l(N){e=v(N,"DIV",{});var j=b(e);t=v(j,"DIV",{class:!0});var te=b(t);l=v(te,"DIV",{class:!0});var q=b(l);a=F(q,r),q.forEach(d),n=T(te),o=v(te,"BUTTON",{class:!0});var Z=b(o);ee(i.$$.fragment,Z),Z.forEach(d),te.forEach(d),c=T(j),m=v(j,"DIV",{class:!0});var le=b(m);h=v(le,"DIV",{class:!0});var ce=b(h);_=v(ce,"FORM",{class:!0});var ae=b(_);w=v(ae,"DIV",{class:!0});var ie=b(w);p=v(ie,"TEXTAREA",{class:!0,rows:!0,style:!0,placeholder:!0}),b(p).forEach(d),E=T(ie),y=v(ie,"DIV",{class:!0});var oe=b(y);I=F(oe," "),O=F(oe,D),oe.forEach(d),ie.forEach(d),V=T(ae),C=v(ae,"DIV",{class:!0});var fe=b(C);A=v(fe,"BUTTON",{class:!0,type:!0});var se=b(A);B=F(se,H),W=T(se),R&&R.l(se),se.forEach(d),fe.forEach(d),ae.forEach(d),ce.forEach(d),le.forEach(d),j.forEach(d),this.h()},h(){f(l,"class","text-lg font-medium self-center"),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),f(p,"class","bg-transparent w-full text-sm rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),f(p,"rows","6"),Mt(p,"resize","vertical"),f(p,"placeholder",k=s[3].t("Enter a detail about yourself for your LLMs to recall")),f(y,"class","text-xs text-gray-500"),f(w,"class",""),f(A,"class",U="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(s[1]?" cursor-not-allowed":"")),f(A,"type","submit"),A.disabled=s[1],f(C,"class","flex justify-end pt-1 text-sm font-medium"),f(_,"class","flex flex-col w-full"),f(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(m,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(N,j){P(N,e,j),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),u(e,c),u(e,m),u(m,h),u(h,_),u(_,w),u(w,p),Xe(p,s[2]),u(w,E),u(w,y),u(y,I),u(y,O),u(_,V),u(_,C),u(C,A),u(A,B),u(A,W),R&&R.m(A,null),K=!0,G||(M=[he(o,"click",s[6]),he(p,"input",s[7]),he(_,"submit",ws(s[8]))],G=!0)},p(N,j){(!K||j&8)&&r!==(r=N[3].t("Add Memory")+"")&&Y(a,r),(!K||j&8&&k!==(k=N[3].t("Enter a detail about yourself for your LLMs to recall")))&&f(p,"placeholder",k),j&4&&Xe(p,N[2]),(!K||j&8)&&D!==(D=N[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&Y(O,D),(!K||j&8)&&H!==(H=N[3].t("Add")+"")&&Y(B,H),N[1]?R?j&2&&$(R,1):(R=Dm(),R.c(),$(R,1),R.m(A,null)):R&&(Ae(),L(R,1,1,()=>{R=null}),Ne()),(!K||j&2&&U!==(U="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(N[1]?" cursor-not-allowed":"")))&&f(A,"class",U),(!K||j&2)&&(A.disabled=N[1])},i(N){K||($(i.$$.fragment,N),$(R),K=!0)},o(N){L(i.$$.fragment,N),L(R),K=!1},d(N){N&&d(e),x(i),R&&R.d(),G=!1,Ct(M)}}}function Rb(s){let e,t,l;function r(n){s[9](n)}let a={size:"sm",$$slots:{default:[jb]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ys({props:a}),ye.push(()=>Ie(e,"show",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,[o]){const i={};o&2063&&(i.$$scope={dirty:o,ctx:n}),!t&&o&1&&(t=!0,i.show=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function Hb(s,e,t){let l;const r=ol();let{show:a}=e;const n=Lt("i18n");Ee(s,n,p=>t(3,l=p));let o=!1,i="";const c=async()=>{t(1,o=!0);const p=await Mb(localStorage.token,i).catch(k=>(Ye.error(`${k}`),null));p&&(Ye.success(l.t("Memory added successfully")),t(2,i=""),t(0,a=!1),r("save")),t(1,o=!1)},m=()=>{t(0,a=!1)};function h(){i=this.value,t(2,i)}const _=()=>{c()};function w(p){a=p,t(0,a)}return s.$$set=p=>{"show"in p&&t(0,a=p.show)},[a,o,i,l,n,c,m,h,_,w]}class zb extends mt{constructor(e){super(),_t(this,e,Hb,Rb,pt,{show:0})}}function Cm(s){let e,t,l;return t=new pl({}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);ee(t.$$.fragment,a),a.forEach(d),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,a){P(r,e,a),Q(t,e,null),l=!0},i(r){l||($(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&d(e),x(t)}}}function Fb(s){let e,t,l,r=s[3].t("Edit Memory")+"",a,n,o,i,c,m,h,_,w,p,k,E,y,I,D=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",O,V,C,A,H=s[3].t("Update")+"",B,W,U,K,G,M;i=new os({props:{className:"size-5"}});let R=s[1]&&Cm();return{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("button"),X(i.$$.fragment),c=S(),m=g("div"),h=g("div"),_=g("form"),w=g("div"),p=g("textarea"),E=S(),y=g("div"),I=z(" "),O=z(D),V=S(),C=g("div"),A=g("button"),B=z(H),W=S(),R&&R.c(),this.h()},l(N){e=v(N,"DIV",{});var j=b(e);t=v(j,"DIV",{class:!0});var te=b(t);l=v(te,"DIV",{class:!0});var q=b(l);a=F(q,r),q.forEach(d),n=T(te),o=v(te,"BUTTON",{class:!0});var Z=b(o);ee(i.$$.fragment,Z),Z.forEach(d),te.forEach(d),c=T(j),m=v(j,"DIV",{class:!0});var le=b(m);h=v(le,"DIV",{class:!0});var ce=b(h);_=v(ce,"FORM",{class:!0});var ae=b(_);w=v(ae,"DIV",{class:!0});var ie=b(w);p=v(ie,"TEXTAREA",{class:!0,rows:!0,style:!0,placeholder:!0}),b(p).forEach(d),E=T(ie),y=v(ie,"DIV",{class:!0});var oe=b(y);I=F(oe," "),O=F(oe,D),oe.forEach(d),ie.forEach(d),V=T(ae),C=v(ae,"DIV",{class:!0});var fe=b(C);A=v(fe,"BUTTON",{class:!0,type:!0});var se=b(A);B=F(se,H),W=T(se),R&&R.l(se),se.forEach(d),fe.forEach(d),ae.forEach(d),ce.forEach(d),le.forEach(d),j.forEach(d),this.h()},h(){f(l,"class","text-lg font-medium self-center"),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),f(p,"class","bg-transparent w-full text-sm rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),f(p,"rows","6"),Mt(p,"resize","vertical"),f(p,"placeholder",k=s[3].t("Enter a detail about yourself for your LLMs to recall")),f(y,"class","text-xs text-gray-500"),f(w,"class",""),f(A,"class",U="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(s[1]?" cursor-not-allowed":"")),f(A,"type","submit"),A.disabled=s[1],f(C,"class","flex justify-end pt-1 text-sm font-medium"),f(_,"class","flex flex-col w-full"),f(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(m,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(N,j){P(N,e,j),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),u(e,c),u(e,m),u(m,h),u(h,_),u(_,w),u(w,p),Xe(p,s[2]),u(w,E),u(w,y),u(y,I),u(y,O),u(_,V),u(_,C),u(C,A),u(A,B),u(A,W),R&&R.m(A,null),K=!0,G||(M=[he(o,"click",s[7]),he(p,"input",s[8]),he(_,"submit",ws(s[9]))],G=!0)},p(N,j){(!K||j&8)&&r!==(r=N[3].t("Edit Memory")+"")&&Y(a,r),(!K||j&8&&k!==(k=N[3].t("Enter a detail about yourself for your LLMs to recall")))&&f(p,"placeholder",k),j&4&&Xe(p,N[2]),(!K||j&8)&&D!==(D=N[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&Y(O,D),(!K||j&8)&&H!==(H=N[3].t("Update")+"")&&Y(B,H),N[1]?R?j&2&&$(R,1):(R=Cm(),R.c(),$(R,1),R.m(A,null)):R&&(Ae(),L(R,1,1,()=>{R=null}),Ne()),(!K||j&2&&U!==(U="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(N[1]?" cursor-not-allowed":"")))&&f(A,"class",U),(!K||j&2)&&(A.disabled=N[1])},i(N){K||($(i.$$.fragment,N),$(R),K=!0)},o(N){L(i.$$.fragment,N),L(R),K=!1},d(N){N&&d(e),x(i),R&&R.d(),G=!1,Ct(M)}}}function Wb(s){let e,t,l;function r(n){s[10](n)}let a={size:"sm",$$slots:{default:[Fb]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ys({props:a}),ye.push(()=>Ie(e,"show",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,[o]){const i={};o&8207&&(i.$$scope={dirty:o,ctx:n}),!t&&o&1&&(t=!0,i.show=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function Kb(s,e,t){let l;const r=ol();let{show:a}=e,{memory:n={}}=e;const o=Lt("i18n");Ee(s,o,E=>t(3,l=E));let i=!1,c="";const m=()=>{t(2,c=n.content)},h=async()=>{t(1,i=!0);const E=await Bb(localStorage.token,n.id,c).catch(y=>(Ye.error(`${y}`),null));E&&(Ye.success(l.t("Memory updated successfully")),r("save"),t(0,a=!1)),t(1,i=!1)},_=()=>{t(0,a=!1)};function w(){c=this.value,t(2,c)}const p=()=>{h()};function k(E){a=E,t(0,a)}return s.$$set=E=>{"show"in E&&t(0,a=E.show),"memory"in E&&t(6,n=E.memory)},s.$$.update=()=>{s.$$.dirty&1&&a&&m()},[a,i,c,l,o,h,n,_,w,p,k]}class Gb extends mt{constructor(e){super(),_t(this,e,Kb,Wb,pt,{show:0,memory:6})}}function $m(s,e,t){const l=s.slice();return l[22]=e[t],l}function Yb(s){let e,t,l=s[6].t("Memories accessible by LLMs will be shown here.")+"",r;return{c(){e=g("div"),t=g("div"),r=z(l),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);t=v(n,"DIV",{class:!0});var o=b(t);r=F(o,l),o.forEach(d),n.forEach(d),this.h()},h(){f(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),f(e,"class","text-center flex h-full text-sm w-full")},m(a,n){P(a,e,n),u(e,t),u(t,r)},p(a,n){n&64&&l!==(l=a[6].t("Memories accessible by LLMs will be shown here.")+"")&&Y(r,l)},i:Ze,o:Ze,d(a){a&&d(e)}}}function qb(s){let e,t,l,r,a,n,o=s[6].t("Name")+"",i,c,m,h=s[6].t("Last Modified")+"",_,w,p,k,E,y,I=ht(s[1]),D=[];for(let V=0;V<I.length;V+=1)D[V]=Vm($m(s,I,V));const O=V=>L(D[V],1,1,()=>{D[V]=null});return{c(){e=g("div"),t=g("div"),l=g("table"),r=g("thead"),a=g("tr"),n=g("th"),i=z(o),c=S(),m=g("th"),_=z(h),w=S(),p=g("th"),k=S(),E=g("tbody");for(let V=0;V<D.length;V+=1)D[V].c();this.h()},l(V){e=v(V,"DIV",{class:!0});var C=b(e);t=v(C,"DIV",{class:!0});var A=b(t);l=v(A,"TABLE",{class:!0});var H=b(l);r=v(H,"THEAD",{class:!0});var B=b(r);a=v(B,"TR",{});var W=b(a);n=v(W,"TH",{scope:!0,class:!0});var U=b(n);i=F(U,o),U.forEach(d),c=T(W),m=v(W,"TH",{scope:!0,class:!0});var K=b(m);_=F(K,h),K.forEach(d),w=T(W),p=v(W,"TH",{scope:!0,class:!0}),b(p).forEach(d),W.forEach(d),B.forEach(d),k=T(H),E=v(H,"TBODY",{});var G=b(E);for(let M=0;M<D.length;M+=1)D[M].l(G);G.forEach(d),H.forEach(d),A.forEach(d),C.forEach(d),this.h()},h(){f(n,"scope","col"),f(n,"class","px-3 py-2"),f(m,"scope","col"),f(m,"class","px-3 py-2 hidden md:flex"),f(p,"scope","col"),f(p,"class","px-3 py-2 text-right"),f(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 border-gray-50 dark:border-gray-850"),f(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),f(t,"class","relative overflow-x-auto"),f(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(V,C){P(V,e,C),u(e,t),u(t,l),u(l,r),u(r,a),u(a,n),u(n,i),u(a,c),u(a,m),u(m,_),u(a,w),u(a,p),u(l,k),u(l,E);for(let A=0;A<D.length;A+=1)D[A]&&D[A].m(E,null);y=!0},p(V,C){if((!y||C&64)&&o!==(o=V[6].t("Name")+"")&&Y(i,o),(!y||C&64)&&h!==(h=V[6].t("Last Modified")+"")&&Y(_,h),C&90){I=ht(V[1]);let A;for(A=0;A<I.length;A+=1){const H=$m(V,I,A);D[A]?(D[A].p(H,C),$(D[A],1)):(D[A]=Vm(H),D[A].c(),$(D[A],1),D[A].m(E,null))}for(Ae(),A=I.length;A<D.length;A+=1)O(A);Ne()}},i(V){if(!y){for(let C=0;C<I.length;C+=1)$(D[C]);y=!0}},o(V){D=D.filter(Boolean);for(let C=0;C<D.length;C+=1)L(D[C]);y=!1},d(V){V&&d(e),il(D,V)}}}function Zb(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,r;function a(){return s[11](s[22])}return{c(){e=g("button"),e.innerHTML=t,this.h()},l(n){e=v(n,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(n,o){P(n,e,o),l||(r=he(e,"click",a),l=!0)},p(n,o){s=n},d(n){n&&d(e),l=!1,r()}}}function Jb(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function a(){return s[12](s[22])}return{c(){e=g("button"),e.innerHTML=t,this.h()},l(n){e=v(n,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(e)!=="svelte-1uabthr"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(n,o){P(n,e,o),l||(r=he(e,"click",a),l=!0)},p(n,o){s=n},d(n){n&&d(e),l=!1,r()}}}function Vm(s){let e,t,l,r=s[22].content+"",a,n,o,i,c=Aa(s[22].updated_at*1e3).format("LLL")+"",m,h,_,w,p,k,E,y,I;return p=new Kt({props:{content:"Edit",$$slots:{default:[Zb]},$$scope:{ctx:s}}}),E=new Kt({props:{content:"Delete",$$slots:{default:[Jb]},$$scope:{ctx:s}}}),{c(){e=g("tr"),t=g("td"),l=g("div"),a=z(r),n=S(),o=g("td"),i=g("div"),m=z(c),h=S(),_=g("td"),w=g("div"),X(p.$$.fragment),k=S(),X(E.$$.fragment),y=S(),this.h()},l(D){e=v(D,"TR",{class:!0});var O=b(e);t=v(O,"TD",{class:!0});var V=b(t);l=v(V,"DIV",{class:!0});var C=b(l);a=F(C,r),C.forEach(d),V.forEach(d),n=T(O),o=v(O,"TD",{class:!0});var A=b(o);i=v(A,"DIV",{class:!0});var H=b(i);m=F(H,c),H.forEach(d),A.forEach(d),h=T(O),_=v(O,"TD",{class:!0});var B=b(_);w=v(B,"DIV",{class:!0});var W=b(w);ee(p.$$.fragment,W),k=T(W),ee(E.$$.fragment,W),W.forEach(d),B.forEach(d),y=T(O),O.forEach(d),this.h()},h(){f(l,"class","line-clamp-1"),f(t,"class","px-3 py-1"),f(i,"class","my-auto whitespace-nowrap"),f(o,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),f(w,"class","flex justify-end w-full"),f(_,"class","px-3 py-1"),f(e,"class","border-b border-gray-50 dark:border-gray-850 items-center")},m(D,O){P(D,e,O),u(e,t),u(t,l),u(l,a),u(e,n),u(e,o),u(o,i),u(i,m),u(e,h),u(e,_),u(_,w),Q(p,w,null),u(w,k),Q(E,w,null),u(e,y),I=!0},p(D,O){(!I||O&2)&&r!==(r=D[22].content+"")&&Y(a,r),(!I||O&2)&&c!==(c=Aa(D[22].updated_at*1e3).format("LLL")+"")&&Y(m,c);const V={};O&33554458&&(V.$$scope={dirty:O,ctx:D}),p.$set(V);const C={};O&33554498&&(C.$$scope={dirty:O,ctx:D}),E.$set(C)},i(D){I||($(p.$$.fragment,D),$(E.$$.fragment,D),I=!0)},o(D){L(p.$$.fragment,D),L(E.$$.fragment,D),I=!1},d(D){D&&d(e),x(p),x(E)}}}function Xb(s){let e,t,l,r=s[6].t("Memory")+"",a,n,o,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,m,h,_,w,p,k,E,y=s[6].t("Add Memory")+"",I,D,O,V=s[6].t("Clear memory")+"",C,A,H,B;const W=[qb,Yb],U=[];function K(G,M){return G[1].length>0?0:1}return _=K(s),w=U[_]=W[_](s),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("button"),o.innerHTML=i,c=S(),m=g("div"),h=g("div"),w.c(),p=S(),k=g("div"),E=g("button"),I=z(y),D=S(),O=g("button"),C=z(V),this.h()},l(G){e=v(G,"DIV",{});var M=b(e);t=v(M,"DIV",{class:!0});var R=b(t);l=v(R,"DIV",{class:!0});var N=b(l);a=F(N,r),N.forEach(d),n=T(R),o=v(R,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(o)!=="svelte-745w2y"&&(o.innerHTML=i),R.forEach(d),c=T(M),m=v(M,"DIV",{class:!0});var j=b(m);h=v(j,"DIV",{class:!0});var te=b(h);w.l(te),te.forEach(d),p=T(j),k=v(j,"DIV",{class:!0});var q=b(k);E=v(q,"BUTTON",{class:!0});var Z=b(E);I=F(Z,y),Z.forEach(d),D=T(q),O=v(q,"BUTTON",{class:!0});var le=b(O);C=F(le,V),le.forEach(d),q.forEach(d),j.forEach(d),M.forEach(d),this.h()},h(){f(l,"class","text-lg font-medium self-center"),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),f(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen rounded-xl mb-4 mt-1"),f(E,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-100 dark:outline-gray-800 rounded-3xl"),f(O,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-100 dark:outline-red-800 rounded-3xl"),f(k,"class","flex text-sm font-medium gap-1.5"),f(m,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(G,M){P(G,e,M),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),u(e,c),u(e,m),u(m,h),U[_].m(h,null),u(m,p),u(m,k),u(k,E),u(E,I),u(k,D),u(k,O),u(O,C),A=!0,H||(B=[he(o,"click",s[10]),he(E,"click",s[13]),he(O,"click",s[14])],H=!0)},p(G,M){(!A||M&64)&&r!==(r=G[6].t("Memory")+"")&&Y(a,r);let R=_;_=K(G),_===R?U[_].p(G,M):(Ae(),L(U[R],1,1,()=>{U[R]=null}),Ne(),w=U[_],w?w.p(G,M):(w=U[_]=W[_](G),w.c()),$(w,1),w.m(h,null)),(!A||M&64)&&y!==(y=G[6].t("Add Memory")+"")&&Y(I,y),(!A||M&64)&&V!==(V=G[6].t("Clear memory")+"")&&Y(C,V)},i(G){A||($(w),A=!0)},o(G){L(w),A=!1},d(G){G&&d(e),U[_].d(),H=!1,Ct(B)}}}function Qb(s){let e,t,l,r,a,n,o,i,c,m,h;function _(I){s[15](I)}let w={size:"lg",$$slots:{default:[Xb]},$$scope:{ctx:s}};s[0]!==void 0&&(w.show=s[0]),e=new ys({props:w}),ye.push(()=>Ie(e,"show",_)),r=new La({props:{title:s[6].t("Clear Memory"),message:s[6].t("Are you sure you want to clear all memories? This action cannot be undone."),show:s[5]}}),r.$on("confirm",s[8]),r.$on("cancel",s[16]);function p(I){s[17](I)}let k={};s[2]!==void 0&&(k.show=s[2]),n=new zb({props:k}),ye.push(()=>Ie(n,"show",p)),n.$on("save",s[18]);function E(I){s[19](I)}let y={memory:s[4]};return s[3]!==void 0&&(y.show=s[3]),c=new Gb({props:y}),ye.push(()=>Ie(c,"show",E)),c.$on("save",s[20]),{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment),a=S(),X(n.$$.fragment),i=S(),X(c.$$.fragment)},l(I){ee(e.$$.fragment,I),l=T(I),ee(r.$$.fragment,I),a=T(I),ee(n.$$.fragment,I),i=T(I),ee(c.$$.fragment,I)},m(I,D){Q(e,I,D),P(I,l,D),Q(r,I,D),P(I,a,D),Q(n,I,D),P(I,i,D),Q(c,I,D),h=!0},p(I,[D]){const O={};D&33554559&&(O.$$scope={dirty:D,ctx:I}),!t&&D&1&&(t=!0,O.show=I[0],De(()=>t=!1)),e.$set(O);const V={};D&64&&(V.title=I[6].t("Clear Memory")),D&64&&(V.message=I[6].t("Are you sure you want to clear all memories? This action cannot be undone.")),D&32&&(V.show=I[5]),r.$set(V);const C={};!o&&D&4&&(o=!0,C.show=I[2],De(()=>o=!1)),n.$set(C);const A={};D&16&&(A.memory=I[4]),!m&&D&8&&(m=!0,A.show=I[3],De(()=>m=!1)),c.$set(A)},i(I){h||($(e.$$.fragment,I),$(r.$$.fragment,I),$(n.$$.fragment,I),$(c.$$.fragment,I),h=!0)},o(I){L(e.$$.fragment,I),L(r.$$.fragment,I),L(n.$$.fragment,I),L(c.$$.fragment,I),h=!1},d(I){I&&(d(l),d(a),d(i)),x(e,I),x(r,I),x(n,I),x(c,I)}}}function xb(s,e,t){let l;ol();const r=Lt("i18n");Ee(s,r,H=>t(6,l=H)),Aa.extend(D_);let{show:a=!1}=e,n=[],o=!0,i=!1,c=!1,m=null,h=!1,_=async()=>{await Ub(localStorage.token).catch(B=>(Ye.error(`${B}`),null))&&n.length>0&&(Ye.success(l.t("Memory cleared successfully")),t(1,n=[])),t(5,h=!1)};const w=()=>{t(0,a=!1)},p=H=>{t(4,m=H),t(3,c=!0)},k=async H=>{await Pb(localStorage.token,H.id).catch(W=>(Ye.error(`${W}`),null))&&(Ye.success(l.t("Memory deleted successfully")),t(1,n=await Ri(localStorage.token)))},E=()=>{t(2,i=!0)},y=()=>{n.length>0?t(5,h=!0):Ye.error(l.t("No memories to clear"))};function I(H){a=H,t(0,a)}const D=()=>{t(5,h=!1)};function O(H){i=H,t(2,i)}const V=async()=>{t(1,n=await Ri(localStorage.token))};function C(H){c=H,t(3,c)}const A=async()=>{t(1,n=await Ri(localStorage.token))};return s.$$set=H=>{"show"in H&&t(0,a=H.show)},s.$$.update=()=>{s.$$.dirty&515&&a&&n.length===0&&o&&(async()=>(t(1,n=await Ri(localStorage.token)),t(9,o=!1)))()},[a,n,i,c,m,h,l,r,_,o,w,p,k,E,y,I,D,O,V,C,A]}class ew extends mt{constructor(e){super(),_t(this,e,xb,Qb,pt,{show:0})}}function tw(s){let e,t=s[3].t("Memory")+"",l,r,a,n,o=s[3].t("Experimental")+"",i,c;return{c(){e=g("div"),l=z(t),r=S(),a=g("span"),n=z("("),i=z(o),c=z(")"),this.h()},l(m){e=v(m,"DIV",{class:!0});var h=b(e);l=F(h,t),r=T(h),a=v(h,"SPAN",{class:!0});var _=b(a);n=F(_,"("),i=F(_,o),c=F(_,")"),_.forEach(d),h.forEach(d),this.h()},h(){f(a,"class","text-xs text-gray-500"),f(e,"class","text-sm font-medium")},m(m,h){P(m,e,h),u(e,l),u(e,r),u(e,a),u(a,n),u(a,i),u(a,c)},p(m,h){h&8&&t!==(t=m[3].t("Memory")+"")&&Y(l,t),h&8&&o!==(o=m[3].t("Experimental")+"")&&Y(i,o)},d(m){m&&d(e)}}}function lw(s){let e,t,l,r,a,n,o,i,c,m,h,_,w,p,k,E=s[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",y,I,D,O,V=s[3].t("Manage")+"",C,A,H,B,W=s[3].t("Save")+"",U,K,G,M;function R(q){s[6](q)}let N={};s[1]!==void 0&&(N.show=s[1]),e=new ew({props:N}),ye.push(()=>Ie(e,"show",R)),i=new Kt({props:{content:s[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[tw]},$$scope:{ctx:s}}});function j(q){s[7](q)}let te={};return s[2]!==void 0&&(te.state=s[2]),h=new wt({props:te}),ye.push(()=>Ie(h,"state",j)),h.$on("change",s[8]),{c(){X(e.$$.fragment),l=S(),r=g("form"),a=g("div"),n=g("div"),o=g("div"),X(i.$$.fragment),c=S(),m=g("div"),X(h.$$.fragment),w=S(),p=g("div"),k=g("div"),y=z(E),I=S(),D=g("div"),O=g("button"),C=z(V),A=S(),H=g("div"),B=g("button"),U=z(W),this.h()},l(q){ee(e.$$.fragment,q),l=T(q),r=v(q,"FORM",{id:!0,class:!0});var Z=b(r);a=v(Z,"DIV",{class:!0});var le=b(a);n=v(le,"DIV",{});var ce=b(n);o=v(ce,"DIV",{class:!0});var ae=b(o);ee(i.$$.fragment,ae),c=T(ae),m=v(ae,"DIV",{class:!0});var ie=b(m);ee(h.$$.fragment,ie),ie.forEach(d),ae.forEach(d),ce.forEach(d),w=T(le),p=v(le,"DIV",{class:!0});var oe=b(p);k=v(oe,"DIV",{});var fe=b(k);y=F(fe,E),fe.forEach(d),oe.forEach(d),I=T(le),D=v(le,"DIV",{class:!0});var se=b(D);O=v(se,"BUTTON",{type:!0,class:!0});var re=b(O);C=F(re,V),re.forEach(d),se.forEach(d),le.forEach(d),A=T(Z),H=v(Z,"DIV",{class:!0});var ne=b(H);B=v(ne,"BUTTON",{class:!0,type:!0});var me=b(B);U=F(me,W),me.forEach(d),ne.forEach(d),Z.forEach(d),this.h()},h(){f(m,"class",""),f(o,"class","flex items-center justify-between mb-1"),f(p,"class","text-xs text-gray-600 dark:text-gray-400"),f(O,"type","button"),f(O,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),f(D,"class","mt-3 mb-1 ml-1"),f(a,"class","py-1 overflow-y-scroll max-h-[28rem] md:max-h-full"),f(B,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(B,"type","submit"),f(H,"class","flex justify-end text-sm font-medium"),f(r,"id","tab-personalization"),f(r,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(q,Z){Q(e,q,Z),P(q,l,Z),P(q,r,Z),u(r,a),u(a,n),u(n,o),Q(i,o,null),u(o,c),u(o,m),Q(h,m,null),u(a,w),u(a,p),u(p,k),u(k,y),u(a,I),u(a,D),u(D,O),u(O,C),u(r,A),u(r,H),u(H,B),u(B,U),K=!0,G||(M=[he(O,"click",s[9]),he(r,"submit",ws(s[10]))],G=!0)},p(q,[Z]){const le={};!t&&Z&2&&(t=!0,le.show=q[1],De(()=>t=!1)),e.$set(le);const ce={};Z&8&&(ce.content=q[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),Z&4104&&(ce.$$scope={dirty:Z,ctx:q}),i.$set(ce);const ae={};!_&&Z&4&&(_=!0,ae.state=q[2],De(()=>_=!1)),h.$set(ae),(!K||Z&8)&&E!==(E=q[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&Y(y,E),(!K||Z&8)&&V!==(V=q[3].t("Manage")+"")&&Y(C,V),(!K||Z&8)&&W!==(W=q[3].t("Save")+"")&&Y(U,W)},i(q){K||($(e.$$.fragment,q),$(i.$$.fragment,q),$(h.$$.fragment,q),K=!0)},o(q){L(e.$$.fragment,q),L(i.$$.fragment,q),L(h.$$.fragment,q),K=!1},d(q){q&&(d(l),d(r)),x(e,q),x(i),x(h),G=!1,Ct(M)}}}function sw(s,e,t){let l,r;Ee(s,tl,k=>t(11,l=k));const a=ol(),n=Lt("i18n");Ee(s,n,k=>t(3,r=k));let{saveSettings:o}=e,i=!1,c=!1;Gt(async()=>{t(2,c=(l==null?void 0:l.memory)??!1)});function m(k){i=k,t(1,i)}function h(k){c=k,t(2,c)}const _=async()=>{o({memory:c})},w=()=>{t(1,i=!0)},p=()=>{a("save")};return s.$$set=k=>{"saveSettings"in k&&t(0,o=k.saveSettings)},[o,i,c,r,a,n,m,h,_,w,p]}class rw extends mt{constructor(e){super(),_t(this,e,sw,lw,pt,{saveSettings:0})}}function Sm(s){let e;return{c(){e=g("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),b(e).forEach(d),this.h()},h(){f(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,l){P(t,e,l)},d(t){t&&d(e)}}}function aw(s){var m;let e,t,l,r,a,n,o,i,c=!(((m=s[2])==null?void 0:m.enable)??!0)&&Sm();return{c(){c&&c.c(),e=S(),t=g("div"),l=g("div"),r=g("input"),this.h()},l(h){c&&c.l(h),e=T(h),t=v(h,"DIV",{class:!0});var _=b(t);l=v(_,"DIV",{class:!0});var w=b(l);r=v(w,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),w.forEach(d),_.forEach(d),this.h()},h(){var h;f(r,"class",a=`w-full bg-transparent ${((h=s[9])==null?void 0:h.highContrastMode)??!1?"":"outline-hidden"} ${s[5]?"pr-8":""}`),f(r,"placeholder",n=s[8].t("API Base URL")),f(r,"autocomplete","off"),f(l,"class","flex-1 relative"),f(t,"class","flex w-full gap-2")},m(h,_){c&&c.m(h,_),P(h,e,_),P(h,t,_),u(t,l),u(l,r),Xe(r,s[0]),o||(i=he(r,"input",s[16]),o=!0)},p(h,_){var w,p;((w=h[2])==null?void 0:w.enable)??!0?c&&(c.d(1),c=null):c||(c=Sm(),c.c(),c.m(e.parentNode,e)),_&544&&a!==(a=`w-full bg-transparent ${((p=h[9])==null?void 0:p.highContrastMode)??!1?"":"outline-hidden"} ${h[5]?"pr-8":""}`)&&f(r,"class",a),_&256&&n!==(n=h[8].t("API Base URL"))&&f(r,"placeholder",n),_&1&&r.value!==h[0]&&Xe(r,h[0])},d(h){h&&(d(e),d(t)),c&&c.d(h),o=!1,i()}}}function nw(s){let e,t,l,r,a,n;return t=new w0({}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(o){e=v(o,"BUTTON",{"aria-label":!0,class:!0,type:!0});var i=b(e);ee(t.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"aria-label",l=s[8].t("Open modal to configure connection")),f(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),f(e,"type","button")},m(o,i){P(o,e,i),Q(t,e,null),r=!0,a||(n=he(e,"click",s[17]),a=!0)},p(o,i){(!r||i&256&&l!==(l=o[8].t("Open modal to configure connection")))&&f(e,"aria-label",l)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){L(t.$$.fragment,o),r=!1},d(o){o&&d(e),x(t),a=!1,n()}}}function ow(s){let e,t,l,r,a,n,o,i,c,m,h,_;function w(y){s[13](y)}let p={edit:!0,direct:!0,connection:{url:s[0],key:s[1],config:s[2]},onDelete:s[11],onSubmit:s[12]};s[6]!==void 0&&(p.show=s[6]),e=new k0({props:p}),ye.push(()=>Ie(e,"show",w));function k(y){s[14](y)}let E={};return s[7]!==void 0&&(E.show=s[7]),r=new La({props:E}),ye.push(()=>Ie(r,"show",k)),r.$on("confirm",s[15]),i=new Kt({props:{className:"w-full relative",content:s[8].t('WebUI will make requests to "{{url}}/chat/completions"',{url:s[0]}),placement:"top-start",$$slots:{default:[aw]},$$scope:{ctx:s}}}),h=new Kt({props:{content:s[8].t("Configure"),className:"self-start",$$slots:{default:[nw]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment),n=S(),o=g("div"),X(i.$$.fragment),c=S(),m=g("div"),X(h.$$.fragment),this.h()},l(y){ee(e.$$.fragment,y),l=T(y),ee(r.$$.fragment,y),n=T(y),o=v(y,"DIV",{class:!0});var I=b(o);ee(i.$$.fragment,I),c=T(I),m=v(I,"DIV",{class:!0});var D=b(m);ee(h.$$.fragment,D),D.forEach(d),I.forEach(d),this.h()},h(){f(m,"class","flex gap-1"),f(o,"class","flex w-full gap-2 items-center")},m(y,I){Q(e,y,I),P(y,l,I),Q(r,y,I),P(y,n,I),P(y,o,I),Q(i,o,null),u(o,c),u(o,m),Q(h,m,null),_=!0},p(y,[I]){const D={};I&7&&(D.connection={url:y[0],key:y[1],config:y[2]}),I&128&&(D.onDelete=y[11]),I&23&&(D.onSubmit=y[12]),!t&&I&64&&(t=!0,D.show=y[6],De(()=>t=!1)),e.$set(D);const O={};!a&&I&128&&(a=!0,O.show=y[7],De(()=>a=!1)),r.$set(O);const V={};I&257&&(V.content=y[8].t('WebUI will make requests to "{{url}}/chat/completions"',{url:y[0]})),I&262949&&(V.$$scope={dirty:I,ctx:y}),i.$set(V);const C={};I&256&&(C.content=y[8].t("Configure")),I&262464&&(C.$$scope={dirty:I,ctx:y}),h.$set(C)},i(y){_||($(e.$$.fragment,y),$(r.$$.fragment,y),$(i.$$.fragment,y),$(h.$$.fragment,y),_=!0)},o(y){L(e.$$.fragment,y),L(r.$$.fragment,y),L(i.$$.fragment,y),L(h.$$.fragment,y),_=!1},d(y){y&&(d(l),d(n),d(o)),x(e,y),x(r,y),x(i),x(h)}}}function iw(s,e,t){let l,r;Ee(s,tl,V=>t(9,r=V));const a=Lt("i18n");Ee(s,a,V=>t(8,l=V));let{onDelete:n=()=>{}}=e,{onSubmit:o=()=>{}}=e,{pipeline:i=!1}=e,{url:c=""}=e,{key:m=""}=e,{config:h={}}=e,_=!1,w=!1;const p=()=>{t(7,w=!0)},k=V=>{t(0,c=V.url),t(1,m=V.key),t(2,h=V.config),o(V)};function E(V){_=V,t(6,_)}function y(V){w=V,t(7,w)}const I=()=>{n(),t(6,_=!1)};function D(){c=this.value,t(0,c)}const O=()=>{t(6,_=!0)};return s.$$set=V=>{"onDelete"in V&&t(3,n=V.onDelete),"onSubmit"in V&&t(4,o=V.onSubmit),"pipeline"in V&&t(5,i=V.pipeline),"url"in V&&t(0,c=V.url),"key"in V&&t(1,m=V.key),"config"in V&&t(2,h=V.config)},[c,m,h,n,o,i,_,w,l,r,a,p,k,E,y,I,D,O]}class fw extends mt{constructor(e){super(),_t(this,e,iw,ow,pt,{onDelete:3,onSubmit:4,pipeline:5,url:0,key:1,config:2})}}function Tm(s,e,t){const l=s.slice();return l[17]=e[t],l[18]=e,l[19]=t,l}function uw(s){let e,t,l,r;return l=new pl({props:{className:"size-6"}}),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);t=v(n,"DIV",{class:!0});var o=b(t);ee(l.$$.fragment,o),o.forEach(d),n.forEach(d),this.h()},h(){f(t,"class","my-auto"),f(e,"class","flex h-full justify-center")},m(a,n){P(a,e,n),u(e,t),Q(l,t,null),r=!0},p:Ze,i(a){r||($(l.$$.fragment,a),r=!0)},o(a){L(l.$$.fragment,a),r=!1},d(a){a&&d(e),x(l)}}}function cw(s){var U;let e,t,l,r,a,n=s[3].t("Manage Direct Connections")+"",o,i,c,m,h,_,w,p,k=s[3].t("Connect to your own OpenAI compatible API endpoints.")+"",E,y,I,D,O=s[3].t("CORS must be properly configured by the provider to allow requests from Open WebUI.")+"",V,C,A;c=new Kt({props:{content:s[3].t("Add Connection"),$$slots:{default:[dw]},$$scope:{ctx:s}}});let H=ht(((U=s[0])==null?void 0:U.OPENAI_API_BASE_URLS)??[]),B=[];for(let K=0;K<H.length;K+=1)B[K]=Am(Tm(s,H,K));const W=K=>L(B[K],1,1,()=>{B[K]=null});return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("div"),a=g("div"),o=z(n),i=S(),X(c.$$.fragment),m=S(),h=g("div");for(let K=0;K<B.length;K+=1)B[K].c();_=S(),w=g("div"),p=g("div"),E=z(k),y=S(),I=g("br"),D=S(),V=z(O),this.h()},l(K){e=v(K,"DIV",{class:!0});var G=b(e);t=v(G,"DIV",{class:!0});var M=b(t);l=v(M,"DIV",{class:!0});var R=b(l);r=v(R,"DIV",{class:!0});var N=b(r);a=v(N,"DIV",{class:!0});var j=b(a);o=F(j,n),j.forEach(d),i=T(N),ee(c.$$.fragment,N),N.forEach(d),m=T(R),h=v(R,"DIV",{class:!0});var te=b(h);for(let le=0;le<B.length;le+=1)B[le].l(te);te.forEach(d),R.forEach(d),_=T(M),w=v(M,"DIV",{class:!0});var q=b(w);p=v(q,"DIV",{class:!0});var Z=b(p);E=F(Z,k),y=T(Z),I=v(Z,"BR",{}),D=T(Z),V=F(Z,O),Z.forEach(d),q.forEach(d),M.forEach(d),G.forEach(d),this.h()},h(){var K;f(a,"class","font-medium"),f(r,"class","flex justify-between items-center mb-0.5"),f(h,"class","flex flex-col gap-1.5"),f(l,"class",""),f(p,"class",C="text-xs "+(((K=s[2])==null?void 0:K.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500")),f(w,"class","my-1.5"),f(t,"class","pr-1.5"),f(e,"class","")},m(K,G){P(K,e,G),u(e,t),u(t,l),u(l,r),u(r,a),u(a,o),u(r,i),Q(c,r,null),u(l,m),u(l,h);for(let M=0;M<B.length;M+=1)B[M]&&B[M].m(h,null);u(t,_),u(t,w),u(w,p),u(p,E),u(p,y),u(p,I),u(p,D),u(p,V),A=!0},p(K,G){var R,N;(!A||G&8)&&n!==(n=K[3].t("Manage Direct Connections")+"")&&Y(o,n);const M={};if(G&8&&(M.content=K[3].t("Add Connection")),G&1048578&&(M.$$scope={dirty:G,ctx:K}),c.$set(M),G&65){H=ht(((R=K[0])==null?void 0:R.OPENAI_API_BASE_URLS)??[]);let j;for(j=0;j<H.length;j+=1){const te=Tm(K,H,j);B[j]?(B[j].p(te,G),$(B[j],1)):(B[j]=Am(te),B[j].c(),$(B[j],1),B[j].m(h,null))}for(Ae(),j=H.length;j<B.length;j+=1)W(j);Ne()}(!A||G&8)&&k!==(k=K[3].t("Connect to your own OpenAI compatible API endpoints.")+"")&&Y(E,k),(!A||G&8)&&O!==(O=K[3].t("CORS must be properly configured by the provider to allow requests from Open WebUI.")+"")&&Y(V,O),(!A||G&4&&C!==(C="text-xs "+(((N=K[2])==null?void 0:N.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500")))&&f(p,"class",C)},i(K){if(!A){$(c.$$.fragment,K);for(let G=0;G<H.length;G+=1)$(B[G]);A=!0}},o(K){L(c.$$.fragment,K),B=B.filter(Boolean);for(let G=0;G<B.length;G+=1)L(B[G]);A=!1},d(K){K&&d(e),x(c),il(B,K)}}}function dw(s){let e,t,l,r,a;return t=new $o({}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(n){e=v(n,"BUTTON",{class:!0,type:!0});var o=b(e);ee(t.$$.fragment,o),o.forEach(d),this.h()},h(){f(e,"class","px-1"),f(e,"type","button")},m(n,o){P(n,e,o),Q(t,e,null),l=!0,r||(a=he(e,"click",s[9]),r=!0)},p:Ze,i(n){l||($(t.$$.fragment,n),l=!0)},o(n){L(t.$$.fragment,n),l=!1},d(n){n&&d(e),x(t),r=!1,a()}}}function Am(s){let e,t,l,r,a;function n(){return s[11](s[19])}function o(h){s[12](h,s[17],s[18],s[19])}function i(h){s[13](h,s[19])}function c(h){s[14](h,s[19])}let m={onSubmit:s[10],onDelete:n};return s[17]!==void 0&&(m.url=s[17]),s[0].OPENAI_API_KEYS[s[19]]!==void 0&&(m.key=s[0].OPENAI_API_KEYS[s[19]]),s[0].OPENAI_API_CONFIGS[s[19]]!==void 0&&(m.config=s[0].OPENAI_API_CONFIGS[s[19]]),e=new fw({props:m}),ye.push(()=>Ie(e,"url",o)),ye.push(()=>Ie(e,"key",i)),ye.push(()=>Ie(e,"config",c)),{c(){X(e.$$.fragment)},l(h){ee(e.$$.fragment,h)},m(h,_){Q(e,h,_),a=!0},p(h,_){s=h;const w={};_&1&&(w.onDelete=n),!t&&_&1&&(t=!0,w.url=s[17],De(()=>t=!1)),!l&&_&1&&(l=!0,w.key=s[0].OPENAI_API_KEYS[s[19]],De(()=>l=!1)),!r&&_&1&&(r=!0,w.config=s[0].OPENAI_API_CONFIGS[s[19]],De(()=>r=!1)),e.$set(w)},i(h){a||($(e.$$.fragment,h),a=!0)},o(h){L(e.$$.fragment,h),a=!1},d(h){x(e,h)}}}function hw(s){let e,t,l,r,a,n,o,i,c,m,h=s[3].t("Save")+"",_,w,p,k;function E(V){s[8](V)}let y={direct:!0,onSubmit:s[5]};s[1]!==void 0&&(y.show=s[1]),e=new k0({props:y}),ye.push(()=>Ie(e,"show",E));const I=[cw,uw],D=[];function O(V,C){return V[0]!==null?0:1}return n=O(s),o=D[n]=I[n](s),{c(){X(e.$$.fragment),l=S(),r=g("form"),a=g("div"),o.c(),i=S(),c=g("div"),m=g("button"),_=z(h),this.h()},l(V){ee(e.$$.fragment,V),l=T(V),r=v(V,"FORM",{id:!0,class:!0});var C=b(r);a=v(C,"DIV",{class:!0});var A=b(a);o.l(A),A.forEach(d),i=T(C),c=v(C,"DIV",{class:!0});var H=b(c);m=v(H,"BUTTON",{class:!0,type:!0});var B=b(m);_=F(B,h),B.forEach(d),H.forEach(d),C.forEach(d),this.h()},h(){f(a,"class","overflow-y-scroll scrollbar-hidden h-full"),f(m,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(m,"type","submit"),f(c,"class","flex justify-end pt-3 text-sm font-medium"),f(r,"id","tab-connections"),f(r,"class","flex flex-col h-full justify-between text-sm")},m(V,C){Q(e,V,C),P(V,l,C),P(V,r,C),u(r,a),D[n].m(a,null),u(r,i),u(r,c),u(c,m),u(m,_),w=!0,p||(k=he(r,"submit",ws(s[15])),p=!0)},p(V,[C]){const A={};!t&&C&2&&(t=!0,A.show=V[1],De(()=>t=!1)),e.$set(A);let H=n;n=O(V),n===H?D[n].p(V,C):(Ae(),L(D[H],1,1,()=>{D[H]=null}),Ne(),o=D[n],o?o.p(V,C):(o=D[n]=I[n](V),o.c()),$(o,1),o.m(a,null)),(!w||C&8)&&h!==(h=V[3].t("Save")+"")&&Y(_,h)},i(V){w||($(e.$$.fragment,V),$(o),w=!0)},o(V){L(e.$$.fragment,V),L(o),w=!1},d(V){V&&(d(l),d(r)),x(e,V),D[n].d(),p=!1,k()}}}function mw(s,e,t){let l,r;Ee(s,tl,D=>t(2,l=D)),ol();const a=Lt("i18n");Ee(s,a,D=>t(3,r=D));let{saveSettings:n}=e,o=null,i=!1;const c=async D=>{o.OPENAI_API_BASE_URLS.push(D.url),o.OPENAI_API_KEYS.push(D.key),t(0,o.OPENAI_API_CONFIGS[o.OPENAI_API_BASE_URLS.length-1]=D.config,o),await m()},m=async()=>{if(t(0,o.OPENAI_API_BASE_URLS=o.OPENAI_API_BASE_URLS.map(D=>D.replace(/\/$/,"")),o),o.OPENAI_API_KEYS.length!==o.OPENAI_API_BASE_URLS.length&&(o.OPENAI_API_KEYS.length>o.OPENAI_API_BASE_URLS.length&&t(0,o.OPENAI_API_KEYS=o.OPENAI_API_KEYS.slice(0,o.OPENAI_API_BASE_URLS.length),o),o.OPENAI_API_KEYS.length<o.OPENAI_API_BASE_URLS.length)){const D=o.OPENAI_API_BASE_URLS.length-o.OPENAI_API_KEYS.length;for(let O=0;O<D;O++)o.OPENAI_API_KEYS.push("")}await n({directConnections:o})};Gt(async()=>{t(0,o=(l==null?void 0:l.directConnections)??{OPENAI_API_BASE_URLS:[],OPENAI_API_KEYS:[],OPENAI_API_CONFIGS:{}})});function h(D){i=D,t(1,i)}const _=()=>{t(1,i=!0)},w=()=>{m()},p=D=>{t(0,o.OPENAI_API_BASE_URLS=o.OPENAI_API_BASE_URLS.filter((V,C)=>D!==C),o),t(0,o.OPENAI_API_KEYS=o.OPENAI_API_KEYS.filter((V,C)=>D!==C),o);let O={};o.OPENAI_API_BASE_URLS.forEach((V,C)=>{O[C]=o.OPENAI_API_CONFIGS[C<D?C:C+1]}),t(0,o.OPENAI_API_CONFIGS=O,o)};function k(D,O,V,C){V[C]=D,t(0,o)}function E(D,O){s.$$.not_equal(o.OPENAI_API_KEYS[O],D)&&(o.OPENAI_API_KEYS[O]=D,t(0,o))}function y(D,O){s.$$.not_equal(o.OPENAI_API_CONFIGS[O],D)&&(o.OPENAI_API_CONFIGS[O]=D,t(0,o))}const I=()=>{m()};return s.$$set=D=>{"saveSettings"in D&&t(7,n=D.saveSettings)},[o,i,l,r,a,c,m,n,h,_,w,p,k,E,y,I]}class _w extends mt{constructor(e){super(),_t(this,e,mw,hw,pt,{saveSettings:7})}}function Nm(s,e,t){const l=s.slice();return l[15]=e[t],l[16]=e,l[17]=t,l}function pw(s){let e,t,l,r;return l=new pl({props:{className:"size-6"}}),{c(){e=g("div"),t=g("div"),X(l.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);t=v(n,"DIV",{class:!0});var o=b(t);ee(l.$$.fragment,o),o.forEach(d),n.forEach(d),this.h()},h(){f(t,"class","my-auto"),f(e,"class","flex h-full justify-center")},m(a,n){P(a,e,n),u(e,t),Q(l,t,null),r=!0},p:Ze,i(a){r||($(l.$$.fragment,a),r=!0)},o(a){L(l.$$.fragment,a),r=!1},d(a){a&&d(e),x(l)}}}function gw(s){let e,t,l,r,a,n=s[3].t("Manage Tool Servers")+"",o,i,c,m,h,_,w,p,k=s[3].t("Connect to your own OpenAPI compatible external tool servers.")+"",E,y,I,D,O=s[3].t("CORS must be properly configured by the provider to allow requests from Open WebUI.")+"",V,C,A,H,B,W=s[3].t("Learn more about OpenAPI tool servers.")+"",U,K;c=new Kt({props:{content:s[3].t("Add Connection"),$$slots:{default:[vw]},$$scope:{ctx:s}}});let G=ht(s[0]),M=[];for(let N=0;N<G.length;N+=1)M[N]=Lm(Nm(s,G,N));const R=N=>L(M[N],1,1,()=>{M[N]=null});return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("div"),a=g("div"),o=z(n),i=S(),X(c.$$.fragment),m=S(),h=g("div");for(let N=0;N<M.length;N+=1)M[N].c();_=S(),w=g("div"),p=g("div"),E=z(k),y=S(),I=g("br"),D=S(),V=z(O),A=S(),H=g("div"),B=g("a"),U=z(W),this.h()},l(N){e=v(N,"DIV",{class:!0});var j=b(e);t=v(j,"DIV",{class:!0});var te=b(t);l=v(te,"DIV",{class:!0});var q=b(l);r=v(q,"DIV",{class:!0});var Z=b(r);a=v(Z,"DIV",{class:!0});var le=b(a);o=F(le,n),le.forEach(d),i=T(Z),ee(c.$$.fragment,Z),Z.forEach(d),m=T(q),h=v(q,"DIV",{class:!0});var ce=b(h);for(let se=0;se<M.length;se+=1)M[se].l(ce);ce.forEach(d),q.forEach(d),_=T(te),w=v(te,"DIV",{class:!0});var ae=b(w);p=v(ae,"DIV",{class:!0});var ie=b(p);E=F(ie,k),y=T(ie),I=v(ie,"BR",{}),D=T(ie),V=F(ie,O),ie.forEach(d),ae.forEach(d),A=T(te),H=v(te,"DIV",{class:!0});var oe=b(H);B=v(oe,"A",{class:!0,href:!0,target:!0});var fe=b(B);U=F(fe,W),fe.forEach(d),oe.forEach(d),te.forEach(d),j.forEach(d),this.h()},h(){var N;f(a,"class","font-medium"),f(r,"class","flex justify-between items-center mb-0.5"),f(h,"class","flex flex-col gap-1.5"),f(l,"class",""),f(p,"class",C=`text-xs 
								${((N=s[2])==null?void 0:N.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`),f(w,"class","my-1.5"),f(B,"class","underline"),f(B,"href","https://github.com/open-webui/openapi-servers"),f(B,"target","_blank"),f(H,"class","text-xs text-gray-600 dark:text-gray-300 mb-2"),f(t,"class","pr-1.5"),f(e,"class","")},m(N,j){P(N,e,j),u(e,t),u(t,l),u(l,r),u(r,a),u(a,o),u(r,i),Q(c,r,null),u(l,m),u(l,h);for(let te=0;te<M.length;te+=1)M[te]&&M[te].m(h,null);u(t,_),u(t,w),u(w,p),u(p,E),u(p,y),u(p,I),u(p,D),u(p,V),u(t,A),u(t,H),u(H,B),u(B,U),K=!0},p(N,j){var q;(!K||j&8)&&n!==(n=N[3].t("Manage Tool Servers")+"")&&Y(o,n);const te={};if(j&8&&(te.content=N[3].t("Add Connection")),j&262154&&(te.$$scope={dirty:j,ctx:N}),c.$set(te),j&65){G=ht(N[0]);let Z;for(Z=0;Z<G.length;Z+=1){const le=Nm(N,G,Z);M[Z]?(M[Z].p(le,j),$(M[Z],1)):(M[Z]=Lm(le),M[Z].c(),$(M[Z],1),M[Z].m(h,null))}for(Ae(),Z=G.length;Z<M.length;Z+=1)R(Z);Ne()}(!K||j&8)&&k!==(k=N[3].t("Connect to your own OpenAPI compatible external tool servers.")+"")&&Y(E,k),(!K||j&8)&&O!==(O=N[3].t("CORS must be properly configured by the provider to allow requests from Open WebUI.")+"")&&Y(V,O),(!K||j&4&&C!==(C=`text-xs 
								${((q=N[2])==null?void 0:q.highContrastMode)??!1?"text-gray-800 dark:text-gray-100":"text-gray-500"}`))&&f(p,"class",C),(!K||j&8)&&W!==(W=N[3].t("Learn more about OpenAPI tool servers.")+"")&&Y(U,W)},i(N){if(!K){$(c.$$.fragment,N);for(let j=0;j<G.length;j+=1)$(M[j]);K=!0}},o(N){L(c.$$.fragment,N),M=M.filter(Boolean);for(let j=0;j<M.length;j+=1)L(M[j]);K=!1},d(N){N&&d(e),x(c),il(M,N)}}}function vw(s){let e,t,l,r,a,n;return t=new $o({}),{c(){e=g("button"),X(t.$$.fragment),this.h()},l(o){e=v(o,"BUTTON",{"aria-label":!0,class:!0,type:!0});var i=b(e);ee(t.$$.fragment,i),i.forEach(d),this.h()},h(){f(e,"aria-label",l=s[3].t("Add Connection")),f(e,"class","px-1"),f(e,"type","button")},m(o,i){P(o,e,i),Q(t,e,null),r=!0,a||(n=he(e,"click",s[9]),a=!0)},p(o,i){(!r||i&8&&l!==(l=o[3].t("Add Connection")))&&f(e,"aria-label",l)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){L(t.$$.fragment,o),r=!1},d(o){o&&d(e),x(t),a=!1,n()}}}function Lm(s){let e,t,l;function r(){return s[11](s[17])}function a(o){s[12](o,s[15],s[16],s[17])}let n={direct:!0,onSubmit:s[10],onDelete:r};return s[15]!==void 0&&(n.connection=s[15]),e=new mp({props:n}),ye.push(()=>Ie(e,"connection",a)),{c(){X(e.$$.fragment)},l(o){ee(e.$$.fragment,o)},m(o,i){Q(e,o,i),l=!0},p(o,i){s=o;const c={};i&1&&(c.onDelete=r),!t&&i&1&&(t=!0,c.connection=s[15],De(()=>t=!1)),e.$set(c)},i(o){l||($(e.$$.fragment,o),l=!0)},o(o){L(e.$$.fragment,o),l=!1},d(o){x(e,o)}}}function bw(s){let e,t,l,r,a,n,o,i,c,m,h=s[3].t("Save")+"",_,w,p,k;function E(V){s[8](V)}let y={onSubmit:s[5],direct:!0};s[1]!==void 0&&(y.show=s[1]),e=new hp({props:y}),ye.push(()=>Ie(e,"show",E));const I=[gw,pw],D=[];function O(V,C){return V[0]!==null?0:1}return n=O(s),o=D[n]=I[n](s),{c(){X(e.$$.fragment),l=S(),r=g("form"),a=g("div"),o.c(),i=S(),c=g("div"),m=g("button"),_=z(h),this.h()},l(V){ee(e.$$.fragment,V),l=T(V),r=v(V,"FORM",{id:!0,class:!0});var C=b(r);a=v(C,"DIV",{class:!0});var A=b(a);o.l(A),A.forEach(d),i=T(C),c=v(C,"DIV",{class:!0});var H=b(c);m=v(H,"BUTTON",{class:!0,type:!0});var B=b(m);_=F(B,h),B.forEach(d),H.forEach(d),C.forEach(d),this.h()},h(){f(a,"class","overflow-y-scroll scrollbar-hidden h-full"),f(m,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(m,"type","submit"),f(c,"class","flex justify-end pt-3 text-sm font-medium"),f(r,"id","tab-tools"),f(r,"class","flex flex-col h-full justify-between text-sm")},m(V,C){Q(e,V,C),P(V,l,C),P(V,r,C),u(r,a),D[n].m(a,null),u(r,i),u(r,c),u(c,m),u(m,_),w=!0,p||(k=he(r,"submit",ws(s[13])),p=!0)},p(V,[C]){const A={};!t&&C&2&&(t=!0,A.show=V[1],De(()=>t=!1)),e.$set(A);let H=n;n=O(V),n===H?D[n].p(V,C):(Ae(),L(D[H],1,1,()=>{D[H]=null}),Ne(),o=D[n],o?o.p(V,C):(o=D[n]=I[n](V),o.c()),$(o,1),o.m(a,null)),(!w||C&8)&&h!==(h=V[3].t("Save")+"")&&Y(_,h)},i(V){w||($(e.$$.fragment,V),$(o),w=!0)},o(V){L(e.$$.fragment,V),L(o),w=!1},d(V){V&&(d(l),d(r)),x(e,V),D[n].d(),p=!1,k()}}}function ww(s,e,t){let l,r;Ee(s,tl,y=>t(2,l=y)),ol();const a=Lt("i18n");Ee(s,a,y=>t(3,r=y));let{saveSettings:n}=e,o=null,i=!1;const c=async y=>{t(0,o=[...o,y]),await m()},m=async()=>{await n({toolServers:o});let y=await a0((l==null?void 0:l.toolServers)??[]);y=y.filter(I=>I.error?(Ye.error(r.t("Failed to connect to {{URL}} OpenAPI tool server",{URL:I==null?void 0:I.url})),!1):!0),s0.set(y)};Gt(async()=>{t(0,o=(l==null?void 0:l.toolServers)??[])});function h(y){i=y,t(1,i)}const _=()=>{t(1,i=!0)},w=()=>{m()},p=y=>{t(0,o=o.filter((I,D)=>D!==y)),m()};function k(y,I,D,O){D[O]=y,t(0,o)}const E=()=>{m()};return s.$$set=y=>{"saveSettings"in y&&t(7,n=y.saveSettings)},[o,i,l,r,a,c,m,n,h,_,w,p,k,E]}class kw extends mt{constructor(e){super(),_t(this,e,ww,bw,pt,{saveSettings:7})}}function yw(s){let e,t,l,r,a,n;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),a=st("path"),n=st("path"),this.h()},l(o){e=rt(o,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var i=b(e);t=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),r=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(r).forEach(d),a=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(a).forEach(d),n=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-dasharray":!0}),b(n).forEach(d),i.forEach(d),this.h()},h(){f(t,"d","M4 6V12C4 12 4 15 11 15C18 15 18 12 18 12V6"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M11 3C18 3 18 6 18 6C18 6 18 9 11 9C4 9 4 6 4 6C4 6 4 3 11 3Z"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(r,"d","M11 21C4 21 4 18 4 18V12"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(a,"d","M19 21C20.1046 21 21 20.1046 21 19C21 17.8954 20.1046 17 19 17C18.6357 17 18.2942 17.0974 18 17.2676C17.4022 17.6134 17 18.2597 17 19C17 19.7403 17.4022 20.3866 18 20.7324C18.2942 20.9026 18.6357 21 19 21Z"),f(a,"stroke-linecap","round"),f(a,"stroke-linejoin","round"),f(n,"d","M19 22C20.6569 22 22 20.6569 22 19C22 17.3431 20.6569 16 19 16C17.3431 16 16 17.3431 16 19C16 20.6569 17.3431 22 19 22Z"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-dasharray","0.3 2"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(o,i){P(o,e,i),u(e,t),u(e,l),u(e,r),u(e,a),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0]),i&2&&f(e,"stroke-width",o[1])},i:Ze,o:Ze,d(o){o&&d(e)}}}function Ew(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Iw extends mt{constructor(e){super(),_t(this,e,Ew,yw,pt,{className:0,strokeWidth:1})}}function Dw(s){let e,t,l;return{c(){e=st("svg"),t=st("path"),l=st("path"),this.h()},l(r){e=rt(r,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var a=b(e);t=rt(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),a.forEach(d),this.h()},h(){f(t,"d","M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M19.6224 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.48295L13.5578 4.36974L12.9353 2H10.981L10.3491 4.40113L7.70441 5.51596L6 4L4 6L5.45337 7.78885L4.3725 10.4463L2 11V13L4.40111 13.6555L5.51575 16.2997L4 18L6 20L7.79116 18.5403L10.397 19.6123L11 22H13L13.6045 19.6132L16.2551 18.5155C16.6969 18.8313 18 20 18 20L20 18L18.5159 16.2494L19.6139 13.598L21.9999 12.9772L22 11L19.6224 10.3954Z"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(r,a){P(r,e,a),u(e,t),u(e,l)},p(r,[a]){a&1&&f(e,"class",r[0]),a&2&&f(e,"stroke-width",r[1])},i:Ze,o:Ze,d(r){r&&d(e)}}}function Cw(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class $w extends mt{constructor(e){super(),_t(this,e,Cw,Dw,pt,{className:0,strokeWidth:1})}}function Vw(s){let e,t,l,r;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),this.h()},l(a){e=rt(a,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var n=b(e);t=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),r=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(r).forEach(d),n.forEach(d),this.h()},h(){f(t,"d","M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M4.271 18.3457C4.271 18.3457 6.50002 15.5 12 15.5C17.5 15.5 19.7291 18.3457 19.7291 18.3457"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(r,"d","M12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12Z"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(a,n){P(a,e,n),u(e,t),u(e,l),u(e,r)},p(a,[n]){n&1&&f(e,"class",a[0]),n&2&&f(e,"stroke-width",a[1])},i:Ze,o:Ze,d(a){a&&d(e)}}}function Sw(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Tw extends mt{constructor(e){super(),_t(this,e,Sw,Vw,pt,{className:0,strokeWidth:1})}}function Aw(s){let e,t,l,r;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),this.h()},l(a){e=rt(a,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var n=b(e);t=rt(n,"path",{d:!0}),b(t).forEach(d),l=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),r=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(r).forEach(d),n.forEach(d),this.h()},h(){f(t,"d","M1 13.8571V10.1429C1 9.03829 1.89543 8.14286 3 8.14286H5.9C6.09569 8.14286 6.28708 8.08544 6.45046 7.97772L12.4495 4.02228C13.1144 3.5839 14 4.06075 14 4.85714V19.1429C14 19.9392 13.1144 20.4161 12.4495 19.9777L6.45046 16.0223C6.28708 15.9146 6.09569 15.8571 5.9 15.8571H3C1.89543 15.8571 1 14.9617 1 13.8571Z"),f(l,"d","M17.5 7.5C17.5 7.5 19 9 19 11.5C19 14 17.5 15.5 17.5 15.5"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(r,"d","M20.5 4.5C20.5 4.5 23 7 23 11.5C23 16 20.5 18.5 20.5 18.5"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(a,n){P(a,e,n),u(e,t),u(e,l),u(e,r)},p(a,[n]){n&1&&f(e,"class",a[0]),n&2&&f(e,"stroke-width",a[1])},i:Ze,o:Ze,d(a){a&&d(e)}}}function Nw(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Lw extends mt{constructor(e){super(),_t(this,e,Nw,Aw,pt,{className:0,strokeWidth:1})}}function Ow(s){let e,t,l,r;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),this.h()},l(a){e=rt(a,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var n=b(e);t=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),r=rt(n,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(r).forEach(d),n.forEach(d),this.h()},h(){f(t,"d","M12 11.5V16.5"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M12 7.51L12.01 7.49889"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(r,"d","M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(a,n){P(a,e,n),u(e,t),u(e,l),u(e,r)},p(a,[n]){n&1&&f(e,"class",a[0]),n&2&&f(e,"stroke-width",a[1])},i:Ze,o:Ze,d(a){a&&d(e)}}}function Mw(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Bw extends mt{constructor(e){super(),_t(this,e,Mw,Ow,pt,{className:0,strokeWidth:1})}}function Pw(s){let e,t,l,r,a,n;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),a=st("path"),n=st("path"),this.h()},l(o){e=rt(o,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var i=b(e);t=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),r=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(r).forEach(d),a=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(a).forEach(d),n=rt(i,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(n).forEach(d),i.forEach(d),this.h()},h(){f(t,"d","M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M16 8L16 10"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(r,"d","M8 8L8 10"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(a,"d","M9 16C9 16 10 17 12 17C14 17 15 16 15 16"),f(a,"stroke-linecap","round"),f(a,"stroke-linejoin","round"),f(n,"d","M12 8L12 13L11 13"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(o,i){P(o,e,i),u(e,t),u(e,l),u(e,r),u(e,a),u(e,n)},p(o,[i]){i&1&&f(e,"class",o[0]),i&2&&f(e,"stroke-width",o[1])},i:Ze,o:Ze,d(o){o&&d(e)}}}function Uw(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class jw extends mt{constructor(e){super(),_t(this,e,Uw,Pw,pt,{className:0,strokeWidth:1})}}function Rw(s){let e,t,l;return{c(){e=st("svg"),t=st("path"),l=st("path"),this.h()},l(r){e=rt(r,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var a=b(e);t=rt(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(a,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(l).forEach(d),a.forEach(d),this.h()},h(){f(t,"d","M19 8C20.6569 8 22 6.65685 22 5C22 3.34315 20.6569 2 19 2C17.3431 2 16 3.34315 16 5C16 6.65685 17.3431 8 19 8Z"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M21 12V15C21 18.3137 18.3137 21 15 21H9C5.68629 21 3 18.3137 3 15V9C3 5.68629 5.68629 3 9 3H12"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(r,a){P(r,e,a),u(e,t),u(e,l)},p(r,[a]){a&1&&f(e,"class",r[0]),a&2&&f(e,"stroke-width",r[1])},i:Ze,o:Ze,d(r){r&&d(e)}}}function Hw(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class zw extends mt{constructor(e){super(),_t(this,e,Hw,Rw,pt,{className:0,strokeWidth:1})}}function Fw(s){let e,t,l,r,a;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),a=st("path"),this.h()},l(n){e=rt(n,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,"stroke-width":!0,fill:!0,stroke:!0,viewBox:!0});var o=b(e);t=rt(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(t).forEach(d),l=rt(o,"path",{d:!0}),b(l).forEach(d),r=rt(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(r).forEach(d),a=rt(o,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),b(a).forEach(d),o.forEach(d),this.h()},h(){f(t,"d","M2 20V19C2 15.134 5.13401 12 9 12V12"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(l,"d","M15.8038 12.3135C16.4456 11.6088 17.5544 11.6088 18.1962 12.3135V12.3135C18.5206 12.6697 18.9868 12.8628 19.468 12.8403V12.8403C20.4201 12.7958 21.2042 13.5799 21.1597 14.532V14.532C21.1372 15.0132 21.3303 15.4794 21.6865 15.8038V15.8038C22.3912 16.4456 22.3912 17.5544 21.6865 18.1962V18.1962C21.3303 18.5206 21.1372 18.9868 21.1597 19.468V19.468C21.2042 20.4201 20.4201 21.2042 19.468 21.1597V21.1597C18.9868 21.1372 18.5206 21.3303 18.1962 21.6865V21.6865C17.5544 22.3912 16.4456 22.3912 15.8038 21.6865V21.6865C15.4794 21.3303 15.0132 21.1372 14.532 21.1597V21.1597C13.5799 21.2042 12.7958 20.4201 12.8403 19.468V19.468C12.8628 18.9868 12.6697 18.5206 12.3135 18.1962V18.1962C11.6088 17.5544 11.6088 16.4456 12.3135 15.8038V15.8038C12.6697 15.4794 12.8628 15.0132 12.8403 14.532V14.532C12.7958 13.5799 13.5799 12.7958 14.532 12.8403V12.8403C15.0132 12.8628 15.4794 12.6697 15.8038 12.3135V12.3135Z"),f(r,"d","M15.3636 17L16.4546 18.0909L18.6364 15.9091"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(a,"d","M9 12C11.2091 12 13 10.2091 13 8C13 5.79086 11.2091 4 9 4C6.79086 4 5 5.79086 5 8C5 10.2091 6.79086 12 9 12Z"),f(a,"stroke-linecap","round"),f(a,"stroke-linejoin","round"),f(e,"class",s[0]),f(e,"aria-hidden","true"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"stroke-width",s[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,o){P(n,e,o),u(e,t),u(e,l),u(e,r),u(e,a)},p(n,[o]){o&1&&f(e,"class",n[0]),o&2&&f(e,"stroke-width",n[1])},i:Ze,o:Ze,d(n){n&&d(e)}}}function Ww(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Kw extends mt{constructor(e){super(),_t(this,e,Ww,Fw,pt,{className:0,strokeWidth:1})}}function Om(s,e,t){const l=s.slice();return l[40]=e[t],l}function Gw(s){let e,t=s[7].t("No results found")+"",l;return{c(){e=g("div"),l=z(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","text-center text-gray-500 mt-4")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a[0]&128&&t!==(t=r[7].t("No results found")+"")&&Y(l,t)},i:Ze,o:Ze,d(r){r&&d(e)}}}function Yw(s){let e=[],t=new Map,l,r,a=ht(s[1]);const n=o=>o[40];for(let o=0;o<a.length;o+=1){let i=Om(s,a,o),c=n(i);t.set(c,e[o]=Pm(c,i))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=at()},l(o){for(let i=0;i<e.length;i+=1)e[i].l(o);l=at()},m(o,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,i);P(o,l,i),r=!0},p(o,i){i[0]&250&&(a=ht(o[1]),Ae(),e=ks(e,i,n,1,o,a,t,l.parentNode,xs,Pm,l,Om),Ne())},i(o){if(!r){for(let i=0;i<a.length;i+=1)$(e[i]);r=!0}},o(o){for(let i=0;i<e.length;i+=1)L(e[i]);r=!1},d(o){o&&d(l);for(let i=0;i<e.length;i+=1)e[i].d(o)}}}function qw(s){let e,t,l,r,a,n=s[7].t("About")+"",o,i,c,m,h,_,w;return l=new Bw({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-about"),f(e,"aria-selected",c=s[3]==="about"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="about"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[22]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("About")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="about"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="about"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function Zw(s){let e,t,l,r,a,n=s[7].t("Account")+"",o,i,c,m,h,_,w;return l=new Tw({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-account"),f(e,"aria-selected",c=s[3]==="account"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="account"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[21]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("Account")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="account"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="account"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function Jw(s){let e,t,l,r,a,n=s[7].t("Data Controls")+"",o,i,c,m,h,_,w;return l=new Iw({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-data-controls"),f(e,"aria-selected",c=s[3]==="data_controls"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="data_controls"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[20]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("Data Controls")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="data_controls"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="data_controls"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function Xw(s){let e,t,l,r,a,n=s[7].t("Audio")+"",o,i,c,m,h,_,w;return l=new Lw({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-audio"),f(e,"aria-selected",c=s[3]==="audio"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="audio"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[19]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("Audio")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="audio"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="audio"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function Qw(s){let e,t,l,r,a,n=s[7].t("Personalization")+"",o,i,c,m,h,_,w;return l=new jw({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-personalization"),f(e,"aria-selected",c=s[3]==="personalization"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="personalization"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[18]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("Personalization")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="personalization"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="personalization"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function xw(s){var r,a,n,o,i;let e,t,l=(((r=s[6])==null?void 0:r.role)==="admin"||((a=s[6])==null?void 0:a.role)==="user"&&((i=(o=(n=s[6])==null?void 0:n.permissions)==null?void 0:o.features)==null?void 0:i.direct_tool_servers))&&Mm(s);return{c(){l&&l.c(),e=at()},l(c){l&&l.l(c),e=at()},m(c,m){l&&l.m(c,m),P(c,e,m),t=!0},p(c,m){var h,_,w,p,k;((h=c[6])==null?void 0:h.role)==="admin"||((_=c[6])==null?void 0:_.role)==="user"&&((k=(p=(w=c[6])==null?void 0:w.permissions)==null?void 0:p.features)!=null&&k.direct_tool_servers)?l?(l.p(c,m),m[0]&64&&$(l,1)):(l=Mm(c),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(Ae(),L(l,1,1,()=>{l=null}),Ne())},i(c){t||($(l),t=!0)},o(c){L(l),t=!1},d(c){c&&d(e),l&&l.d(c)}}}function e5(s){var r,a,n,o;let e,t,l=(((r=s[6])==null?void 0:r.role)==="admin"||((a=s[6])==null?void 0:a.role)==="user"&&((o=(n=s[5])==null?void 0:n.features)==null?void 0:o.enable_direct_connections))&&Bm(s);return{c(){l&&l.c(),e=at()},l(i){l&&l.l(i),e=at()},m(i,c){l&&l.m(i,c),P(i,e,c),t=!0},p(i,c){var m,h,_,w;((m=i[6])==null?void 0:m.role)==="admin"||((h=i[6])==null?void 0:h.role)==="user"&&((w=(_=i[5])==null?void 0:_.features)!=null&&w.enable_direct_connections)?l?(l.p(i,c),c[0]&96&&$(l,1)):(l=Bm(i),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(Ae(),L(l,1,1,()=>{l=null}),Ne())},i(i){t||($(l),t=!0)},o(i){L(l),t=!1},d(i){i&&d(e),l&&l.d(i)}}}function t5(s){let e,t,l,r,a,n=s[7].t("Interface")+"",o,i,c,m,h,_,w;return l=new zw({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-interface"),f(e,"aria-selected",c=s[3]==="interface"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="interface"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[15]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("Interface")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="interface"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="interface"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function l5(s){let e,t,l,r,a,n=s[7].t("General")+"",o,i,c,m,h,_,w;return l=new $w({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-general"),f(e,"aria-selected",c=s[3]==="general"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="general"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[14]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("General")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="general"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="general"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function Mm(s){let e,t,l,r,a,n=s[7].t("External Tools")+"",o,i,c,m,h,_,w;return l=new _p({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-tools"),f(e,"aria-selected",c=s[3]==="tools"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="tools"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[17]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("External Tools")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="tools"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="tools"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function Bm(s){let e,t,l,r,a,n=s[7].t("Connections")+"",o,i,c,m,h,_,w;return l=new Tp({props:{strokeWidth:"2"}}),{c(){e=g("button"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),i=S(),this.h()},l(p){e=v(p,"BUTTON",{role:!0,"aria-controls":!0,"aria-selected":!0,class:!0});var k=b(e);t=v(k,"DIV",{class:!0});var E=b(t);ee(l.$$.fragment,E),E.forEach(d),r=T(k),a=v(k,"DIV",{class:!0});var y=b(a);o=F(y,n),y.forEach(d),i=T(k),k.forEach(d),this.h()},h(){var p,k;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"role","tab"),f(e,"aria-controls","tab-connections"),f(e,"aria-selected",c=s[3]==="connections"),f(e,"class",m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${s[3]==="connections"?((p=s[4])==null?void 0:p.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((k=s[4])==null?void 0:k.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci")},m(p,k){P(p,e,k),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),u(e,i),h=!0,_||(w=he(e,"click",s[16]),_=!0)},p(p,k){var E,y;(!h||k[0]&128)&&n!==(n=p[7].t("Connections")+"")&&Y(o,n),(!h||k[0]&8&&c!==(c=p[3]==="connections"))&&f(e,"aria-selected",c),(!h||k[0]&24&&m!==(m=xt(`px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none flex text-left transition
								${p[3]==="connections"?((E=p[4])==null?void 0:E.highContrastMode)??!1?"dark:bg-gray-800 bg-gray-200":"":((y=p[4])==null?void 0:y.highContrastMode)??!1?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"}`)+" svelte-187gxci"))&&f(e,"class",m)},i(p){h||($(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&d(e),x(l),_=!1,w()}}}function Pm(s,e){let t,l,r,a,n;const o=[l5,t5,e5,xw,Qw,Xw,Jw,Zw,qw],i=[];function c(m,h){return m[40]==="general"?0:m[40]==="interface"?1:m[40]==="connections"?2:m[40]==="tools"?3:m[40]==="personalization"?4:m[40]==="audio"?5:m[40]==="data_controls"?6:m[40]==="account"?7:m[40]==="about"?8:-1}return~(l=c(e))&&(r=i[l]=o[l](e)),{key:s,first:null,c(){t=at(),r&&r.c(),a=at(),this.h()},l(m){t=at(),r&&r.l(m),a=at(),this.h()},h(){this.first=t},m(m,h){P(m,t,h),~l&&i[l].m(m,h),P(m,a,h),n=!0},p(m,h){e=m;let _=l;l=c(e),l===_?~l&&i[l].p(e,h):(r&&(Ae(),L(i[_],1,1,()=>{i[_]=null}),Ne()),~l?(r=i[l],r?r.p(e,h):(r=i[l]=o[l](e),r.c()),$(r,1),r.m(a.parentNode,a)):r=null)},i(m){n||($(r),n=!0)},o(m){L(r),n=!1},d(m){m&&(d(t),d(a)),~l&&i[l].d(m)}}}function Um(s){let e,t,l,r,a,n=s[7].t("Admin Settings")+"",o,i,c,m,h;return l=new Kw({props:{strokeWidth:"2"}}),{c(){e=g("a"),t=g("div"),X(l.$$.fragment),r=S(),a=g("div"),o=z(n),this.h()},l(_){e=v(_,"A",{href:!0,class:!0});var w=b(e);t=v(w,"DIV",{class:!0});var p=b(t);ee(l.$$.fragment,p),p.forEach(d),r=T(w),a=v(w,"DIV",{class:!0});var k=b(a);o=F(k,n),k.forEach(d),w.forEach(d),this.h()},h(){var _;f(t,"class","self-center mr-2"),f(a,"class","self-center"),f(e,"href","/admin/settings"),f(e,"class",i="px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none md:mt-auto flex text-left transition "+((_=s[4])!=null&&_.highContrastMode?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))},m(_,w){P(_,e,w),u(e,t),Q(l,t,null),u(e,r),u(e,a),u(a,o),c=!0,m||(h=he(e,"click",s[23]),m=!0)},p(_,w){var p;(!c||w[0]&128)&&n!==(n=_[7].t("Admin Settings")+"")&&Y(o,n),(!c||w[0]&16&&i!==(i="px-0.5 md:px-2.5 py-1 min-w-fit rounded-xl flex-1 md:flex-none md:mt-auto flex text-left transition "+((p=_[4])!=null&&p.highContrastMode?"hover:bg-gray-200 dark:hover:bg-gray-800":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(e,"class",i)},i(_){c||($(l.$$.fragment,_),c=!0)},o(_){L(l.$$.fragment,_),c=!1},d(_){_&&d(e),x(l),m=!1,h()}}}function s5(s){let e,t;return e=new q2({}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function r5(s){let e,t;return e=new z2({props:{saveSettings:s[10],saveHandler:s[30]}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&128&&(a.saveHandler=l[30]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function a5(s){let e,t;return e=new Ob({props:{saveSettings:s[10]}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function n5(s){let e,t;return e=new $b({props:{saveSettings:s[10]}}),e.$on("save",s[29]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function o5(s){let e,t;return e=new rw({props:{saveSettings:s[10]}}),e.$on("save",s[28]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function i5(s){let e,t;return e=new kw({props:{saveSettings:s[27]}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&128&&(a.saveSettings=l[27]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function f5(s){let e,t;return e=new _w({props:{saveSettings:s[26]}}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p(l,r){const a={};r[0]&128&&(a.saveSettings=l[26]),e.$set(a)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function u5(s){let e,t;return e=new mb({props:{saveSettings:s[10]}}),e.$on("save",s[25]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function c5(s){let e,t;return e=new x2({props:{getModels:s[11],saveSettings:s[10]}}),e.$on("save",s[24]),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function d5(s){var fe,se;let e,t,l,r=s[7].t("Settings")+"",a,n,o,i,c,m,h,_,w,p,k,E,y,I=s[7].t("Search")+"",D,O,V,C,A,H,B,W,U,K,G,M,R,N,j,te;i=new os({props:{className:"w-5 h-5"}}),k=new qi({props:{className:"size-3.5",strokeWidth:((fe=s[4])==null?void 0:fe.highContrastMode)??!1?"3":"1.5"}});const q=[Yw,Gw],Z=[];function le(re,ne){return re[1].length>0?0:1}B=le(s),W=Z[B]=q[B](s);let ce=((se=s[6])==null?void 0:se.role)==="admin"&&Um(s);const ae=[c5,u5,f5,i5,o5,n5,a5,r5,s5],ie=[];function oe(re,ne){return re[3]==="general"?0:re[3]==="interface"?1:re[3]==="connections"?2:re[3]==="tools"?3:re[3]==="personalization"?4:re[3]==="audio"?5:re[3]==="data_controls"?6:re[3]==="account"?7:re[3]==="about"?8:-1}return~(M=oe(s))&&(R=ie[M]=ae[M](s)),{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=g("button"),X(i.$$.fragment),m=S(),h=g("div"),_=g("div"),w=g("div"),p=g("div"),X(k.$$.fragment),E=S(),y=g("label"),D=z(I),O=S(),V=g("input"),H=S(),W.c(),U=S(),ce&&ce.c(),K=S(),G=g("div"),R&&R.c(),this.h()},l(re){e=v(re,"DIV",{class:!0});var ne=b(e);t=v(ne,"DIV",{class:!0});var me=b(t);l=v(me,"DIV",{class:!0});var _e=b(l);a=F(_e,r),_e.forEach(d),n=T(me),o=v(me,"BUTTON",{"aria-label":!0,class:!0});var pe=b(o);ee(i.$$.fragment,pe),pe.forEach(d),me.forEach(d),m=T(ne),h=v(ne,"DIV",{class:!0});var ve=b(h);_=v(ve,"DIV",{role:!0,id:!0,class:!0});var ge=b(_);w=v(ge,"DIV",{class:!0,id:!0});var Ce=b(w);p=v(Ce,"DIV",{class:!0});var Le=b(p);ee(k.$$.fragment,Le),Le.forEach(d),E=T(Ce),y=v(Ce,"LABEL",{class:!0,for:!0});var Oe=b(y);D=F(Oe,I),Oe.forEach(d),O=T(Ce),V=v(Ce,"INPUT",{class:!0,id:!0,placeholder:!0}),Ce.forEach(d),H=T(ge),W.l(ge),U=T(ge),ce&&ce.l(ge),ge.forEach(d),K=T(ve),G=v(ve,"DIV",{class:!0});var je=b(G);R&&R.l(je),je.forEach(d),ve.forEach(d),ne.forEach(d),this.h()},h(){var re;f(l,"class","text-lg font-medium self-center"),f(o,"aria-label",c=s[7].t("Close settings modal")),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-300 px-4 md:px-4.5 pt-4.5 pb-0.5 md:pb-2.5"),f(p,"class","self-center rounded-l-xl bg-transparent"),f(y,"class","sr-only"),f(y,"for","search-input-settings-modal"),f(V,"class",C=xt(`w-full py-1 text-sm bg-transparent dark:text-gray-300 outline-hidden
								${((re=s[4])==null?void 0:re.highContrastMode)??!1?"placeholder-gray-800":""}`)+" svelte-187gxci"),f(V,"id","search-input-settings-modal"),f(V,"placeholder",A=s[7].t("Search")),f(w,"class","hidden md:flex w-full rounded-full px-2.5 gap-2 bg-gray-100/80 dark:bg-gray-850/80 backdrop-blur-2xl my-1 mb-1.5"),f(w,"id","settings-search"),f(_,"role","tablist"),f(_,"id","settings-tabs-container"),f(_,"class","tabs flex flex-row overflow-x-auto gap-2.5 mx-3 md:pr-4 md:gap-1 md:flex-col flex-1 md:flex-none md:w-50 md:min-h-[36rem] md:max-h-[36rem] dark:text-gray-200 text-sm text-left mb-1 md:mb-0 -translate-y-1 svelte-187gxci"),f(G,"class","flex-1 px-3.5 md:pl-0 md:pr-4.5 md:min-h-[36rem] max-h-[36rem]"),f(h,"class","flex flex-col md:flex-row w-full pt-1 pb-4"),f(e,"class","text-gray-700 dark:text-gray-100 mx-1")},m(re,ne){P(re,e,ne),u(e,t),u(t,l),u(l,a),u(t,n),u(t,o),Q(i,o,null),u(e,m),u(e,h),u(h,_),u(_,w),u(w,p),Q(k,p,null),u(w,E),u(w,y),u(y,D),u(w,O),u(w,V),Xe(V,s[2]),u(_,H),Z[B].m(_,null),u(_,U),ce&&ce.m(_,null),u(h,K),u(h,G),~M&&ie[M].m(G,null),N=!0,j||(te=[he(o,"click",s[12]),he(V,"input",s[13]),he(V,"input",s[9])],j=!0)},p(re,ne){var ve,ge,Ce;(!N||ne[0]&128)&&r!==(r=re[7].t("Settings")+"")&&Y(a,r),(!N||ne[0]&128&&c!==(c=re[7].t("Close settings modal")))&&f(o,"aria-label",c);const me={};ne[0]&16&&(me.strokeWidth=((ve=re[4])==null?void 0:ve.highContrastMode)??!1?"3":"1.5"),k.$set(me),(!N||ne[0]&128)&&I!==(I=re[7].t("Search")+"")&&Y(D,I),(!N||ne[0]&16&&C!==(C=xt(`w-full py-1 text-sm bg-transparent dark:text-gray-300 outline-hidden
								${((ge=re[4])==null?void 0:ge.highContrastMode)??!1?"placeholder-gray-800":""}`)+" svelte-187gxci"))&&f(V,"class",C),(!N||ne[0]&128&&A!==(A=re[7].t("Search")))&&f(V,"placeholder",A),ne[0]&4&&V.value!==re[2]&&Xe(V,re[2]);let _e=B;B=le(re),B===_e?Z[B].p(re,ne):(Ae(),L(Z[_e],1,1,()=>{Z[_e]=null}),Ne(),W=Z[B],W?W.p(re,ne):(W=Z[B]=q[B](re),W.c()),$(W,1),W.m(_,U)),((Ce=re[6])==null?void 0:Ce.role)==="admin"?ce?(ce.p(re,ne),ne[0]&64&&$(ce,1)):(ce=Um(re),ce.c(),$(ce,1),ce.m(_,null)):ce&&(Ae(),L(ce,1,1,()=>{ce=null}),Ne());let pe=M;M=oe(re),M===pe?~M&&ie[M].p(re,ne):(R&&(Ae(),L(ie[pe],1,1,()=>{ie[pe]=null}),Ne()),~M?(R=ie[M],R?R.p(re,ne):(R=ie[M]=ae[M](re),R.c()),$(R,1),R.m(G,null)):R=null)},i(re){N||($(i.$$.fragment,re),$(k.$$.fragment,re),$(W),$(ce),$(R),N=!0)},o(re){L(i.$$.fragment,re),L(k.$$.fragment,re),L(W),L(ce),L(R),N=!1},d(re){re&&d(e),x(i),x(k),Z[B].d(),ce&&ce.d(),~M&&ie[M].d(),j=!1,Ct(te)}}}function h5(s){let e,t,l;function r(n){s[31](n)}let a={size:"xl",$$slots:{default:[d5]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ys({props:a}),ye.push(()=>Ie(e,"show",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,o){const i={};o[0]&255|o[1]&4096&&(i.$$scope={dirty:o,ctx:n}),!t&&o[0]&1&&(t=!0,i.show=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}function m5(s,e,t){let l,r,a,n;Ee(s,tl,se=>t(4,l=se)),Ee(s,Dl,se=>t(5,r=se)),Ee(s,Vl,se=>t(6,a=se));const o=Lt("i18n");Ee(s,o,se=>t(7,n=se));let{show:i=!1}=e;const c=[{id:"general",title:"General",keywords:["advancedparams","advancedparameters","advanced params","advanced parameters","configuration","defaultparameters","default parameters","defaultsettings","default settings","general","keepalive","keep alive","languages","notifications","requestmode","request mode","systemparameters","system parameters","systemprompt","system prompt","systemsettings","system settings","theme","translate","webuisettings","webui settings"]},{id:"interface",title:"Interface",keywords:["allow user location","allow voice interruption in call","allowuserlocation","allowvoiceinterruptionincall","always collapse codeblocks","always collapse code blocks","always expand details","always on web search","always play notification sound","alwayscollapsecodeblocks","alwaysexpanddetails","alwaysonwebsearch","alwaysplaynotificationsound","android","auto chat tags","auto copy response to clipboard","auto title","autochattags","autocopyresponsetoclipboard","autotitle","beta","call","chat background image","chat bubble ui","chat direction","chat tags autogen","chat tags autogeneration","chat ui","chatbackgroundimage","chatbubbleui","chatdirection","chat tags autogeneration","chattagsautogeneration","chatui","copy formatted text","copyformattedtext","default model","defaultmodel","design","detect artifacts automatically","detectartifactsautomatically","display emoji in call","display username","displayemojiincall","displayusername","enter key behavior","enterkeybehavior","expand mode","expandmode","file","followup autogeneration","followupautogeneration","fullscreen","fullwidthmode","full width mode","haptic feedback","hapticfeedback","high contrast mode","highcontrastmode","iframe sandbox allow forms","iframe sandbox allow same origin","iframesandboxallowforms","iframesandboxallowsameorigin","imagecompression","image compression","imagemaxcompressionsize","image max compression size","interface customization","interface options","interfacecustomization","interfaceoptions","landing page mode","landingpagemode","layout","left to right","left-to-right","lefttoright","ltr","paste large text as file","pastelargetextasfile","reset background","resetbackground","response auto copy","responseautocopy","rich text input for chat","richtextinputforchat","right to left","right-to-left","righttoleft","rtl","scroll behavior","scroll on branch change","scrollbehavior","scrollonbranchchange","select model","selectmodel","settings","show username","showusername","stream large chunks","streamlargechunks","stylized pdf export","stylizedpdfexport","title autogeneration","titleautogeneration","toast notifications for new updates","toastnotificationsfornewupdates","upload background","uploadbackground","user interface","user location access","userinterface","userlocationaccess","vibration","voice control","voicecontrol","widescreen mode","widescreenmode","whatsnew","whats new","websearchinchat","web search in chat"]},{id:"connections",title:"Connections",keywords:["addconnection","add connection","manageconnections","manage connections","manage direct connections","managedirectconnections","settings"]},{id:"tools",title:"External Tools",keywords:["addconnection","add connection","managetools","manage tools","manage tool servers","managetoolservers","settings"]},{id:"personalization",title:"Personalization",keywords:["account preferences","account settings","accountpreferences","accountsettings","custom settings","customsettings","experimental","memories","memory","personalization","personalize","personal settings","personalsettings","profile","user preferences","userpreferences"]},{id:"audio",title:"Audio",keywords:["audio config","audio control","audio features","audio input","audio output","audio playback","audio voice","audioconfig","audiocontrol","audiofeatures","audioinput","audiooutput","audioplayback","audiovoice","auto playback response","autoplaybackresponse","auto transcribe","autotranscribe","instant auto send after voice transcription","instantautosendaftervoicetranscription","language","non local voices","nonlocalvoices","save settings","savesettings","set voice","setvoice","sound settings","soundsettings","speech config","speech mode","speech playback speed","speech rate","speech recognition","speech settings","speech speed","speech synthesis","speech to text engine","speechconfig","speechmode","speechplaybackspeed","speechrate","speechrecognition","speechsettings","speechspeed","speechsynthesis","speechtotextengine","speedch playback rate","speedchplaybackrate","stt settings","sttsettings","text to speech engine","text to speech","textospeechengine","texttospeech","texttospeechvoice","text to speech voice","voice control","voice modes","voice options","voice playback","voice recognition","voice speed","voicecontrol","voicemodes","voiceoptions","voiceplayback","voicerecognition","voicespeed","volume"]},{id:"data_controls",title:"Data Controls",keywords:["archive all chats","archive chats","archiveallchats","archivechats","archived chats","archivedchats","chat activity","chat history","chat settings","chatactivity","chathistory","chatsettings","conversation activity","conversation history","conversationactivity","conversationhistory","conversations","convos","delete all chats","delete chats","deleteallchats","deletechats","export chats","exportchats","import chats","importchats","message activity","message archive","message history","messagearchive","messagehistory"]},{id:"account",title:"Account",keywords:["account preferences","account settings","accountpreferences","accountsettings","api keys","apikeys","change password","changepassword","jwt token","jwttoken","login","new password","newpassword","notification webhook url","notificationwebhookurl","personal settings","personalsettings","privacy settings","privacysettings","profileavatar","profile avatar","profile details","profile image","profile picture","profiledetails","profileimage","profilepicture","security settings","securitysettings","update account","update password","updateaccount","updatepassword","user account","user data","user preferences","user profile","useraccount","userdata","username","userpreferences","userprofile","webhook url","webhookurl"]},{id:"about",title:"About",keywords:["about app","about me","about open webui","about page","about us","aboutapp","aboutme","aboutopenwebui","aboutpage","aboutus","check for updates","checkforupdates","contact","copyright","details","discord","documentation","github","help","information","license","redistributions","release","see whats new","seewhatsnew","settings","software info","softwareinfo","support","terms and conditions","terms of use","termsandconditions","termsofuse","timothy jae ryang baek","timothy j baek","timothyjaeryangbaek","timothyjbaek","twitter","update info","updateinfo","version info","versioninfo"]}];let m=[],h=[],_="",w;const p=()=>c.filter(se=>{var re,ne,me;return se.id==="connections"?(re=r==null?void 0:r.features)==null?void 0:re.enable_direct_connections:se.id==="tools"?(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="user"&&((me=(ne=a==null?void 0:a.permissions)==null?void 0:ne.features)==null?void 0:me.direct_tool_servers):!0}),k=()=>{t(1,h=m.filter(se=>_===""||se.title.toLowerCase().includes(_.toLowerCase().trim())||se.keywords.some(re=>re.includes(_.toLowerCase().trim()))).map(se=>se.id)),h.length>0&&!h.includes(D)&&t(3,D=h[0])},E=()=>{w&&clearTimeout(w),w=setTimeout(()=>{k()},100)},y=async se=>{await tl.set({...l,...se}),await Yi.set(await I()),await Ki(localStorage.token,{ui:l})},I=async()=>{var se;return await n0(localStorage.token,((se=r==null?void 0:r.features)==null?void 0:se.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null))};let D="general";const O=se=>{const re=document.getElementById("settings-tabs-container");re&&(se.preventDefault(),re.scrollLeft+=se.deltaY)},V=async()=>{await al();const se=document.getElementById("settings-tabs-container");se&&se.addEventListener("wheel",O)},C=async()=>{await al();const se=document.getElementById("settings-tabs-container");se&&se.removeEventListener("wheel",O)};Gt(()=>{m=p(),k(),Dl.subscribe(se=>{m=p(),k()})});const A=()=>{t(0,i=!1)};function H(){_=this.value,t(2,_)}const B=()=>{t(3,D="general")},W=()=>{t(3,D="interface")},U=()=>{t(3,D="connections")},K=()=>{t(3,D="tools")},G=()=>{t(3,D="personalization")},M=()=>{t(3,D="audio")},R=()=>{t(3,D="data_controls")},N=()=>{t(3,D="account")},j=()=>{t(3,D="about")},te=async se=>{se.preventDefault(),await nl("/admin/settings"),t(0,i=!1)},q=()=>{Ye.success(n.t("Settings saved successfully!"))},Z=()=>{Ye.success(n.t("Settings saved successfully!"))},le=async se=>{await y(se),Ye.success(n.t("Settings saved successfully!"))},ce=async se=>{await y(se),Ye.success(n.t("Settings saved successfully!"))},ae=()=>{Ye.success(n.t("Settings saved successfully!"))},ie=()=>{Ye.success(n.t("Settings saved successfully!"))},oe=()=>{Ye.success(n.t("Settings saved successfully!"))};function fe(se){i=se,t(0,i)}return s.$$set=se=>{"show"in se&&t(0,i=se.show)},s.$$.update=()=>{s.$$.dirty[0]&1&&(i?V():C())},[i,h,_,D,l,r,a,n,o,E,y,I,A,H,B,W,U,K,G,M,R,N,j,te,q,Z,le,ce,ae,ie,oe,fe]}class _5 extends mt{constructor(e){super(),_t(this,e,m5,h5,pt,{show:0},null,[-1,-1])}}function jm(s,e,t){const l=s.slice();return l[18]=e[t],l}function Rm(s){let e,t=ht({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=Hm(jm(s,t,r));return{c(){e=g("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=v(r,"DIV",{class:!0});var a=b(e);for(let n=0;n<l.length;n+=1)l[n].l(a);a.forEach(d),this.h()},h(){f(e,"class","confetti-holder svelte-io58ff"),Ia(e,"rounded",s[9]),Ia(e,"cone",s[10]),Ia(e,"no-gravity",s[11])},m(r,a){P(r,e,a);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,a){if(a&20991){t=ht({length:r[6]});let n;for(n=0;n<t.length;n+=1){const o=jm(r,t,n);l[n]?l[n].p(o,a):(l[n]=Hm(o),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}a&512&&Ia(e,"rounded",r[9]),a&1024&&Ia(e,"cone",r[10]),a&2048&&Ia(e,"no-gravity",r[11])},d(r){r&&d(e),il(l,r)}}}function Hm(s){let e;return{c(){e=g("div"),this.h()},l(t){e=v(t,"DIV",{class:!0,style:!0}),b(e).forEach(d),this.h()},h(){f(e,"class","confetti svelte-io58ff"),Mt(e,"--fall-distance",s[8]),Mt(e,"--size",s[0]+"px"),Mt(e,"--color",s[14]()),Mt(e,"--skew",dl(-45,45)+"deg,"+dl(-45,45)+"deg"),Mt(e,"--rotation-xyz",dl(-10,10)+", "+dl(-10,10)+", "+dl(-10,10)),Mt(e,"--rotation-deg",dl(0,360)+"deg"),Mt(e,"--translate-y-multiplier",dl(s[2][0],s[2][1])),Mt(e,"--translate-x-multiplier",dl(s[1][0],s[1][1])),Mt(e,"--scale",.1*dl(2,10)),Mt(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),Mt(e,"--transition-delay",dl(s[5][0],s[5][1])+"ms"),Mt(e,"--transition-iteration-count",s[4]?"infinite":s[7]),Mt(e,"--x-spread",1-s[12])},m(t,l){P(t,e,l)},p(t,l){l&256&&Mt(e,"--fall-distance",t[8]),l&1&&Mt(e,"--size",t[0]+"px"),l&4&&Mt(e,"--translate-y-multiplier",dl(t[2][0],t[2][1])),l&2&&Mt(e,"--translate-x-multiplier",dl(t[1][0],t[1][1])),l&24&&Mt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&Mt(e,"--transition-delay",dl(t[5][0],t[5][1])+"ms"),l&144&&Mt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&Mt(e,"--x-spread",1-t[12])},d(t){t&&d(e)}}}function p5(s){let e,t=!s[13]&&Rm(s);return{c(){t&&t.c(),e=at()},l(l){t&&t.l(l),e=at()},m(l,r){t&&t.m(l,r),P(l,e,r)},p(l,[r]){l[13]?t&&(t.d(1),t=null):t?t.p(l,r):(t=Rm(l),t.c(),t.m(e.parentNode,e))},i:Ze,o:Ze,d(l){l&&d(e),t&&t.d(l)}}}function dl(s,e){return Math.random()*(e-s)+s}function g5(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:a=[.25,1]}=e,{duration:n=2e3}=e,{infinite:o=!1}=e,{delay:i=[0,50]}=e,{colorRange:c=[0,360]}=e,{colorArray:m=[]}=e,{amount:h=50}=e,{iterationCount:_=1}=e,{fallDistance:w="100px"}=e,{rounded:p=!1}=e,{cone:k=!1}=e,{noGravity:E=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:I=!0}=e,D=!1;Gt(()=>{!I||o||_=="infinite"||setTimeout(()=>t(13,D=!0),(n+i[1])*_)});function O(){return m.length?m[Math.round(Math.random()*(m.length-1))]:`hsl(${Math.round(dl(c[0],c[1]))}, 75%, 50%)`}return s.$$set=V=>{"size"in V&&t(0,l=V.size),"x"in V&&t(1,r=V.x),"y"in V&&t(2,a=V.y),"duration"in V&&t(3,n=V.duration),"infinite"in V&&t(4,o=V.infinite),"delay"in V&&t(5,i=V.delay),"colorRange"in V&&t(15,c=V.colorRange),"colorArray"in V&&t(16,m=V.colorArray),"amount"in V&&t(6,h=V.amount),"iterationCount"in V&&t(7,_=V.iterationCount),"fallDistance"in V&&t(8,w=V.fallDistance),"rounded"in V&&t(9,p=V.rounded),"cone"in V&&t(10,k=V.cone),"noGravity"in V&&t(11,E=V.noGravity),"xSpread"in V&&t(12,y=V.xSpread),"destroyOnComplete"in V&&t(17,I=V.destroyOnComplete)},[l,r,a,n,o,i,h,_,w,p,k,E,y,D,O,c,m,I]}class v5 extends mt{constructor(e){super(),_t(this,e,g5,p5,pt,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function zm(s,e,t){const l=s.slice();return l[11]=e[t],l}function Fm(s,e,t){const l=s.slice();return l[14]=e[t],l}function Wm(s,e,t){const l=s.slice();return l[17]=e[t],l}function b5(s){let e,t=s[2].t("Close")+"",l;return{c(){e=g("p"),l=z(t),this.h()},l(r){e=v(r,"P",{class:!0});var a=b(e);l=F(a,t),a.forEach(d),this.h()},h(){f(e,"class","sr-only")},m(r,a){P(r,e,a),u(e,l)},p(r,a){a&4&&t!==(t=r[2].t("Close")+"")&&Y(l,t)},d(r){r&&d(e)}}}function Km(s){let e,t=ht(Object.keys(s[1])),l=[];for(let r=0;r<t.length;r+=1)l[r]=qm(zm(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=at()},l(r){for(let a=0;a<l.length;a+=1)l[a].l(r);e=at()},m(r,a){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(r,a);P(r,e,a)},p(r,a){if(a&2){t=ht(Object.keys(r[1]));let n;for(n=0;n<t.length;n+=1){const o=zm(r,t,n);l[n]?l[n].p(o,a):(l[n]=qm(o),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&d(e),il(l,r)}}}function Gm(s){var r;let e,t,l=Ta.sanitize((r=s[17])==null?void 0:r.raw)+"";return{c(){e=g("div"),t=new Au(!1),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);t=Nu(n,!1),n.forEach(d),this.h()},h(){t.a=null,f(e,"class","my-2")},m(a,n){P(a,e,n),t.m(l,e)},p(a,n){var o;n&2&&l!==(l=Ta.sanitize((o=a[17])==null?void 0:o.raw)+"")&&t.p(l)},d(a){a&&d(e)}}}function Ym(s){let e,t,l=s[14]+"",r,a,n,o,i=ht(s[1][s[11]][s[14]]),c=[];for(let m=0;m<i.length;m+=1)c[m]=Gm(Wm(s,i,m));return{c(){e=g("div"),t=g("div"),r=z(l),n=S(),o=g("div");for(let m=0;m<c.length;m+=1)c[m].c();this.h()},l(m){e=v(m,"DIV",{class:!0});var h=b(e);t=v(h,"DIV",{class:!0});var _=b(t);r=F(_,l),_.forEach(d),n=T(h),o=v(h,"DIV",{class:!0});var w=b(o);for(let p=0;p<c.length;p+=1)c[p].l(w);w.forEach(d),h.forEach(d),this.h()},h(){f(t,"class",a="font-semibold uppercase text-xs "+(s[14]==="added"?"bg-blue-500/20 text-blue-700 dark:text-blue-200":s[14]==="fixed"?"bg-green-500/20 text-green-700 dark:text-green-200":s[14]==="changed"?"bg-yellow-500/20 text-yellow-700 dark:text-yellow-200":s[14]==="removed"?"bg-red-500/20 text-red-700 dark:text-red-200":"")+" w-fit rounded-xl px-2 my-2.5"),f(o,"class","my-2.5 px-1.5 markdown-prose-sm !list-none !w-full !max-w-none"),f(e,"class","w-full")},m(m,h){P(m,e,h),u(e,t),u(t,r),u(e,n),u(e,o);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(o,null)},p(m,h){if(h&2&&l!==(l=m[14]+"")&&Y(r,l),h&2&&a!==(a="font-semibold uppercase text-xs "+(m[14]==="added"?"bg-blue-500/20 text-blue-700 dark:text-blue-200":m[14]==="fixed"?"bg-green-500/20 text-green-700 dark:text-green-200":m[14]==="changed"?"bg-yellow-500/20 text-yellow-700 dark:text-yellow-200":m[14]==="removed"?"bg-red-500/20 text-red-700 dark:text-red-200":"")+" w-fit rounded-xl px-2 my-2.5")&&f(t,"class",a),h&2){i=ht(m[1][m[11]][m[14]]);let _;for(_=0;_<i.length;_+=1){const w=Wm(m,i,_);c[_]?c[_].p(w,h):(c[_]=Gm(w),c[_].c(),c[_].m(o,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=i.length}},d(m){m&&d(e),il(c,m)}}}function qm(s){let e,t,l,r=s[11]+"",a,n,o=s[1][s[11]].date+"",i,c,m,h,_,w=ht(Object.keys(s[1][s[11]]).filter(Zm)),p=[];for(let k=0;k<w.length;k+=1)p[k]=Ym(Fm(s,w,k));return{c(){e=g("div"),t=g("div"),l=z("v"),a=z(r),n=z(" - "),i=z(o),c=S(),m=g("hr"),h=S();for(let k=0;k<p.length;k+=1)p[k].c();_=S(),this.h()},l(k){e=v(k,"DIV",{class:!0});var E=b(e);t=v(E,"DIV",{class:!0});var y=b(t);l=F(y,"v"),a=F(y,r),n=F(y," - "),i=F(y,o),y.forEach(d),c=T(E),m=v(E,"HR",{class:!0}),h=T(E);for(let I=0;I<p.length;I+=1)p[I].l(E);_=T(E),E.forEach(d),this.h()},h(){f(t,"class","font-semibold text-xl mb-1 dark:text-white"),f(m,"class","border-gray-50/50 dark:border-gray-850/50 my-2"),f(e,"class","mb-3 pr-2")},m(k,E){P(k,e,E),u(e,t),u(t,l),u(t,a),u(t,n),u(t,i),u(e,c),u(e,m),u(e,h);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(e,null);u(e,_)},p(k,E){if(E&2&&r!==(r=k[11]+"")&&Y(a,r),E&2&&o!==(o=k[1][k[11]].date+"")&&Y(i,o),E&2){w=ht(Object.keys(k[1][k[11]]).filter(Zm));let y;for(y=0;y<w.length;y+=1){const I=Fm(k,w,y);p[y]?p[y].p(I,E):(p[y]=Ym(I),p[y].c(),p[y].m(e,_))}for(;y<p.length;y+=1)p[y].d(1);p.length=w.length}},d(k){k&&d(e),il(p,k)}}}function w5(s){let e,t,l,r=s[2].t("What's New in")+"",a,n,o,i,c,m,h,_,w,p,k,E,y=s[2].t("Release Notes")+"",I,D,O,V,C,A,H,B,W,U,K,G,M,R,N,j=s[2].t("Okay, Let's Go!")+"",te,q,Z,le;c=new v5({props:{x:[-1,-.25],y:[0,.5]}}),_=new os({props:{className:"size-5",$$slots:{default:[b5]},$$scope:{ctx:s}}});let ce=s[1]&&Km(s);return{c(){e=g("div"),t=g("div"),l=g("div"),a=z(r),n=S(),o=z(s[3]),i=S(),X(c.$$.fragment),m=S(),h=g("button"),X(_.$$.fragment),p=S(),k=g("div"),E=g("div"),I=z(y),D=S(),O=g("div"),V=S(),C=g("div"),A=z("v"),H=z(ns),B=S(),W=g("div"),U=g("div"),K=g("div"),ce&&ce.c(),G=S(),M=g("div"),R=g("button"),N=g("span"),te=z(j),this.h()},l(ae){e=v(ae,"DIV",{class:!0});var ie=b(e);t=v(ie,"DIV",{class:!0});var oe=b(t);l=v(oe,"DIV",{class:!0});var fe=b(l);a=F(fe,r),n=T(fe),o=F(fe,s[3]),i=T(fe),ee(c.$$.fragment,fe),fe.forEach(d),m=T(oe),h=v(oe,"BUTTON",{class:!0,"aria-label":!0});var se=b(h);ee(_.$$.fragment,se),se.forEach(d),oe.forEach(d),p=T(ie),k=v(ie,"DIV",{class:!0});var re=b(k);E=v(re,"DIV",{class:!0});var ne=b(E);I=F(ne,y),ne.forEach(d),D=T(re),O=v(re,"DIV",{class:!0}),b(O).forEach(d),V=T(re),C=v(re,"DIV",{class:!0});var me=b(C);A=F(me,"v"),H=F(me,ns),me.forEach(d),re.forEach(d),ie.forEach(d),B=T(ae),W=v(ae,"DIV",{class:!0});var _e=b(W);U=v(_e,"DIV",{class:!0});var pe=b(U);K=v(pe,"DIV",{class:!0});var ve=b(K);ce&&ce.l(ve),ve.forEach(d),pe.forEach(d),G=T(_e),M=v(_e,"DIV",{class:!0});var ge=b(M);R=v(ge,"BUTTON",{class:!0});var Ce=b(R);N=v(Ce,"SPAN",{class:!0});var Le=b(N);te=F(Le,j),Le.forEach(d),Ce.forEach(d),ge.forEach(d),_e.forEach(d),this.h()},h(){f(l,"class","text-xl font-medium"),f(h,"class","self-center"),f(h,"aria-label",w=s[2].t("Close")),f(t,"class","flex justify-between items-start"),f(E,"class","text-sm dark:text-gray-200"),f(O,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50/50 dark:bg-gray-850/50"),f(C,"class","text-sm dark:text-gray-200"),f(k,"class","flex items-center mt-1"),f(e,"class","px-6 pt-5 dark:text-white text-black"),f(K,"class","mb-3"),f(U,"class","overflow-y-scroll max-h-[30rem] scrollbar-hidden"),f(N,"class","relative"),f(R,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(M,"class","flex justify-end pt-3 text-sm font-medium"),f(W,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(ae,ie){P(ae,e,ie),u(e,t),u(t,l),u(l,a),u(l,n),u(l,o),u(l,i),Q(c,l,null),u(t,m),u(t,h),Q(_,h,null),u(e,p),u(e,k),u(k,E),u(E,I),u(k,D),u(k,O),u(k,V),u(k,C),u(C,A),u(C,H),P(ae,B,ie),P(ae,W,ie),u(W,U),u(U,K),ce&&ce.m(K,null),u(W,G),u(W,M),u(M,R),u(R,N),u(N,te),q=!0,Z||(le=[he(h,"click",s[7]),he(R,"click",s[8])],Z=!0)},p(ae,ie){(!q||ie&4)&&r!==(r=ae[2].t("What's New in")+"")&&Y(a,r),(!q||ie&8)&&Y(o,ae[3]);const oe={};ie&1048580&&(oe.$$scope={dirty:ie,ctx:ae}),_.$set(oe),(!q||ie&4&&w!==(w=ae[2].t("Close")))&&f(h,"aria-label",w),(!q||ie&4)&&y!==(y=ae[2].t("Release Notes")+"")&&Y(I,y),ae[1]?ce?ce.p(ae,ie):(ce=Km(ae),ce.c(),ce.m(K,null)):ce&&(ce.d(1),ce=null),(!q||ie&4)&&j!==(j=ae[2].t("Okay, Let's Go!")+"")&&Y(te,j)},i(ae){q||($(c.$$.fragment,ae),$(_.$$.fragment,ae),q=!0)},o(ae){L(c.$$.fragment,ae),L(_.$$.fragment,ae),q=!1},d(ae){ae&&(d(e),d(B),d(W)),x(c),x(_),ce&&ce.d(),Z=!1,Ct(le)}}}function k5(s){let e,t,l;function r(n){s[9](n)}let a={size:"xl",$$slots:{default:[w5]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ys({props:a}),ye.push(()=>Ie(e,"show",r)),{c(){X(e.$$.fragment)},l(n){ee(e.$$.fragment,n)},m(n,o){Q(e,n,o),l=!0},p(n,[o]){const i={};o&1048639&&(i.$$scope={dirty:o,ctx:n}),!t&&o&1&&(t=!0,i.show=n[0],De(()=>t=!1)),e.$set(i)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){x(e,n)}}}const Zm=s=>s!=="date";function y5(s,e,t){let l,r,a,n;Ee(s,Mu,p=>t(3,r=p)),Ee(s,Dl,p=>t(4,a=p)),Ee(s,tl,p=>t(5,n=p));const o=Lt("i18n");Ee(s,o,p=>t(2,l=p));let{show:i=!1}=e,c=null;const m=async()=>{t(1,c=await w_())},h=()=>{localStorage.version=a.version,t(0,i=!1)},_=async()=>{localStorage.version=a.version,await tl.set({...n,version:a.version}),await Ki(localStorage.token,{ui:n}),t(0,i=!1)};function w(p){i=p,t(0,i)}return s.$$set=p=>{"show"in p&&t(0,i=p.show)},s.$$.update=()=>{s.$$.dirty&1&&i&&m()},[i,c,l,r,a,n,o,h,_,w]}class E5 extends mt{constructor(e){super(),_t(this,e,y5,k5,pt,{show:0})}}function I5(s){let e=s[2].t("Account Activation Pending")+"",t,l,r,a=s[2].t("Contact Admin for WebUI Access")+"",n;return{c(){t=z(e),l=g("br"),r=S(),n=z(a)},l(o){t=F(o,e),l=v(o,"BR",{}),r=T(o),n=F(o,a)},m(o,i){P(o,t,i),P(o,l,i),P(o,r,i),P(o,n,i)},p(o,i){i&4&&e!==(e=o[2].t("Account Activation Pending")+"")&&Y(t,e),i&4&&a!==(a=o[2].t("Contact Admin for WebUI Access")+"")&&Y(n,a)},d(o){o&&(d(t),d(l),d(r),d(n))}}}function D5(s){let e=s[1].ui.pending_user_overlay_title+"",t;return{c(){t=z(e)},l(l){t=F(l,e)},m(l,r){P(l,t,r)},p(l,r){r&2&&e!==(e=l[1].ui.pending_user_overlay_title+"")&&Y(t,e)},d(l){l&&d(t)}}}function C5(s){let e=s[2].t("Your account status is currently pending activation.")+"",t,l=`
`,r,a=s[2].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",n;return{c(){t=z(e),r=z(l),n=z(a)},l(o){t=F(o,e),r=F(o,l),n=F(o,a)},m(o,i){P(o,t,i),P(o,r,i),P(o,n,i)},p(o,i){i&4&&e!==(e=o[2].t("Your account status is currently pending activation.")+"")&&Y(t,e),i&4&&a!==(a=o[2].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&Y(n,a)},d(o){o&&(d(t),d(r),d(n))}}}function $5(s){var r,a;let e,t=yh.parse(Ta.sanitize((((a=(r=s[1])==null?void 0:r.ui)==null?void 0:a.pending_user_overlay_content)??"").replace(/\n/g,"<br>")))+"",l;return{c(){e=new Au(!1),l=at(),this.h()},l(n){e=Nu(n,!1),l=at(),this.h()},h(){e.a=l},m(n,o){e.m(t,n,o),P(n,l,o)},p(n,o){var i,c;o&2&&t!==(t=yh.parse(Ta.sanitize((((c=(i=n[1])==null?void 0:i.ui)==null?void 0:c.pending_user_overlay_content)??"").replace(/\n/g,"<br>")))+"")&&e.p(t)},d(n){n&&(d(l),e.d())}}}function Jm(s){let e,t,l=s[2].t("Admin")+"",r,a,n=s[0].name+"",o,i,c=s[0].email+"",m,h;return{c(){e=g("div"),t=g("div"),r=z(l),a=z(": "),o=z(n),i=z(" ("),m=z(c),h=z(")"),this.h()},l(_){e=v(_,"DIV",{class:!0});var w=b(e);t=v(w,"DIV",{});var p=b(t);r=F(p,l),a=F(p,": "),o=F(p,n),i=F(p," ("),m=F(p,c),h=F(p,")"),p.forEach(d),w.forEach(d),this.h()},h(){f(e,"class","mt-4 text-sm font-medium text-center")},m(_,w){P(_,e,w),u(e,t),u(t,r),u(t,a),u(t,o),u(t,i),u(t,m),u(t,h)},p(_,w){w&4&&l!==(l=_[2].t("Admin")+"")&&Y(r,l),w&1&&n!==(n=_[0].name+"")&&Y(o,n),w&1&&c!==(c=_[0].email+"")&&Y(m,c)},d(_){_&&d(e)}}}function V5(s){let e,t,l,r,a,n,o,i,c,m,h,_,w,p=s[2].t("Check Again")+"",k,E,y,I=s[2].t("Sign Out")+"",D,O,V;function C(G,M){var R,N;return M&2&&(n=null),n==null&&(n=(((N=(R=G[1])==null?void 0:R.ui)==null?void 0:N.pending_user_overlay_title)??"").trim()!==""),n?D5:I5}let A=C(s,-1),H=A(s);function B(G,M){var R,N;return M&2&&(c=null),c==null&&(c=(((N=(R=G[1])==null?void 0:R.ui)==null?void 0:N.pending_user_overlay_content)??"").trim()!==""),c?$5:C5}let W=B(s,-1),U=W(s),K=s[0]&&Jm(s);return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("div"),a=g("div"),H.c(),o=S(),i=g("div"),U.c(),m=S(),K&&K.c(),h=S(),_=g("div"),w=g("button"),k=z(p),E=S(),y=g("button"),D=z(I),this.h()},l(G){e=v(G,"DIV",{class:!0});var M=b(e);t=v(M,"DIV",{class:!0});var R=b(t);l=v(R,"DIV",{class:!0});var N=b(l);r=v(N,"DIV",{class:!0});var j=b(r);a=v(j,"DIV",{class:!0,style:!0});var te=b(a);H.l(te),te.forEach(d),o=T(j),i=v(j,"DIV",{class:!0,style:!0});var q=b(i);U.l(q),q.forEach(d),m=T(j),K&&K.l(j),h=T(j),_=v(j,"DIV",{class:!0});var Z=b(_);w=v(Z,"BUTTON",{class:!0});var le=b(w);k=F(le,p),le.forEach(d),E=T(Z),y=v(Z,"BUTTON",{class:!0});var ce=b(y);D=F(ce,I),ce.forEach(d),Z.forEach(d),j.forEach(d),N.forEach(d),R.forEach(d),M.forEach(d),this.h()},h(){f(a,"class","text-center dark:text-white text-2xl font-medium z-50"),Mt(a,"white-space","pre-wrap"),f(i,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),Mt(i,"white-space","pre-wrap"),f(w,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),f(y,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),f(_,"class","mt-6 mx-auto relative group w-fit"),f(r,"class","max-w-md"),f(l,"class","m-auto pb-10 flex flex-col justify-center"),f(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),f(e,"class","fixed w-full h-full flex z-999")},m(G,M){P(G,e,M),u(e,t),u(t,l),u(l,r),u(r,a),H.m(a,null),u(r,o),u(r,i),U.m(i,null),u(r,m),K&&K.m(r,null),u(r,h),u(r,_),u(_,w),u(w,k),u(_,E),u(_,y),u(y,D),O||(V=[he(w,"click",s[4]),he(y,"click",s[5])],O=!0)},p(G,[M]){A===(A=C(G,M))&&H?H.p(G,M):(H.d(1),H=A(G),H&&(H.c(),H.m(a,null))),W===(W=B(G,M))&&U?U.p(G,M):(U.d(1),U=W(G),U&&(U.c(),U.m(i,null))),G[0]?K?K.p(G,M):(K=Jm(G),K.c(),K.m(r,h)):K&&(K.d(1),K=null),M&4&&p!==(p=G[2].t("Check Again")+"")&&Y(k,p),M&4&&I!==(I=G[2].t("Sign Out")+"")&&Y(D,I)},i:Ze,o:Ze,d(G){G&&d(e),H.d(),U.d(),K&&K.d(),O=!1,Ct(V)}}}function S5(s,e,t){let l,r;Ee(s,Dl,c=>t(1,l=c));const a=Lt("i18n");Ee(s,a,c=>t(2,r=c));let n=null;return Gt(async()=>{t(0,n=await Ip(localStorage.token).catch(c=>null))}),[n,l,r,a,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class T5 extends mt{constructor(e){super(),_t(this,e,S5,V5,pt,{})}}function A5(s){let e,t,l=s[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:s[0].latest})+"",r,a,n,o=s[1].t("Update for the latest features and improvements.")+"",i,c,m,h,_,w,p,k;return _=new os({}),{c(){e=g("div"),t=g("div"),r=z(l),a=S(),n=g("a"),i=z(o),c=S(),m=g("div"),h=g("button"),X(_.$$.fragment),this.h()},l(E){e=v(E,"DIV",{class:!0});var y=b(e);t=v(y,"DIV",{class:!0});var I=b(t);r=F(I,l),a=T(I),n=v(I,"A",{href:!0,target:!0,class:!0});var D=b(n);i=F(D,o),D.forEach(d),I.forEach(d),c=T(y),m=v(y,"DIV",{class:!0});var O=b(m);h=v(O,"BUTTON",{class:!0});var V=b(h);ee(_.$$.fragment,V),V.forEach(d),O.forEach(d),y.forEach(d),this.h()},h(){f(n,"href","https://github.com/open-webui/open-webui/releases"),f(n,"target","_blank"),f(n,"class","underline"),f(t,"class","flex-1 font-medium"),f(h,"class","hover:text-blue-900 dark:hover:text-blue-300 transition"),f(m,"class","shrink-0 pr-1"),f(e,"class","flex items-start bg-[#F1F8FE] dark:bg-[#020C1D] border border-[3371D5] dark:border-[#03113B] text-[#2B6CD4] dark:text-[#6795EC] rounded-lg px-3.5 py-3 text-xs max-w-80 pr-2 w-full shadow-lg")},m(E,y){P(E,e,y),u(e,t),u(t,r),u(t,a),u(t,n),u(n,i),u(e,c),u(e,m),u(m,h),Q(_,h,null),w=!0,p||(k=he(h,"click",s[4]),p=!0)},p(E,[y]){(!w||y&3)&&l!==(l=E[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:E[0].latest})+"")&&Y(r,l),(!w||y&2)&&o!==(o=E[1].t("Update for the latest features and improvements.")+"")&&Y(i,o)},i(E){w||($(_.$$.fragment,E),w=!0)},o(E){L(_.$$.fragment,E),w=!1},d(E){E&&d(e),x(_),p=!1,k()}}}function N5(s,e,t){let l;const r=ol(),a=Lt("i18n");Ee(s,a,i=>t(1,l=i));let{version:n={current:ns,latest:ns}}=e;const o=()=>{r("close")};return s.$$set=i=>{"version"in i&&t(0,n=i.version)},[n,l,r,a,o]}class L5 extends mt{constructor(e){super(),_t(this,e,N5,A5,pt,{version:0})}}function Xm(s){let e,t,l,r;return t=new L5({props:{version:s[3]}}),t.$on("close",s[16]),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);ee(t.$$.fragment,n),n.forEach(d),this.h()},h(){f(e,"class","absolute bottom-8 right-8 z-50")},m(a,n){P(a,e,n),Q(t,e,null),r=!0},p(a,n){const o={};n[0]&8&&(o.version=a[3]),t.$set(o)},i(a){r||($(t.$$.fragment,a),a&&(l||as(()=>{l=e0(e,l0,{duration:100}),l.start()})),r=!0)},o(a){L(t.$$.fragment,a),r=!1},d(a){a&&d(e),x(t)}}}function Qm(s){let e,t,l,r,a,n;const o=[M5,O5],i=[];function c(m,h){var _;return h[0]&16&&(l=null),l==null&&(l=!["user","admin"].includes((_=m[4])==null?void 0:_.role)),l?0:1}return r=c(s,[-1,-1]),a=i[r]=o[r](s),{c(){e=g("div"),t=g("div"),a.c(),this.h()},l(m){e=v(m,"DIV",{class:!0});var h=b(e);t=v(h,"DIV",{class:!0});var _=b(t);a.l(_),_.forEach(d),h.forEach(d),this.h()},h(){f(t,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row justify-end"),f(e,"class","app relative")},m(m,h){P(m,e,h),u(e,t),i[r].m(t,null),n=!0},p(m,h){let _=r;r=c(m,h),r===_?i[r].p(m,h):(Ae(),L(i[_],1,1,()=>{i[_]=null}),Ne(),a=i[r],a?a.p(m,h):(a=i[r]=o[r](m),a.c()),$(a,1),a.m(t,null))},i(m){n||($(a),n=!0)},o(m){L(a),n=!1},d(m){m&&d(e),i[r].d()}}}function O5(s){let e,t,l,r,a,n,o,i=s[2].length>0&&xm(s);t=new S2({});const c=[P5,B5],m=[];function h(_,w){return _[0]?0:1}return r=h(s),a=m[r]=c[r](s),{c(){i&&i.c(),e=S(),X(t.$$.fragment),l=S(),a.c(),n=at()},l(_){i&&i.l(_),e=T(_),ee(t.$$.fragment,_),l=T(_),a.l(_),n=at()},m(_,w){i&&i.m(_,w),P(_,e,w),Q(t,_,w),P(_,l,w),m[r].m(_,w),P(_,n,w),o=!0},p(_,w){_[2].length>0?i?i.p(_,w):(i=xm(_),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);let p=r;r=h(_),r===p?m[r].p(_,w):(Ae(),L(m[p],1,1,()=>{m[p]=null}),Ne(),a=m[r],a?a.p(_,w):(a=m[r]=c[r](_),a.c()),$(a,1),a.m(n.parentNode,n))},i(_){o||($(t.$$.fragment,_),$(a),o=!0)},o(_){L(t.$$.fragment,_),L(a),o=!1},d(_){_&&(d(e),d(l),d(n)),i&&i.d(_),x(t,_),m[r].d(_)}}}function M5(s){let e,t;return e=new T5({}),{c(){X(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,r){Q(e,l,r),t=!0},p:Ze,i(l){t||($(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function xm(s){let e,t,l,r,a,n=s[7].t("Important Update")+"",o,i,c,m=s[7].t("Action Required for Chat Log Storage")+"",h,_,w,p=s[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",k,E,y,I=s[7].t("Settings")+"",D,O,V=s[7].t("Chats")+"",C,A,H=s[7].t("Import Chats")+"",B,W,U=s[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",K,G,M,R,N=s[7].t("Download & Delete")+"",j,te,q,Z=s[7].t("Close")+"",le,ce,ae;return{c(){e=g("div"),t=g("div"),l=g("div"),r=g("div"),a=g("div"),o=z(n),i=g("br"),c=S(),h=z(m),_=S(),w=g("div"),k=z(p),E=S(),y=g("span"),D=z(I),O=z(" > "),C=z(V),A=z(" > "),B=z(H),W=z(". "),K=z(U),G=S(),M=g("div"),R=g("button"),j=z(N),te=S(),q=g("button"),le=z(Z),this.h()},l(ie){e=v(ie,"DIV",{class:!0});var oe=b(e);t=v(oe,"DIV",{class:!0});var fe=b(t);l=v(fe,"DIV",{class:!0});var se=b(l);r=v(se,"DIV",{class:!0});var re=b(r);a=v(re,"DIV",{class:!0});var ne=b(a);o=F(ne,n),i=v(ne,"BR",{}),c=T(ne),h=F(ne,m),ne.forEach(d),_=T(re),w=v(re,"DIV",{class:!0});var me=b(w);k=F(me,p),E=T(me),y=v(me,"SPAN",{class:!0});var _e=b(y);D=F(_e,I),O=F(_e," > "),C=F(_e,V),A=F(_e," > "),B=F(_e,H),_e.forEach(d),W=F(me,". "),K=F(me,U),me.forEach(d),G=T(re),M=v(re,"DIV",{class:!0});var pe=b(M);R=v(pe,"BUTTON",{class:!0});var ve=b(R);j=F(ve,N),ve.forEach(d),te=T(pe),q=v(pe,"BUTTON",{class:!0});var ge=b(q);le=F(ge,Z),ge.forEach(d),pe.forEach(d),re.forEach(d),se.forEach(d),fe.forEach(d),oe.forEach(d),this.h()},h(){f(a,"class","text-center dark:text-white text-2xl font-medium z-50"),f(y,"class","font-semibold dark:text-white"),f(w,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),f(R,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),f(q,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),f(M,"class","mt-6 mx-auto relative group w-fit"),f(r,"class","max-w-md"),f(l,"class","m-auto pb-44 flex flex-col justify-center"),f(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),f(e,"class","fixed w-full h-full flex z-50")},m(ie,oe){P(ie,e,oe),u(e,t),u(t,l),u(l,r),u(r,a),u(a,o),u(a,i),u(a,c),u(a,h),u(r,_),u(r,w),u(w,k),u(w,E),u(w,y),u(y,D),u(y,O),u(y,C),u(y,A),u(y,B),u(w,W),u(w,K),u(r,G),u(r,M),u(M,R),u(R,j),u(M,te),u(M,q),u(q,le),ce||(ae=[he(R,"click",s[17]),he(q,"click",s[18])],ce=!0)},p(ie,oe){oe[0]&128&&n!==(n=ie[7].t("Important Update")+"")&&Y(o,n),oe[0]&128&&m!==(m=ie[7].t("Action Required for Chat Log Storage")+"")&&Y(h,m),oe[0]&128&&p!==(p=ie[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&Y(k,p),oe[0]&128&&I!==(I=ie[7].t("Settings")+"")&&Y(D,I),oe[0]&128&&V!==(V=ie[7].t("Chats")+"")&&Y(C,V),oe[0]&128&&H!==(H=ie[7].t("Import Chats")+"")&&Y(B,H),oe[0]&128&&U!==(U=ie[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&Y(K,U),oe[0]&128&&N!==(N=ie[7].t("Download & Delete")+"")&&Y(j,N),oe[0]&128&&Z!==(Z=ie[7].t("Close")+"")&&Y(le,Z)},d(ie){ie&&d(e),ce=!1,Ct(ae)}}}function B5(s){let e,t,l,r;return t=new pl({props:{className:"size-5"}}),{c(){e=g("div"),X(t.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=b(e);ee(t.$$.fragment,n),n.forEach(d),this.h()},h(){f(e,"class",l="w-full flex-1 h-full flex items-center justify-center "+(s[9]?"  md:max-w-[calc(100%-260px)]":" "))},m(a,n){P(a,e,n),Q(t,e,null),r=!0},p(a,n){(!r||n[0]&512&&l!==(l="w-full flex-1 h-full flex items-center justify-center "+(a[9]?"  md:max-w-[calc(100%-260px)]":" ")))&&f(e,"class",l)},i(a){r||($(t.$$.fragment,a),r=!0)},o(a){L(t.$$.fragment,a),r=!1},d(a){a&&d(e),x(t)}}}function P5(s){let e;const t=s[13].default,l=ko(t,s,s[12],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,a){l&&l.m(r,a),e=!0},p(r,a){l&&l.p&&(!e||a[0]&4096)&&yo(l,t,r,r[12],e?Io(t,r[12],a,null):Eo(r[12]),null)},i(r){e||($(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function U5(s){var y;let e,t,l,r,a,n,o=s[3]&&Du(s[3].latest,s[3].current)&&(((y=s[5])==null?void 0:y.showUpdateToast)??!0),i,c,m;function h(I){s[14](I)}let _={};s[6]!==void 0&&(_.show=s[6]),e=new _5({props:_}),ye.push(()=>Ie(e,"show",h));function w(I){s[15](I)}let p={};s[8]!==void 0&&(p.show=s[8]),r=new E5({props:p}),ye.push(()=>Ie(r,"show",w));let k=o&&Xm(s),E=s[4]&&Qm(s);return{c(){X(e.$$.fragment),l=S(),X(r.$$.fragment),n=S(),k&&k.c(),i=S(),E&&E.c(),c=at()},l(I){ee(e.$$.fragment,I),l=T(I),ee(r.$$.fragment,I),n=T(I),k&&k.l(I),i=T(I),E&&E.l(I),c=at()},m(I,D){Q(e,I,D),P(I,l,D),Q(r,I,D),P(I,n,D),k&&k.m(I,D),P(I,i,D),E&&E.m(I,D),P(I,c,D),m=!0},p(I,D){var C;const O={};!t&&D[0]&64&&(t=!0,O.show=I[6],De(()=>t=!1)),e.$set(O);const V={};!a&&D[0]&256&&(a=!0,V.show=I[8],De(()=>a=!1)),r.$set(V),D[0]&40&&(o=I[3]&&Du(I[3].latest,I[3].current)&&(((C=I[5])==null?void 0:C.showUpdateToast)??!0)),o?k?(k.p(I,D),D[0]&40&&$(k,1)):(k=Xm(I),k.c(),$(k,1),k.m(i.parentNode,i)):k&&(Ae(),L(k,1,1,()=>{k=null}),Ne()),I[4]?E?(E.p(I,D),D[0]&16&&$(E,1)):(E=Qm(I),E.c(),$(E,1),E.m(c.parentNode,c)):E&&(Ae(),L(E,1,1,()=>{E=null}),Ne())},i(I){m||($(e.$$.fragment,I),$(r.$$.fragment,I),$(k),$(E),m=!0)},o(I){L(e.$$.fragment,I),L(r.$$.fragment,I),L(k),L(E),m=!1},d(I){I&&(d(l),d(n),d(i),d(c)),x(e,I),x(r,I),k&&k.d(I),E&&E.d(I)}}}function j5(s,e,t){let l,r,a,n,o,i,c,m,h,_,w;Ee(s,Dl,q=>t(19,l=q)),Ee(s,Vl,q=>t(4,r=q)),Ee(s,Lu,q=>t(20,a=q)),Ee(s,tl,q=>t(5,n=q)),Ee(s,Fr,q=>t(21,o=q)),Ee(s,bh,q=>t(22,i=q)),Ee(s,bu,q=>t(6,c=q)),Ee(s,Da,q=>t(23,m=q)),Ee(s,Hi,q=>t(8,_=q)),Ee(s,el,q=>t(9,w=q));let{$$slots:p={},$$scope:k}=e;const{saveAs:E}=Do,y=Lt("i18n");Ee(s,y,q=>t(7,h=q));let I=!1,D=null,O=[],V;const C=()=>{const q=Object.keys(localStorage).filter(Z=>Z.startsWith("chat-input"));q.length>0&&q.forEach(Z=>{localStorage.removeItem(Z)})},A=async()=>{try{if(t(1,D=await jp("Chats",1)),!D)return;const q=await D.getAllFromIndex("chats","timestamp");t(2,O=q.map((Z,le)=>q[q.length-1-le])),O.length===0&&await $h("Chats")}catch{}},H=async q=>{let Z=await S_(localStorage.token).catch(le=>null);if(!Z)try{Z=JSON.parse(localStorage.getItem("settings")??"{}")}catch(le){Z={}}Z!=null&&Z.ui&&tl.set(Z.ui),q&&await q()},B=async()=>{var q;Yi.set(await n0(localStorage.token,(q=l==null?void 0:l.features)!=null&&q.enable_direct_connections?(n==null?void 0:n.directConnections)??null:null))},W=async()=>{let q=await a0((n==null?void 0:n.toolServers)??[]);q=q.filter(Z=>!Z||Z.error?(Ye.error(h.t("Failed to connect to {{URL}} OpenAPI tool server",{URL:Z==null?void 0:Z.url})),!1):!0),s0.set(q)},U=async()=>{const q=await $_(localStorage.token);g_.set(q)},K=async()=>{const q=await C_(localStorage.token);v_.set(q)};Gt(async()=>{var Z,le,ce,ae,ie;if(r==null){await nl("/auth");return}if(!["user","admin"].includes(r==null?void 0:r.role))return;if(C(),await Promise.all([A(),U(),K(),H(async()=>{await Promise.all([B(),W()])})]),(()=>{document.addEventListener("keydown",async function(oe){var re,ne,me,_e,pe,ve;const fe=oe.ctrlKey||oe.metaKey,se=oe.shiftKey;if(fe&&oe.key.toLowerCase()==="k"&&(oe.preventDefault(),Da.set(!m)),fe&&se&&oe.key.toLowerCase()==="o"&&(oe.preventDefault(),(re=document.getElementById("sidebar-new-chat-button"))==null||re.click()),se&&oe.key==="Escape"&&(oe.preventDefault(),(ne=document.getElementById("chat-input"))==null||ne.focus()),fe&&se&&oe.key===";"){oe.preventDefault();const ge=[...document.getElementsByClassName("copy-code-button")].at(-1);ge==null||ge.click()}if(fe&&se&&oe.key.toLowerCase()==="c"){oe.preventDefault();const ge=[...document.getElementsByClassName("copy-response-button")].at(-1);ge==null||ge.click()}if(fe&&se&&oe.key.toLowerCase()==="s"&&(oe.preventDefault(),(me=document.getElementById("sidebar-toggle-button"))==null||me.click()),fe&&se&&(oe.key==="Backspace"||oe.key==="Delete")&&(oe.preventDefault(),(_e=document.getElementById("delete-chat-button"))==null||_e.click()),fe&&oe.key==="."&&(oe.preventDefault(),bu.set(!c)),fe&&oe.key==="/"&&(oe.preventDefault(),bh.set(!i)),fe&&se&&(oe.key.toLowerCase()==="'"||oe.key.toLowerCase()==='"')){oe.preventDefault(),(r==null?void 0:r.role)!=="admin"&&((ve=(pe=r==null?void 0:r.permissions)==null?void 0:pe.chat)!=null&&ve.temporary_enforced)?Fr.set(!0):Fr.set(!o),await nl("/");const ge=document.getElementById("new-chat-button");setTimeout(()=>{ge==null||ge.click()},0)}})})(),(r==null?void 0:r.role)==="admin"&&((n==null?void 0:n.showChangelog)??!0)&&Hi.set((n==null?void 0:n.version)!==l.version),((r==null?void 0:r.role)==="admin"||(((le=(Z=r==null?void 0:r.permissions)==null?void 0:Z.chat)==null?void 0:le.temporary)??!0))&&(a.url.searchParams.get("temporary-chat")==="true"&&Fr.set(!0),(r==null?void 0:r.role)!=="admin"&&((ae=(ce=r==null?void 0:r.permissions)==null?void 0:ce.chat)!=null&&ae.temporary_enforced)&&Fr.set(!0)),(r==null?void 0:r.role)==="admin"&&((ie=l==null?void 0:l.features)!=null&&ie.enable_version_update_check))if(localStorage.dismissedUpdateToast){const oe=new Date(Number(localStorage.dismissedUpdateToast));new Date-oe>24*60*60*1e3&&G()}else G();await al(),t(0,I=!0)});const G=async()=>{t(3,V=await r0(localStorage.token).catch(q=>({current:ns,latest:ns})))};function M(q){c=q,bu.set(c)}function R(q){_=q,Hi.set(_)}const N=()=>{localStorage.setItem("dismissedUpdateToast",Date.now().toString()),t(3,V=null)},j=async()=>{let q=new Blob([JSON.stringify(O)],{type:"application/json"});E(q,`chat-export-${Date.now()}.json`);const Z=D.transaction("chats","readwrite");await Promise.all([Z.store.clear(),Z.done]),await $h("Chats"),t(2,O=[])},te=async()=>{t(2,O=[])};return s.$$set=q=>{"$$scope"in q&&t(12,k=q.$$scope)},[I,D,O,V,r,n,c,h,_,w,E,y,k,p,M,R,N,j,te]}class Qk extends mt{constructor(e){super(),_t(this,e,j5,U5,pt,{},null,[-1,-1])}}export{Qk as component};
//# sourceMappingURL=2.CQqYBwz7.js.map
