import{S as w,i as $,s as y,m as g,g as P,q as m,r as u,u as b,d as h,k as d,v as S,w as C,C as q,D as B,E,F as v,y as D}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{t as p}from"../chunks/DQjSdZ1e.js";import{g as l}from"../chunks/BYfvXhfD.js";import{p as F}from"../chunks/Px_ajtSr.js";import{a as M,u as N,g as j}from"../chunks/B-n9Zeun.js";import{p as z}from"../chunks/D2VKnAEk.js";import{P as A}from"../chunks/mrK8ydg5.js";function _(s){let e,r;return e=new A({props:{prompt:s[0],onSubmit:s[2],edit:!0}}),{c(){q(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,o){E(e,t,o),r=!0},p(t,o){const a={};o&1&&(a.prompt=t[0]),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function G(s){let e,r,t=s[0]&&_(s);return{c(){t&&t.c(),e=g()},l(o){t&&t.l(o),e=g()},m(o,a){t&&t.m(o,a),P(o,e,a),r=!0},p(o,[a]){o[0]?t?(t.p(o,a),a&1&&m(t,1)):(t=_(o),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(D(),u(t,1,1,()=>{t=null}),b())},i(o){r||(m(t),r=!0)},o(o){u(t),r=!1},d(o){o&&h(e),t&&t.d(o)}}}function H(s,e,r){let t,o;d(s,z,c=>r(3,t=c));const a=S("i18n");d(s,a,c=>r(4,o=c));let f=null;const k=async c=>{await N(localStorage.token,c).catch(i=>(p.error(`${i}`),null))&&(p.success(o.t("Prompt updated successfully")),await F.set(await j(localStorage.token)),await l("/workspace/prompts"))};return C(async()=>{const c=t.url.searchParams.get("command");if(c){const n=await M(localStorage.token,c.replace(/\//g,"")).catch(i=>(p.error(`${i}`),null));n?r(0,f={title:n.title,command:n.command,content:n.content,access_control:(n==null?void 0:n.access_control)===void 0?{}:n==null?void 0:n.access_control}):l("/workspace/prompts")}else l("/workspace/prompts")}),[f,a,k]}class U extends w{constructor(e){super(),$(this,e,H,G,y,{})}}export{U as component};
//# sourceMappingURL=38.CODo0wm5.js.map
