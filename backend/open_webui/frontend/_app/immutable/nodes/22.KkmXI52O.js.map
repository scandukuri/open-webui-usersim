{"version":3,"file":"22.KkmXI52O.js","sources":["../../../../../../src/lib/components/channel/Messages/Message/ProfilePreview.svelte","../../../../../../src/lib/components/icons/FaceSmile.svelte","../../../../../../src/lib/components/icons/ArrowUpLeftAlt.svelte","../../../../../../src/lib/components/channel/Messages/Message.svelte","../../../../../../src/lib/components/channel/Messages.svelte","../../../../../../src/lib/components/channel/Navbar.svelte","../../../../../../src/lib/components/channel/Thread.svelte","../../../../../../src/lib/components/channel/Channel.svelte","../../../../../../src/routes/(app)/channels/[id]/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { LinkPreview } from 'bits-ui';\n\timport { getContext } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\timport UserStatus from './UserStatus.svelte';\n\timport UserStatusLinkPreview from './UserStatusLinkPreview.svelte';\n\n\texport let user = null;\n</script>\n\n<LinkPreview.Root openDelay={0} closeDelay={0}>\n\t<LinkPreview.Trigger class=\" cursor-pointer no-underline! font-normal! \">\n\t\t<slot />\n\t</LinkPreview.Trigger>\n\n\t<UserStatusLinkPreview id={user?.id} side=\"right\" align=\"center\" sideOffset={8} />\n</LinkPreview.Root>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\tclass={className}\n\taria-hidden=\"true\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tstroke-width={strokeWidth}\n\tfill=\"none\"\n\tstroke=\"currentColor\"\n\tviewBox=\"0 0 24 24\"\n\t><path d=\"M10.25 4.75L6.75 8.25L10.25 11.75\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n\t></path><path\n\t\td=\"M6.75 8.25L12.75 8.25C14.9591 8.25 16.75 10.0409 16.75 12.25V19.25\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path></svg\n>\n","<script lang=\"ts\">\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\timport isToday from 'dayjs/plugin/isToday';\n\timport isYesterday from 'dayjs/plugin/isYesterday';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\n\tdayjs.extend(relativeTime);\n\tdayjs.extend(isToday);\n\tdayjs.extend(isYesterday);\n\tdayjs.extend(localizedFormat);\n\n\timport { getContext, onMount } from 'svelte';\n\tconst i18n = getContext<Writable<i18nType>>('i18n');\n\n\timport { formatDate } from '$lib/utils';\n\n\timport { settings, user, shortCodesToEmojis } from '$lib/stores';\n\timport { WEBUI_API_BASE_URL, WEBUI_BASE_URL } from '$lib/constants';\n\n\timport Markdown from '$lib/components/chat/Messages/Markdown.svelte';\n\timport ProfileImage from '$lib/components/chat/Messages/ProfileImage.svelte';\n\timport Name from '$lib/components/chat/Messages/Name.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport GarbageBin from '$lib/components/icons/GarbageBin.svelte';\n\timport Pencil from '$lib/components/icons/Pencil.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Textarea from '$lib/components/common/Textarea.svelte';\n\timport Image from '$lib/components/common/Image.svelte';\n\timport FileItem from '$lib/components/common/FileItem.svelte';\n\timport ProfilePreview from './Message/ProfilePreview.svelte';\n\timport ChatBubbleOvalEllipsis from '$lib/components/icons/ChatBubble.svelte';\n\timport FaceSmile from '$lib/components/icons/FaceSmile.svelte';\n\timport EmojiPicker from '$lib/components/common/EmojiPicker.svelte';\n\timport ChevronRight from '$lib/components/icons/ChevronRight.svelte';\n\timport Emoji from '$lib/components/common/Emoji.svelte';\n\timport Skeleton from '$lib/components/chat/Messages/Skeleton.svelte';\n\timport ArrowUpLeftAlt from '$lib/components/icons/ArrowUpLeftAlt.svelte';\n\n\texport let message;\n\texport let showUserProfile = true;\n\texport let thread = false;\n\n\texport let replyToMessage = false;\n\texport let disabled = false;\n\n\texport let onDelete: Function = () => {};\n\texport let onEdit: Function = () => {};\n\texport let onReply: Function = () => {};\n\texport let onThread: Function = () => {};\n\texport let onReaction: Function = () => {};\n\n\tlet showButtons = false;\n\n\tlet edit = false;\n\tlet editedContent = null;\n\tlet showDeleteConfirmDialog = false;\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ttitle={$i18n.t('Delete Message')}\n\tmessage={$i18n.t('Are you sure you want to delete this message?')}\n\tonConfirm={async () => {\n\t\tawait onDelete();\n\t}}\n/>\n\n{#if message}\n\t<div\n\t\tid=\"message-{message.id}\"\n\t\tclass=\"flex flex-col justify-between px-5 {showUserProfile\n\t\t\t? 'pt-1.5 pb-0.5'\n\t\t\t: ''} w-full max-w-full mx-auto group hover:bg-gray-300/5 dark:hover:bg-gray-700/5 transition relative {replyToMessage\n\t\t\t? 'border-l-4 border-blue-500 bg-blue-100/10 dark:bg-blue-100/5 pl-4'\n\t\t\t: ''} {(message?.reply_to_message?.meta?.model_id ?? message?.reply_to_message?.user_id) ===\n\t\t$user?.id\n\t\t\t? 'border-l-4 border-orange-500 bg-orange-100/10 dark:bg-orange-100/5 pl-4'\n\t\t\t: ''}\"\n\t>\n\t\t{#if !edit && !disabled}\n\t\t\t<div\n\t\t\t\tclass=\" absolute {showButtons ? '' : 'invisible group-hover:visible'} right-1 -top-2 z-10\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex gap-1 rounded-lg bg-white dark:bg-gray-850 shadow-md p-0.5 border border-gray-100 dark:border-gray-850\"\n\t\t\t\t>\n\t\t\t\t\t<EmojiPicker\n\t\t\t\t\t\tonClose={() => (showButtons = false)}\n\t\t\t\t\t\tonSubmit={(name) => {\n\t\t\t\t\t\t\tshowButtons = false;\n\t\t\t\t\t\t\tonReaction(name);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Add Reaction')}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tshowButtons = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FaceSmile />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</EmojiPicker>\n\n\t\t\t\t\t<Tooltip content={$i18n.t('Reply')}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-0.5\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tonReply(message);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ArrowUpLeftAlt className=\"size-5\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t{#if !thread}\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Reply in Thread')}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tonThread(message.id);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ChatBubbleOvalEllipsis />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t{#if message.user_id === $user?.id || $user?.role === 'admin'}\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Edit')}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tedit = true;\n\t\t\t\t\t\t\t\t\teditedContent = message.content;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Pencil />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete')}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"hover:bg-gray-100 dark:hover:bg-gray-800 transition rounded-lg p-1\"\n\t\t\t\t\t\t\t\ton:click={() => (showDeleteConfirmDialog = true)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<GarbageBin />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t{#if message?.reply_to_message?.user}\n\t\t\t<div class=\"relative text-xs mb-1\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"absolute h-3 w-7 left-[18px] top-2 rounded-tl-lg border-t-2 border-l-2 border-gray-300 dark:border-gray-500 z-0\"\n\t\t\t\t></div>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"ml-12 flex items-center space-x-2 relative z-0\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tconst messageElement = document.getElementById(\n\t\t\t\t\t\t\t`message-${message.reply_to_message.id}`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (messageElement) {\n\t\t\t\t\t\t\tmessageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n\t\t\t\t\t\t\tmessageElement.classList.add('highlight');\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tmessageElement.classList.remove('highlight');\n\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{#if message?.reply_to_message?.meta?.model_id}\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/models/model/profile/image?id=${message.reply_to_message.meta.model_id}`}\n\t\t\t\t\t\t\talt={message.reply_to_message.meta.model_name ??\n\t\t\t\t\t\t\t\tmessage.reply_to_message.meta.model_id}\n\t\t\t\t\t\t\tclass=\"size-4 ml-0.5 rounded-full object-cover\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={message.reply_to_message.user?.profile_image_url ??\n\t\t\t\t\t\t\t\t`${WEBUI_BASE_URL}/static/favicon.png`}\n\t\t\t\t\t\t\talt={message.reply_to_message.user?.name ?? $i18n.t('Unknown User')}\n\t\t\t\t\t\t\tclass=\"size-4 ml-0.5 rounded-full object-cover\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t{message?.reply_to_message.meta?.model_name ??\n\t\t\t\t\t\t\tmessage?.reply_to_message.user?.name ??\n\t\t\t\t\t\t\t$i18n.t('Unknown User')}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"italic text-sm text-gray-500 dark:text-gray-400 line-clamp-1 w-full flex-1\">\n\t\t\t\t\t\t<Markdown id={`${message.id}-reply-to`} content={message?.reply_to_message?.content} />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t{/if}\n\t\t<div\n\t\t\tclass=\" flex w-full message-{message.id}\"\n\t\t\tid=\"message-{message.id}\"\n\t\t\tdir={$settings.chatDirection}\n\t\t>\n\t\t\t<div class={`shrink-0 mr-3 w-9`}>\n\t\t\t\t{#if showUserProfile}\n\t\t\t\t\t{#if message?.meta?.model_id}\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={`${WEBUI_API_BASE_URL}/models/model/profile/image?id=${message.meta.model_id}`}\n\t\t\t\t\t\t\talt={message.meta.model_name ?? message.meta.model_id}\n\t\t\t\t\t\t\tclass=\"size-8 translate-y-1 ml-0.5 object-cover rounded-full\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<ProfilePreview user={message.user}>\n\t\t\t\t\t\t\t<ProfileImage\n\t\t\t\t\t\t\t\tsrc={message.user?.profile_image_url ?? `${WEBUI_BASE_URL}/static/favicon.png`}\n\t\t\t\t\t\t\t\tclassName={'size-8 ml-0.5'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ProfilePreview>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<!-- <div class=\"w-7 h-7 rounded-full bg-transparent\" /> -->\n\n\t\t\t\t\t{#if message.created_at}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"mt-1.5 flex shrink-0 items-center text-xs self-center invisible group-hover:visible text-gray-500 font-medium first-letter:capitalize\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tooltip content={dayjs(message.created_at / 1000000).format('LLLL')}>\n\t\t\t\t\t\t\t\t{dayjs(message.created_at / 1000000).format('HH:mm')}\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"flex-auto w-0 pl-1\">\n\t\t\t\t{#if showUserProfile}\n\t\t\t\t\t<Name>\n\t\t\t\t\t\t<div class=\" self-end text-base shrink-0 font-medium truncate\">\n\t\t\t\t\t\t\t{#if message?.meta?.model_id}\n\t\t\t\t\t\t\t\t{message?.meta?.model_name ?? message?.meta?.model_id}\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t{message?.user?.name}\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if message.created_at}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\" self-center text-xs invisible group-hover:visible text-gray-400 font-medium first-letter:capitalize ml-0.5 translate-y-[1px]\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Tooltip content={dayjs(message.created_at / 1000000).format('LLLL')}>\n\t\t\t\t\t\t\t\t\t<span class=\"line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t(formatDate(message.created_at / 1000000), {\n\t\t\t\t\t\t\t\t\t\t\tLOCALIZED_TIME: dayjs(message.created_at / 1000000).format('LT'),\n\t\t\t\t\t\t\t\t\t\t\tLOCALIZED_DATE: dayjs(message.created_at / 1000000).format('L')\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</Name>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if (message?.data?.files ?? []).length > 0}\n\t\t\t\t\t<div class=\"my-2.5 w-full flex overflow-x-auto gap-2 flex-wrap\">\n\t\t\t\t\t\t{#each message?.data?.files as file}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{#if file.type === 'image'}\n\t\t\t\t\t\t\t\t\t<Image src={file.url} alt={file.name} imageClassName=\" max-h-96 rounded-lg\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<FileItem\n\t\t\t\t\t\t\t\t\t\titem={file}\n\t\t\t\t\t\t\t\t\t\turl={file.url}\n\t\t\t\t\t\t\t\t\t\tname={file.name}\n\t\t\t\t\t\t\t\t\t\ttype={file.type}\n\t\t\t\t\t\t\t\t\t\tsize={file?.size}\n\t\t\t\t\t\t\t\t\t\tsmall={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if edit}\n\t\t\t\t\t<div class=\"py-2\">\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tclassName=\" bg-transparent outline-hidden w-full resize-none\"\n\t\t\t\t\t\t\tbind:value={editedContent}\n\t\t\t\t\t\t\tonKeydown={(e) => {\n\t\t\t\t\t\t\t\tif (e.key === 'Escape') {\n\t\t\t\t\t\t\t\t\tdocument.getElementById('close-edit-message-button')?.click();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst isCmdOrCtrlPressed = e.metaKey || e.ctrlKey;\n\t\t\t\t\t\t\t\tconst isEnterPressed = e.key === 'Enter';\n\n\t\t\t\t\t\t\t\tif (isCmdOrCtrlPressed && isEnterPressed) {\n\t\t\t\t\t\t\t\t\tdocument.getElementById('confirm-edit-message-button')?.click();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\" mt-2 mb-1 flex justify-end text-sm font-medium\">\n\t\t\t\t\t\t\t<div class=\"flex space-x-1.5\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tid=\"close-edit-message-button\"\n\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 bg-white dark:bg-gray-900 hover:bg-gray-100 text-gray-800 dark:text-gray-100 transition rounded-3xl\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tedit = false;\n\t\t\t\t\t\t\t\t\t\teditedContent = null;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Cancel')}\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tid=\"confirm-edit-message-button\"\n\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 bg-gray-900 dark:bg-white hover:bg-gray-850 text-gray-100 dark:text-gray-800 transition rounded-3xl\"\n\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\tonEdit(editedContent);\n\t\t\t\t\t\t\t\t\t\tedit = false;\n\t\t\t\t\t\t\t\t\t\teditedContent = null;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Save')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\" min-w-full markdown-prose\">\n\t\t\t\t\t\t{#if (message?.content ?? '').trim() === '' && message?.meta?.model_id}\n\t\t\t\t\t\t\t<Skeleton />\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<Markdown\n\t\t\t\t\t\t\t\tid={message.id}\n\t\t\t\t\t\t\t\tcontent={message.content}\n\t\t\t\t\t\t\t/>{#if message.created_at !== message.updated_at && (message?.meta?.model_id ?? null) === null}<span\n\t\t\t\t\t\t\t\t\tclass=\"text-gray-500 text-[10px]\">({$i18n.t('edited')})</span\n\t\t\t\t\t\t\t\t>{/if}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if (message?.reactions ?? []).length > 0}\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"flex items-center flex-wrap gap-y-1.5 gap-1 mt-1 mb-2\">\n\t\t\t\t\t\t\t\t{#each message.reactions as reaction}\n\t\t\t\t\t\t\t\t\t<Tooltip content={`:${reaction.name}:`}>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center gap-1.5 transition rounded-xl px-2 py-1 cursor-pointer {reaction.user_ids.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t$user?.id\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t? ' bg-blue-300/10 outline outline-blue-500/50 outline-1'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'bg-gray-300/10 dark:bg-gray-500/10 hover:outline hover:outline-gray-700/30 dark:hover:outline-gray-300/30 hover:outline-1'}\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tonReaction(reaction.name);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Emoji shortCode={reaction.name} />\n\n\t\t\t\t\t\t\t\t\t\t\t{#if reaction.user_ids.length > 0}\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{reaction.user_ids?.length}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t\t\t<EmojiPicker\n\t\t\t\t\t\t\t\t\tonSubmit={(name) => {\n\t\t\t\t\t\t\t\t\t\tonReaction(name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Add Reaction')}>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center gap-1.5 bg-gray-500/10 hover:outline hover:outline-gray-700/30 dark:hover:outline-gray-300/30 hover:outline-1 transition rounded-xl px-1 py-1 cursor-pointer text-gray-500 dark:text-gray-400\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FaceSmile />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</EmojiPicker>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t{#if !thread && message.reply_count > 0}\n\t\t\t\t\t\t<div class=\"flex items-center gap-1.5 -mt-0.5 mb-1.5\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"flex items-center text-xs py-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tonThread(message.id);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"font-medium mr-1\">\n\t\t\t\t\t\t\t\t\t{$i18n.t('{{COUNT}} Replies', { COUNT: message.reply_count })}</span\n\t\t\t\t\t\t\t\t><span>\n\t\t\t\t\t\t\t\t\t{' - '}{$i18n.t('Last reply')}\n\t\t\t\t\t\t\t\t\t{dayjs.unix(message.latest_reply_at / 1000000000).fromNow()}</span\n\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t<span class=\"ml-1\">\n\t\t\t\t\t\t\t\t\t<ChevronRight className=\"size-2.5\" strokeWidth=\"3\" />\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<!-- {$i18n.t('View Replies')} -->\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{/if}\n\n<style>\n\t.highlight {\n\t\tanimation: highlightAnimation 2s ease-in-out;\n\t}\n\n\t@keyframes highlightAnimation {\n\t\t0% {\n\t\t\tbackground-color: rgba(0, 60, 255, 0.1);\n\t\t}\n\t\t100% {\n\t\t\tbackground-color: transparent;\n\t\t}\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\timport isToday from 'dayjs/plugin/isToday';\n\timport isYesterday from 'dayjs/plugin/isYesterday';\n\n\tdayjs.extend(relativeTime);\n\tdayjs.extend(isToday);\n\tdayjs.extend(isYesterday);\n\timport { tick, getContext, onMount, createEventDispatcher } from 'svelte';\n\n\timport { settings, user } from '$lib/stores';\n\n\timport Message from './Messages/Message.svelte';\n\timport Loader from '../common/Loader.svelte';\n\timport Spinner from '../common/Spinner.svelte';\n\timport { addReaction, deleteMessage, removeReaction, updateMessage } from '$lib/apis/channels';\n\n\tconst i18n = getContext('i18n');\n\n\texport let id = null;\n\texport let channel = null;\n\texport let messages = [];\n\texport let replyToMessage = null;\n\texport let top = false;\n\texport let thread = false;\n\n\texport let onLoad: Function = () => {};\n\texport let onReply: Function = () => {};\n\texport let onThread: Function = () => {};\n\n\tlet messagesLoading = false;\n\n\tconst loadMoreMessages = async () => {\n\t\t// scroll slightly down to disable continuous loading\n\t\tconst element = document.getElementById('messages-container');\n\t\telement.scrollTop = element.scrollTop + 100;\n\n\t\tmessagesLoading = true;\n\n\t\tawait onLoad();\n\n\t\tawait tick();\n\t\tmessagesLoading = false;\n\t};\n</script>\n\n{#if messages}\n\t{@const messageList = messages.slice().reverse()}\n\t<div>\n\t\t{#if !top}\n\t\t\t<Loader\n\t\t\t\ton:visible={(e) => {\n\t\t\t\t\tconsole.info('visible');\n\t\t\t\t\tif (!messagesLoading) {\n\t\t\t\t\t\tloadMoreMessages();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\"w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2\">\n\t\t\t\t\t<Spinner className=\" size-4\" />\n\t\t\t\t\t<div class=\" \">{$i18n.t('Loading...')}</div>\n\t\t\t\t</div>\n\t\t\t</Loader>\n\t\t{:else if !thread}\n\t\t\t<div class=\"px-5 max-w-full mx-auto\">\n\t\t\t\t{#if channel}\n\t\t\t\t\t<div class=\"flex flex-col gap-1.5 pb-5 pt-10\">\n\t\t\t\t\t\t<div class=\"text-2xl font-medium capitalize\">{channel.name}</div>\n\n\t\t\t\t\t\t<div class=\" text-gray-500\">\n\t\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\t'This channel was created on {{createdAt}}. This is the very beginning of the {{channelName}} channel.',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcreatedAt: dayjs(channel.created_at / 1000000).format('MMMM D, YYYY'),\n\t\t\t\t\t\t\t\t\tchannelName: channel.name\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"flex justify-center text-xs items-center gap-2 py-5\">\n\t\t\t\t\t\t<div class=\" \">{$i18n.t('Start of the channel')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if messageList.length > 0}\n\t\t\t\t\t<hr class=\" border-gray-50 dark:border-gray-700/20 py-2.5 w-full\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t{#each messageList as message, messageIdx (id ? `${id}-${message.id}` : message.id)}\n\t\t\t<Message\n\t\t\t\t{message}\n\t\t\t\t{thread}\n\t\t\t\treplyToMessage={replyToMessage?.id === message.id}\n\t\t\t\tdisabled={!channel?.write_access}\n\t\t\t\tshowUserProfile={messageIdx === 0 ||\n\t\t\t\t\tmessageList.at(messageIdx - 1)?.user_id !== message.user_id ||\n\t\t\t\t\tmessageList.at(messageIdx - 1)?.meta?.model_id !== message?.meta?.model_id ||\n\t\t\t\t\tmessage?.reply_to_message}\n\t\t\t\tonDelete={() => {\n\t\t\t\t\tmessages = messages.filter((m) => m.id !== message.id);\n\n\t\t\t\t\tconst res = deleteMessage(localStorage.token, message.channel_id, message.id).catch(\n\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t\tonEdit={(content) => {\n\t\t\t\t\tmessages = messages.map((m) => {\n\t\t\t\t\t\tif (m.id === message.id) {\n\t\t\t\t\t\t\tm.content = content;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn m;\n\t\t\t\t\t});\n\n\t\t\t\t\tconst res = updateMessage(localStorage.token, message.channel_id, message.id, {\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t}).catch((error) => {\n\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tonReply={(message) => {\n\t\t\t\t\tonReply(message);\n\t\t\t\t}}\n\t\t\t\tonThread={(id) => {\n\t\t\t\t\tonThread(id);\n\t\t\t\t}}\n\t\t\t\tonReaction={(name) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t(message?.reactions ?? [])\n\t\t\t\t\t\t\t.find((reaction) => reaction.name === name)\n\t\t\t\t\t\t\t?.user_ids?.includes($user?.id) ??\n\t\t\t\t\t\tfalse\n\t\t\t\t\t) {\n\t\t\t\t\t\tmessages = messages.map((m) => {\n\t\t\t\t\t\t\tif (m.id === message.id) {\n\t\t\t\t\t\t\t\tconst reaction = m.reactions.find((reaction) => reaction.name === name);\n\n\t\t\t\t\t\t\t\tif (reaction) {\n\t\t\t\t\t\t\t\t\treaction.user_ids = reaction.user_ids.filter((id) => id !== $user?.id);\n\t\t\t\t\t\t\t\t\treaction.count = reaction.user_ids.length;\n\n\t\t\t\t\t\t\t\t\tif (reaction.count === 0) {\n\t\t\t\t\t\t\t\t\t\tm.reactions = m.reactions.filter((r) => r.name !== name);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn m;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst res = removeReaction(\n\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\tmessage.channel_id,\n\t\t\t\t\t\t\tmessage.id,\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t).catch((error) => {\n\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmessages = messages.map((m) => {\n\t\t\t\t\t\t\tif (m.id === message.id) {\n\t\t\t\t\t\t\t\tif (m.reactions) {\n\t\t\t\t\t\t\t\t\tconst reaction = m.reactions.find((reaction) => reaction.name === name);\n\n\t\t\t\t\t\t\t\t\tif (reaction) {\n\t\t\t\t\t\t\t\t\t\treaction.user_ids.push($user?.id);\n\t\t\t\t\t\t\t\t\t\treaction.count = reaction.user_ids.length;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tm.reactions.push({\n\t\t\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\t\t\tuser_ids: [$user?.id],\n\t\t\t\t\t\t\t\t\t\t\tcount: 1\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn m;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst res = addReaction(localStorage.token, message.channel_id, message.id, name).catch(\n\t\t\t\t\t\t\t(error) => {\n\t\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t{/each}\n\n\t\t<div class=\"pb-6\" />\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\timport { getContext } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\n\timport { mobile, showArchivedChats, showSidebar, user } from '$lib/stores';\n\n\timport { slide } from 'svelte/transition';\n\timport { page } from '$app/stores';\n\n\timport UserMenu from '$lib/components/layout/Sidebar/UserMenu.svelte';\n\timport PencilSquare from '../icons/PencilSquare.svelte';\n\timport Tooltip from '../common/Tooltip.svelte';\n\timport Sidebar from '../icons/Sidebar.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let channel;\n</script>\n\n<nav class=\"sticky top-0 z-30 w-full px-1.5 py-1.5 -mb-8 flex items-center drag-region\">\n\t<div\n\t\tclass=\" bg-linear-to-b via-50% from-white via-white to-transparent dark:from-gray-900 dark:via-gray-900 dark:to-transparent pointer-events-none absolute inset-0 -bottom-7 z-[-1]\"\n\t></div>\n\n\t<div class=\" flex max-w-full w-full mx-auto px-1 pt-0.5 bg-transparent\">\n\t\t<div class=\"flex items-center w-full max-w-full\">\n\t\t\t{#if $mobile}\n\t\t\t\t<div\n\t\t\t\t\tclass=\"{$showSidebar\n\t\t\t\t\t\t? 'md:hidden'\n\t\t\t\t\t\t: ''} mr-1.5 mt-0.5 self-start flex flex-none items-center text-gray-600 dark:text-gray-400\"\n\t\t\t\t>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tcontent={$showSidebar ? $i18n.t('Close Sidebar') : $i18n.t('Open Sidebar')}\n\t\t\t\t\t\tinteractive={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"sidebar-toggle-button\"\n\t\t\t\t\t\t\tclass=\" cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowSidebar.set(!$showSidebar);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\" self-center p-1.5\">\n\t\t\t\t\t\t\t\t<Sidebar />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div\n\t\t\t\tclass=\"flex-1 overflow-hidden max-w-full py-0.5\n\t\t\t{$showSidebar ? 'ml-1' : ''}\n\t\t\t\"\n\t\t\t>\n\t\t\t\t{#if channel}\n\t\t\t\t\t<div class=\"line-clamp-1 capitalize font-medium font-primary text-lg\">\n\t\t\t\t\t\t{channel.name}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"self-start flex flex-none items-center text-gray-600 dark:text-gray-400\">\n\t\t\t\t{#if $user !== undefined}\n\t\t\t\t\t<UserMenu\n\t\t\t\t\t\tclassName=\"max-w-[240px]\"\n\t\t\t\t\t\trole={$user?.role}\n\t\t\t\t\t\thelp={true}\n\t\t\t\t\t\ton:show={(e) => {\n\t\t\t\t\t\t\tif (e.detail === 'archived-chat') {\n\t\t\t\t\t\t\t\tshowArchivedChats.set(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"select-none flex rounded-xl p-1.5 w-full hover:bg-gray-50 dark:hover:bg-gray-850 transition\"\n\t\t\t\t\t\t\taria-label=\"User Menu\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={$user?.profile_image_url}\n\t\t\t\t\t\t\t\t\tclass=\"size-6 object-cover rounded-full\"\n\t\t\t\t\t\t\t\t\talt=\"User profile\"\n\t\t\t\t\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</UserMenu>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</nav>\n","<script lang=\"ts\">\n\timport { goto } from '$app/navigation';\n\n\timport { socket, user } from '$lib/stores';\n\n\timport { getChannelThreadMessages, sendMessage } from '$lib/apis/channels';\n\n\timport XMark from '$lib/components/icons/XMark.svelte';\n\timport MessageInput from './MessageInput.svelte';\n\timport Messages from './Messages.svelte';\n\timport { onDestroy, onMount, tick, getContext } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\timport Spinner from '../common/Spinner.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let threadId = null;\n\texport let channel = null;\n\n\texport let onClose = () => {};\n\n\tlet messages = null;\n\tlet top = false;\n\n\tlet messagesContainerElement = null;\n\tlet chatInputElement = null;\n\n\tlet replyToMessage = null;\n\n\tlet typingUsers = [];\n\tlet typingUsersTimeout = {};\n\n\t$: if (threadId) {\n\t\tinitHandler();\n\t}\n\n\tconst scrollToBottom = () => {\n\t\tmessagesContainerElement.scrollTop = messagesContainerElement.scrollHeight;\n\t};\n\n\tconst initHandler = async () => {\n\t\tmessages = null;\n\t\ttop = false;\n\n\t\ttypingUsers = [];\n\t\ttypingUsersTimeout = {};\n\n\t\tif (channel) {\n\t\t\tmessages = await getChannelThreadMessages(localStorage.token, channel.id, threadId);\n\n\t\t\tif (messages.length < 50) {\n\t\t\t\ttop = true;\n\t\t\t}\n\n\t\t\tawait tick();\n\t\t\tscrollToBottom();\n\t\t} else {\n\t\t\tgoto('/');\n\t\t}\n\t};\n\n\tconst channelEventHandler = async (event) => {\n\t\tconsole.debug(event);\n\t\tif (event.channel_id === channel.id) {\n\t\t\tconst type = event?.data?.type ?? null;\n\t\t\tconst data = event?.data?.data ?? null;\n\n\t\t\tif (type === 'message') {\n\t\t\t\tif ((data?.parent_id ?? null) === threadId) {\n\t\t\t\t\tif (messages) {\n\t\t\t\t\t\tmessages = [data, ...messages];\n\n\t\t\t\t\t\tif (typingUsers.find((user) => user.id === event.user.id)) {\n\t\t\t\t\t\t\ttypingUsers = typingUsers.filter((user) => user.id !== event.user.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'message:update') {\n\t\t\t\tif (messages) {\n\t\t\t\t\tconst idx = messages.findIndex((message) => message.id === data.id);\n\n\t\t\t\t\tif (idx !== -1) {\n\t\t\t\t\t\tmessages[idx] = data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'message:delete') {\n\t\t\t\tif (messages) {\n\t\t\t\t\tmessages = messages.filter((message) => message.id !== data.id);\n\t\t\t\t}\n\t\t\t} else if (type.includes('message:reaction')) {\n\t\t\t\tif (messages) {\n\t\t\t\t\tconst idx = messages.findIndex((message) => message.id === data.id);\n\t\t\t\t\tif (idx !== -1) {\n\t\t\t\t\t\tmessages[idx] = data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'typing' && event.message_id === threadId) {\n\t\t\t\tif (event.user.id === $user?.id) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttypingUsers = data.typing\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t...typingUsers,\n\t\t\t\t\t\t\t...(typingUsers.find((user) => user.id === event.user.id)\n\t\t\t\t\t\t\t\t? []\n\t\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tid: event.user.id,\n\t\t\t\t\t\t\t\t\t\t\tname: event.user.name\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]\n\t\t\t\t\t: typingUsers.filter((user) => user.id !== event.user.id);\n\n\t\t\t\tif (typingUsersTimeout[event.user.id]) {\n\t\t\t\t\tclearTimeout(typingUsersTimeout[event.user.id]);\n\t\t\t\t}\n\n\t\t\t\ttypingUsersTimeout[event.user.id] = setTimeout(() => {\n\t\t\t\t\ttypingUsers = typingUsers.filter((user) => user.id !== event.user.id);\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst submitHandler = async ({ content, data }) => {\n\t\tif (!content && (data?.files ?? []).length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await sendMessage(localStorage.token, channel.id, {\n\t\t\tparent_id: threadId,\n\t\t\treply_to_id: replyToMessage?.id ?? null,\n\t\t\tcontent: content,\n\t\t\tdata: data\n\t\t}).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\treplyToMessage = null;\n\t};\n\n\tconst onChange = async () => {\n\t\t$socket?.emit('events:channel', {\n\t\t\tchannel_id: channel.id,\n\t\t\tmessage_id: threadId,\n\t\t\tdata: {\n\t\t\t\ttype: 'typing',\n\t\t\t\tdata: {\n\t\t\t\t\ttyping: true\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tonMount(() => {\n\t\t$socket?.on('events:channel', channelEventHandler);\n\t});\n\n\tonDestroy(() => {\n\t\t$socket?.off('events:channel', channelEventHandler);\n\t});\n</script>\n\n{#if channel}\n\t<div class=\"flex flex-col w-full h-full bg-gray-50 dark:bg-gray-850\">\n\t\t<div class=\"sticky top-0 flex items-center justify-between px-3.5 py-3\">\n\t\t\t<div class=\" font-medium text-lg\">{$i18n.t('Thread')}</div>\n\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 p-2\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<XMark />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\" max-h-full w-full overflow-y-auto\" bind:this={messagesContainerElement}>\n\t\t\t{#if messages !== null}\n\t\t\t\t<Messages\n\t\t\t\t\tid={threadId}\n\t\t\t\t\t{channel}\n\t\t\t\t\t{top}\n\t\t\t\t\t{messages}\n\t\t\t\t\t{replyToMessage}\n\t\t\t\t\tthread={true}\n\t\t\t\t\tonReply={async (message) => {\n\t\t\t\t\t\treplyToMessage = message;\n\n\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\tchatInputElement?.focus();\n\t\t\t\t\t}}\n\t\t\t\t\tonLoad={async () => {\n\t\t\t\t\t\tconst newMessages = await getChannelThreadMessages(\n\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\tchannel.id,\n\t\t\t\t\t\t\tthreadId,\n\t\t\t\t\t\t\tmessages.length\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tmessages = [...messages, ...newMessages];\n\n\t\t\t\t\t\tif (newMessages.length < 50) {\n\t\t\t\t\t\t\ttop = true;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t{:else}\n\t\t\t\t<div class=\"w-full flex justify-center pt-5 pb-10\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div class=\" pb-[1rem] px-2.5 w-full\">\n\t\t\t\t<MessageInput\n\t\t\t\t\tbind:replyToMessage\n\t\t\t\t\tbind:chatInputElement\n\t\t\t\t\tid={threadId}\n\t\t\t\t\tdisabled={!channel?.write_access}\n\t\t\t\t\tplaceholder={!channel?.write_access\n\t\t\t\t\t\t? $i18n.t('You do not have permission to send messages in this thread.')\n\t\t\t\t\t\t: $i18n.t('Reply to thread...')}\n\t\t\t\t\ttypingUsersClassName=\"from-gray-50 dark:from-gray-850\"\n\t\t\t\t\t{typingUsers}\n\t\t\t\t\tuserSuggestions={true}\n\t\t\t\t\tchannelSuggestions={true}\n\t\t\t\t\t{onChange}\n\t\t\t\t\tonSubmit={submitHandler}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { Pane, PaneGroup, PaneResizer } from 'paneforge';\n\n\timport { onDestroy, onMount, tick } from 'svelte';\n\timport { goto } from '$app/navigation';\n\n\timport { chatId, showSidebar, socket, user } from '$lib/stores';\n\timport { getChannelById, getChannelMessages, sendMessage } from '$lib/apis/channels';\n\n\timport Messages from './Messages.svelte';\n\timport MessageInput from './MessageInput.svelte';\n\timport Navbar from './Navbar.svelte';\n\timport Drawer from '../common/Drawer.svelte';\n\timport EllipsisVertical from '../icons/EllipsisVertical.svelte';\n\timport Thread from './Thread.svelte';\n\timport i18n from '$lib/i18n';\n\n\texport let id = '';\n\n\tlet scrollEnd = true;\n\tlet messagesContainerElement = null;\n\tlet chatInputElement = null;\n\n\tlet top = false;\n\n\tlet channel = null;\n\tlet messages = null;\n\n\tlet replyToMessage = null;\n\tlet threadId = null;\n\n\tlet typingUsers = [];\n\tlet typingUsersTimeout = {};\n\n\t$: if (id) {\n\t\tinitHandler();\n\t}\n\n\tconst scrollToBottom = () => {\n\t\tif (messagesContainerElement) {\n\t\t\tmessagesContainerElement.scrollTop = messagesContainerElement.scrollHeight;\n\t\t}\n\t};\n\n\tconst initHandler = async () => {\n\t\ttop = false;\n\t\tmessages = null;\n\t\tchannel = null;\n\t\tthreadId = null;\n\n\t\ttypingUsers = [];\n\t\ttypingUsersTimeout = {};\n\n\t\tchannel = await getChannelById(localStorage.token, id).catch((error) => {\n\t\t\treturn null;\n\t\t});\n\n\t\tif (channel) {\n\t\t\tmessages = await getChannelMessages(localStorage.token, id, 0);\n\n\t\t\tif (messages) {\n\t\t\t\tscrollToBottom();\n\n\t\t\t\tif (messages.length < 50) {\n\t\t\t\t\ttop = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tgoto('/');\n\t\t}\n\t};\n\n\tconst channelEventHandler = async (event) => {\n\t\tif (event.channel_id === id) {\n\t\t\tconst type = event?.data?.type ?? null;\n\t\t\tconst data = event?.data?.data ?? null;\n\n\t\t\tif (type === 'message') {\n\t\t\t\tif ((data?.parent_id ?? null) === null) {\n\t\t\t\t\tmessages = [data, ...messages];\n\n\t\t\t\t\tif (typingUsers.find((user) => user.id === event.user.id)) {\n\t\t\t\t\t\ttypingUsers = typingUsers.filter((user) => user.id !== event.user.id);\n\t\t\t\t\t}\n\n\t\t\t\t\tawait tick();\n\t\t\t\t\tif (scrollEnd) {\n\t\t\t\t\t\tscrollToBottom();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === 'message:update') {\n\t\t\t\tconst idx = messages.findIndex((message) => message.id === data.id);\n\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tmessages[idx] = data;\n\t\t\t\t}\n\t\t\t} else if (type === 'message:delete') {\n\t\t\t\tmessages = messages.filter((message) => message.id !== data.id);\n\t\t\t} else if (type === 'message:reply') {\n\t\t\t\tconst idx = messages.findIndex((message) => message.id === data.id);\n\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tmessages[idx] = data;\n\t\t\t\t}\n\t\t\t} else if (type.includes('message:reaction')) {\n\t\t\t\tconst idx = messages.findIndex((message) => message.id === data.id);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tmessages[idx] = data;\n\t\t\t\t}\n\t\t\t} else if (type === 'typing' && event.message_id === null) {\n\t\t\t\tif (event.user.id === $user?.id) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttypingUsers = data.typing\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t...typingUsers,\n\t\t\t\t\t\t\t...(typingUsers.find((user) => user.id === event.user.id)\n\t\t\t\t\t\t\t\t? []\n\t\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tid: event.user.id,\n\t\t\t\t\t\t\t\t\t\t\tname: event.user.name\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]\n\t\t\t\t\t: typingUsers.filter((user) => user.id !== event.user.id);\n\n\t\t\t\tif (typingUsersTimeout[event.user.id]) {\n\t\t\t\t\tclearTimeout(typingUsersTimeout[event.user.id]);\n\t\t\t\t}\n\n\t\t\t\ttypingUsersTimeout[event.user.id] = setTimeout(() => {\n\t\t\t\t\ttypingUsers = typingUsers.filter((user) => user.id !== event.user.id);\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst submitHandler = async ({ content, data }) => {\n\t\tif (!content && (data?.files ?? []).length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await sendMessage(localStorage.token, id, {\n\t\t\tcontent: content,\n\t\t\tdata: data,\n\t\t\treply_to_id: replyToMessage?.id ?? null\n\t\t}).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tmessagesContainerElement.scrollTop = messagesContainerElement.scrollHeight;\n\t\t}\n\n\t\treplyToMessage = null;\n\t};\n\n\tconst onChange = async () => {\n\t\t$socket?.emit('events:channel', {\n\t\t\tchannel_id: id,\n\t\t\tmessage_id: null,\n\t\t\tdata: {\n\t\t\t\ttype: 'typing',\n\t\t\t\tdata: {\n\t\t\t\t\ttyping: true\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tlet mediaQuery;\n\tlet largeScreen = false;\n\n\tonMount(() => {\n\t\tif ($chatId) {\n\t\t\tchatId.set('');\n\t\t}\n\n\t\t$socket?.on('events:channel', channelEventHandler);\n\n\t\tmediaQuery = window.matchMedia('(min-width: 1024px)');\n\n\t\tconst handleMediaQuery = async (e) => {\n\t\t\tif (e.matches) {\n\t\t\t\tlargeScreen = true;\n\t\t\t} else {\n\t\t\t\tlargeScreen = false;\n\t\t\t}\n\t\t};\n\n\t\tmediaQuery.addEventListener('change', handleMediaQuery);\n\t\thandleMediaQuery(mediaQuery);\n\t});\n\n\tonDestroy(() => {\n\t\t$socket?.off('events:channel', channelEventHandler);\n\t});\n</script>\n\n<svelte:head>\n\t<title>#{channel?.name ?? 'Channel'} â€¢ Open WebUI</title>\n</svelte:head>\n\n<div\n\tclass=\"h-screen max-h-[100dvh] transition-width duration-200 ease-in-out {$showSidebar\n\t\t? 'md:max-w-[calc(100%-260px)]'\n\t\t: ''} w-full max-w-full flex flex-col\"\n\tid=\"channel-container\"\n>\n\t<PaneGroup direction=\"horizontal\" class=\"w-full h-full\">\n\t\t<Pane defaultSize={50} minSize={50} class=\"h-full flex flex-col w-full relative\">\n\t\t\t<Navbar {channel} />\n\n\t\t\t<div class=\"flex-1 overflow-y-auto\">\n\t\t\t\t{#if channel}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\" pb-2.5 max-w-full z-10 scrollbar-hidden w-full h-full pt-6 flex-1 flex flex-col-reverse overflow-auto\"\n\t\t\t\t\t\tid=\"messages-container\"\n\t\t\t\t\t\tbind:this={messagesContainerElement}\n\t\t\t\t\t\ton:scroll={(e) => {\n\t\t\t\t\t\t\tscrollEnd = Math.abs(messagesContainerElement.scrollTop) <= 50;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#key id}\n\t\t\t\t\t\t\t<Messages\n\t\t\t\t\t\t\t\t{channel}\n\t\t\t\t\t\t\t\t{top}\n\t\t\t\t\t\t\t\t{messages}\n\t\t\t\t\t\t\t\t{replyToMessage}\n\t\t\t\t\t\t\t\tonReply={async (message) => {\n\t\t\t\t\t\t\t\t\treplyToMessage = message;\n\t\t\t\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\t\t\t\tchatInputElement?.focus();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonThread={(id) => {\n\t\t\t\t\t\t\t\t\tthreadId = id;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonLoad={async () => {\n\t\t\t\t\t\t\t\t\tconst newMessages = await getChannelMessages(\n\t\t\t\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\tmessages.length\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tmessages = [...messages, ...newMessages];\n\n\t\t\t\t\t\t\t\t\tif (newMessages.length < 50) {\n\t\t\t\t\t\t\t\t\t\ttop = true;\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/key}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\" pb-[1rem] px-2.5\">\n\t\t\t\t<MessageInput\n\t\t\t\t\tid=\"root\"\n\t\t\t\t\tbind:chatInputElement\n\t\t\t\t\tbind:replyToMessage\n\t\t\t\t\t{typingUsers}\n\t\t\t\t\tuserSuggestions={true}\n\t\t\t\t\tchannelSuggestions={true}\n\t\t\t\t\tdisabled={!channel?.write_access}\n\t\t\t\t\tplaceholder={!channel?.write_access\n\t\t\t\t\t\t? $i18n.t('You do not have permission to send messages in this channel.')\n\t\t\t\t\t\t: $i18n.t('Type here...')}\n\t\t\t\t\t{onChange}\n\t\t\t\t\tonSubmit={submitHandler}\n\t\t\t\t\t{scrollToBottom}\n\t\t\t\t\t{scrollEnd}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Pane>\n\n\t\t{#if !largeScreen}\n\t\t\t{#if threadId !== null}\n\t\t\t\t<Drawer\n\t\t\t\t\tshow={threadId !== null}\n\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\tthreadId = null;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" {threadId !== null ? ' h-screen  w-full' : 'px-6 py-4'} h-full\">\n\t\t\t\t\t\t<Thread\n\t\t\t\t\t\t\t{threadId}\n\t\t\t\t\t\t\t{channel}\n\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\tthreadId = null;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Drawer>\n\t\t\t{/if}\n\t\t{:else if threadId !== null}\n\t\t\t<PaneResizer\n\t\t\t\tclass=\"relative flex items-center justify-center group border-l border-gray-50 dark:border-gray-850 hover:border-gray-200 dark:hover:border-gray-800  transition z-20\"\n\t\t\t\tid=\"controls-resizer\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\" absolute -left-1.5 -right-1.5 -top-0 -bottom-0 z-20 cursor-col-resize bg-transparent\"\n\t\t\t\t/>\n\t\t\t</PaneResizer>\n\n\t\t\t<Pane defaultSize={50} minSize={30} class=\"h-full w-full\">\n\t\t\t\t<div class=\"h-full w-full shadow-xl\">\n\t\t\t\t\t<Thread\n\t\t\t\t\t\t{threadId}\n\t\t\t\t\t\t{channel}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tthreadId = null;\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Pane>\n\t\t{/if}\n\t</PaneGroup>\n</div>\n","<script lang=\"ts\">\n\timport { page } from '$app/stores';\n\n\timport Channel from '$lib/components/channel/Channel.svelte';\n</script>\n\n<Channel id={$page.params.id} />\n"],"names":["_a","ctx","dirty","userstatuslinkpreview_changes","getContext","user","$$props","insert_hydration","target","svg","anchor","append_hydration","path","className","strokeWidth","path0","path1","if_block0","create_if_block_17","_b","create_if_block_15","create_if_block_9","if_block4","_d","_c","create_if_block_7","attr","div2","div2_class_value","div2_id_value","div2_dir_value","div3","div3_id_value","_e","_f","div0","div1","current","_g","_i","_h","_j","create_if_block_19","create_if_block_18","button","t2_value","create_if_block_16","set_data","t2","markdown_changes","src_url_equal","img","img_src_value","WEBUI_BASE_URL","WEBUI_API_BASE_URL","img_alt_value","if_block","create_if_block_14","dayjs","div","t","t_value","profilepreview_changes","profileimage_changes","formatDate","span","create_if_block_11","if_block1","create_if_block_10","i","each_blocks","fileitem_changes","image_changes","show_if","create_if_block_3","if_block2","create_if_block_2","button0","button1","t1","t1_value","t3","t3_value","create_if_block_6","each_value","ensure_array_like","create_if_block_4","button_class_value","emoji_changes","tooltip_changes","span0","span1","span2","t0","t0_value","t4","t4_value","create_if_block","relativeTime","isToday","isYesterday","localizedFormat","i18n","message","showUserProfile","thread","replyToMessage","disabled","onDelete","onEdit","onReply","onThread","onReaction","showButtons","edit","editedContent","showDeleteConfirmDialog","value","$$invalidate","func_1","name","click_handler_4","messageElement","e","isCmdOrCtrlPressed","isEnterPressed","reaction","child_ctx","hr","message_1_changes","get_if_ctx","id","channel","messages","top","onLoad","messagesLoading","loadMoreMessages","element","tick","m","deleteMessage","error","toast","content","updateMessage","$user","r","removeReaction","addReaction","usermenu_changes","create_if_block_1","nav","div4","showSidebar","$showSidebar","showArchivedChats","div5","messageinput_changes","threadId","onClose","messagesContainerElement","chatInputElement","typingUsers","typingUsersTimeout","scrollToBottom","initHandler","getChannelThreadMessages","goto","channelEventHandler","event","type","data","idx","submitHandler","sendMessage","onChange","$socket","onMount","onDestroy","newMessages","$$value","drawer_changes","div_class_value","scrollEnd","getChannelById","getChannelMessages","mediaQuery","largeScreen","$chatId","chatId","handleMediaQuery"],"mappings":"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"}